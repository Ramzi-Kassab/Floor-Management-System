
function getCookie(name) {
let cookieValue = null;
if (document.cookie && document.cookie !== '') {
const cookies = document.cookie.split(';');
for (let i = 0; i < cookies.length; i++) {
const cookie = cookies[i].trim();
if (cookie.substring(0, name.length + 1) === (name + '=')) {
cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
break;
}
}
}
return cookieValue;
}
window.getCookie = getCookie;
document.addEventListener('DOMContentLoaded', function() {
const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
return new bootstrap.Tooltip(tooltipTriggerEl);
});
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
anchor.addEventListener('click', function (e) {
e.preventDefault();
const target = document.querySelector(this.getAttribute('href'));
if (target) {
target.scrollIntoView({
behavior: 'smooth',
block: 'start'
});
}
});
});
setTimeout(function() {
const alerts = document.querySelectorAll('.alert:not(.alert-permanent)');
alerts.forEach(function(alert) {
const bsAlert = new bootstrap.Alert(alert);
bsAlert.close();
});
}, 5000);
document.addEventListener('keydown', function(e) {
if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
e.preventDefault();
const searchInput = document.getElementById('globalSearchInput') ||
document.querySelector('.search-input');
if (searchInput) {
searchInput.focus();
searchInput.select();
}
}
});
document.querySelectorAll('[data-confirm]').forEach(element => {
element.addEventListener('click', function(e) {
const message = this.dataset.confirm || 'Are you sure you want to proceed?';
if (!confirm(message)) {
e.preventDefault();
return false;
}
});
});
document.querySelectorAll('tr[data-href]').forEach(row => {
row.style.cursor = 'pointer';
row.addEventListener('click', function(e) {
if (e.target.tagName !== 'A' && e.target.tagName !== 'BUTTON' &&
!e.target.closest('a') && !e.target.closest('button')) {
window.location.href = this.dataset.href;
}
});
});
});
function formatNumber(num) {
return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
function debounce(func, wait) {
let timeout;
return function executedFunction(...args) {
const later = () => {
clearTimeout(timeout);
func(...args);
};
clearTimeout(timeout);
timeout = setTimeout(later, wait);
};
}
function showToast(message, type = 'info') {
console.log(`[${type.toUpperCase()}] ${message}`);
}
window.formatNumber = formatNumber;
window.debounce = debounce;
window.showToast = showToast;