{% extends "base.html" %}
{% load static %}

{% block title %}Candidates Database - Hiring Portal{% endblock %}

{% block extra_css %}
<style>
    .candidate-card {
        transition: all 0.3s;
        border: 1px solid #dee2e6;
    }
    .candidate-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transform: translateY(-2px);
    }
    .candidate-photo {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        object-fit: cover;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2rem;
        font-weight: bold;
    }
    .skill-tag {
        background-color: #e7f3ff;
        color: #0d6efd;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.85rem;
        margin: 0.25rem;
        display: inline-block;
    }
    .education-badge {
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        padding: 0.25rem 0.75rem;
        border-radius: 8px;
        font-size: 0.85rem;
    }
    .blacklist-badge {
        background-color: #dc3545;
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
    }
    .application-status {
        font-size: 0.8rem;
    }
    .stats-summary {
        border-left: 4px solid;
        transition: transform 0.2s;
    }
    .stats-summary:hover {
        transform: translateY(-3px);
    }
    .stats-summary.total { border-left-color: #0d6efd; }
    .stats-summary.shortlisted { border-left-color: #ffc107; }
    .stats-summary.interviewed { border-left-color: #6f42c1; }
    .stats-summary.hired { border-left-color: #198754; }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="mb-1">Candidates Database</h2>
            <p class="text-muted">Manage and track all candidates</p>
        </div>
        <div>
            <button class="btn btn-outline-primary me-2" data-bs-toggle="modal" data-bs-target="#bulkUploadModal">
                <i class="bi bi-upload"></i> Bulk Upload Resumes
            </button>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addCandidateModal">
                <i class="bi bi-person-plus"></i> Add Candidate
            </button>
        </div>
    </div>

    <!-- Statistics Summary -->
    <div class="row mb-4">
        <div class="col-md-3 mb-3">
            <div class="card stats-summary total">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Total Candidates</h6>
                            <h3 class="mb-0">1,247</h3>
                        </div>
                        <div class="text-primary">
                            <i class="bi bi-people fs-1"></i>
                        </div>
                    </div>
                    <small class="text-muted">All time</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="card stats-summary shortlisted">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Shortlisted</h6>
                            <h3 class="mb-0">186</h3>
                        </div>
                        <div class="text-warning">
                            <i class="bi bi-star fs-1"></i>
                        </div>
                    </div>
                    <small class="text-success">+12 this week</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="card stats-summary interviewed">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Interviewed</h6>
                            <h3 class="mb-0">94</h3>
                        </div>
                        <div class="text-purple">
                            <i class="bi bi-camera-video fs-1"></i>
                        </div>
                    </div>
                    <small class="text-muted">This month</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="card stats-summary hired">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Hired</h6>
                            <h3 class="mb-0">32</h3>
                        </div>
                        <div class="text-success">
                            <i class="bi bi-check-circle fs-1"></i>
                        </div>
                    </div>
                    <small class="text-muted">This quarter</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Filters and Search -->
    <div class="card mb-4">
        <div class="card-body">
            <div class="row g-3">
                <div class="col-md-3">
                    <input type="text" class="form-control" placeholder="Search by name, email, skills..." id="searchCandidates">
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="experienceFilter">
                        <option value="">All Experience Levels</option>
                        <option value="0-2">0-2 years</option>
                        <option value="2-5">2-5 years</option>
                        <option value="5-10">5-10 years</option>
                        <option value="10+">10+ years</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="educationFilter">
                        <option value="">All Education Levels</option>
                        <option value="highschool">High School</option>
                        <option value="bachelor">Bachelor's</option>
                        <option value="master">Master's</option>
                        <option value="phd">PhD</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="statusFilter">
                        <option value="">All Statuses</option>
                        <option value="new">New</option>
                        <option value="screening">Screening</option>
                        <option value="shortlisted">Shortlisted</option>
                        <option value="interviewed">Interviewed</option>
                        <option value="offered">Offered</option>
                        <option value="hired">Hired</option>
                        <option value="rejected">Rejected</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="blacklistFilter">
                        <option value="">Include All</option>
                        <option value="exclude">Exclude Blacklisted</option>
                        <option value="only">Only Blacklisted</option>
                    </select>
                </div>
                <div class="col-md-1">
                    <button class="btn btn-outline-secondary w-100">
                        <i class="bi bi-funnel"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Candidates Grid -->
    <div class="row">
        <!-- Candidate Card 1 -->
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card candidate-card h-100">
                <div class="card-body">
                    <div class="d-flex mb-3">
                        <div class="candidate-photo me-3">JS</div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1">
                                John Smith
                                <a href="https://linkedin.com" target="_blank" class="text-primary ms-1">
                                    <i class="bi bi-linkedin"></i>
                                </a>
                                <a href="#" class="text-secondary ms-1">
                                    <i class="bi bi-globe"></i>
                                </a>
                            </h5>
                            <p class="text-muted mb-1 small">
                                <i class="bi bi-envelope me-1"></i>john.smith@email.com
                            </p>
                            <p class="text-muted mb-0 small">
                                <i class="bi bi-telephone me-1"></i>+1 (555) 123-4567
                            </p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <p class="mb-1"><strong>Senior Software Engineer</strong></p>
                        <p class="text-muted small mb-1">TechCorp Inc.</p>
                        <p class="text-muted small mb-0">
                            <i class="bi bi-clock-history me-1"></i>8 years experience
                        </p>
                    </div>
                    <div class="mb-3">
                        <span class="education-badge">
                            <i class="bi bi-mortarboard me-1"></i>Master's in CS
                        </span>
                    </div>
                    <div class="mb-3">
                        <span class="skill-tag">JavaScript</span>
                        <span class="skill-tag">React</span>
                        <span class="skill-tag">Node.js</span>
                        <span class="skill-tag">Python</span>
                    </div>
                    <div class="mb-3">
                        <p class="small text-muted mb-1">Active Applications:</p>
                        <div class="application-status">
                            <span class="badge bg-warning">Senior Full Stack Developer - Interview</span>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-eye"></i> View Profile
                        </button>
                        <button class="btn btn-sm btn-outline-success">
                            <i class="bi bi-calendar-check"></i> Interview
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Candidate Card 2 -->
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card candidate-card h-100">
                <div class="card-body">
                    <div class="d-flex mb-3">
                        <div class="candidate-photo me-3">EJ</div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1">
                                Emily Johnson
                                <a href="https://linkedin.com" target="_blank" class="text-primary ms-1">
                                    <i class="bi bi-linkedin"></i>
                                </a>
                            </h5>
                            <p class="text-muted mb-1 small">
                                <i class="bi bi-envelope me-1"></i>emily.j@email.com
                            </p>
                            <p class="text-muted mb-0 small">
                                <i class="bi bi-telephone me-1"></i>+1 (555) 234-5678
                            </p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <p class="mb-1"><strong>Marketing Manager</strong></p>
                        <p class="text-muted small mb-1">Growth Solutions</p>
                        <p class="text-muted small mb-0">
                            <i class="bi bi-clock-history me-1"></i>5 years experience
                        </p>
                    </div>
                    <div class="mb-3">
                        <span class="education-badge">
                            <i class="bi bi-mortarboard me-1"></i>Bachelor's in Marketing
                        </span>
                    </div>
                    <div class="mb-3">
                        <span class="skill-tag">SEO</span>
                        <span class="skill-tag">Content Marketing</span>
                        <span class="skill-tag">Analytics</span>
                        <span class="skill-tag">PPC</span>
                    </div>
                    <div class="mb-3">
                        <p class="small text-muted mb-1">Active Applications:</p>
                        <div class="application-status">
                            <span class="badge bg-primary">Product Marketing Manager - Screening</span>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-eye"></i> View Profile
                        </button>
                        <button class="btn btn-sm btn-outline-success">
                            <i class="bi bi-calendar-check"></i> Interview
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Candidate Card 3 -->
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card candidate-card h-100">
                <div class="card-body">
                    <div class="d-flex mb-3">
                        <div class="candidate-photo me-3">MC</div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1">
                                Michael Chen
                                <a href="https://linkedin.com" target="_blank" class="text-primary ms-1">
                                    <i class="bi bi-linkedin"></i>
                                </a>
                                <a href="#" class="text-secondary ms-1">
                                    <i class="bi bi-globe"></i>
                                </a>
                            </h5>
                            <p class="text-muted mb-1 small">
                                <i class="bi bi-envelope me-1"></i>m.chen@email.com
                            </p>
                            <p class="text-muted mb-0 small">
                                <i class="bi bi-telephone me-1"></i>+1 (555) 345-6789
                            </p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <p class="mb-1"><strong>Data Scientist</strong></p>
                        <p class="text-muted small mb-1">Analytics Pro</p>
                        <p class="text-muted small mb-0">
                            <i class="bi bi-clock-history me-1"></i>6 years experience
                        </p>
                    </div>
                    <div class="mb-3">
                        <span class="education-badge">
                            <i class="bi bi-mortarboard me-1"></i>PhD in Statistics
                        </span>
                    </div>
                    <div class="mb-3">
                        <span class="skill-tag">Python</span>
                        <span class="skill-tag">Machine Learning</span>
                        <span class="skill-tag">SQL</span>
                        <span class="skill-tag">TensorFlow</span>
                    </div>
                    <div class="mb-3">
                        <p class="small text-muted mb-1">Active Applications:</p>
                        <div class="application-status">
                            <span class="badge bg-success">Data Analyst - Offered</span>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-eye"></i> View Profile
                        </button>
                        <button class="btn btn-sm btn-outline-success">
                            <i class="bi bi-calendar-check"></i> Interview
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Candidate Card 4 -->
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card candidate-card h-100">
                <div class="card-body">
                    <div class="d-flex mb-3">
                        <div class="candidate-photo me-3">SD</div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1">
                                Sarah Davis
                                <a href="https://linkedin.com" target="_blank" class="text-primary ms-1">
                                    <i class="bi bi-linkedin"></i>
                                </a>
                            </h5>
                            <p class="text-muted mb-1 small">
                                <i class="bi bi-envelope me-1"></i>sarah.davis@email.com
                            </p>
                            <p class="text-muted mb-0 small">
                                <i class="bi bi-telephone me-1"></i>+1 (555) 456-7890
                            </p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <p class="mb-1"><strong>UX Designer</strong></p>
                        <p class="text-muted small mb-1">Design Studio</p>
                        <p class="text-muted small mb-0">
                            <i class="bi bi-clock-history me-1"></i>4 years experience
                        </p>
                    </div>
                    <div class="mb-3">
                        <span class="education-badge">
                            <i class="bi bi-mortarboard me-1"></i>Bachelor's in Design
                        </span>
                    </div>
                    <div class="mb-3">
                        <span class="skill-tag">Figma</span>
                        <span class="skill-tag">UI/UX</span>
                        <span class="skill-tag">Sketch</span>
                        <span class="skill-tag">Prototyping</span>
                    </div>
                    <div class="mb-3">
                        <p class="small text-muted mb-1">Active Applications:</p>
                        <div class="application-status">
                            <span class="badge bg-info">UX Designer - Shortlisted</span>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-eye"></i> View Profile
                        </button>
                        <button class="btn btn-sm btn-outline-success">
                            <i class="bi bi-calendar-check"></i> Interview
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Candidate Card 5 (Blacklisted) -->
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card candidate-card h-100 border-danger">
                <div class="card-body">
                    <div class="d-flex mb-3">
                        <div class="candidate-photo me-3" style="background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);">RW</div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1">
                                Robert Wilson
                                <span class="blacklist-badge ms-2">BLACKLISTED</span>
                            </h5>
                            <p class="text-muted mb-1 small">
                                <i class="bi bi-envelope me-1"></i>r.wilson@email.com
                            </p>
                            <p class="text-muted mb-0 small">
                                <i class="bi bi-telephone me-1"></i>+1 (555) 567-8901
                            </p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <p class="mb-1"><strong>Sales Manager</strong></p>
                        <p class="text-muted small mb-1">SalesCorp</p>
                        <p class="text-muted small mb-0">
                            <i class="bi bi-clock-history me-1"></i>7 years experience
                        </p>
                    </div>
                    <div class="mb-3">
                        <span class="education-badge">
                            <i class="bi bi-mortarboard me-1"></i>Bachelor's in Business
                        </span>
                    </div>
                    <div class="alert alert-danger small mb-0">
                        <strong>Blacklist Reason:</strong> Failed background check - Previous employer issues
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-eye"></i> View Profile
                        </button>
                        <button class="btn btn-sm btn-outline-danger" disabled>
                            <i class="bi bi-ban"></i> Blacklisted
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Candidate Card 6 -->
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card candidate-card h-100">
                <div class="card-body">
                    <div class="d-flex mb-3">
                        <div class="candidate-photo me-3">LP</div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1">
                                Lisa Parker
                                <a href="https://linkedin.com" target="_blank" class="text-primary ms-1">
                                    <i class="bi bi-linkedin"></i>
                                </a>
                                <a href="#" class="text-secondary ms-1">
                                    <i class="bi bi-globe"></i>
                                </a>
                            </h5>
                            <p class="text-muted mb-1 small">
                                <i class="bi bi-envelope me-1"></i>lisa.p@email.com
                            </p>
                            <p class="text-muted mb-0 small">
                                <i class="bi bi-telephone me-1"></i>+1 (555) 678-9012
                            </p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <p class="mb-1"><strong>DevOps Engineer</strong></p>
                        <p class="text-muted small mb-1">Cloud Systems Inc.</p>
                        <p class="text-muted small mb-0">
                            <i class="bi bi-clock-history me-1"></i>9 years experience
                        </p>
                    </div>
                    <div class="mb-3">
                        <span class="education-badge">
                            <i class="bi bi-mortarboard me-1"></i>Master's in CS
                        </span>
                    </div>
                    <div class="mb-3">
                        <span class="skill-tag">AWS</span>
                        <span class="skill-tag">Docker</span>
                        <span class="skill-tag">Kubernetes</span>
                        <span class="skill-tag">CI/CD</span>
                    </div>
                    <div class="mb-3">
                        <p class="small text-muted mb-1">Active Applications:</p>
                        <div class="application-status">
                            <span class="badge bg-warning">DevOps Engineer - Interview</span>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-eye"></i> View Profile
                        </button>
                        <button class="btn btn-sm btn-outline-success">
                            <i class="bi bi-calendar-check"></i> Interview
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pagination -->
    <nav>
        <ul class="pagination justify-content-center">
            <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
        </ul>
    </nav>
</div>

<!-- Bulk Upload Modal -->
<div class="modal fade" id="bulkUploadModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Bulk Upload Resumes</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label">Upload Resumes (PDF, DOC, DOCX)</label>
                    <input type="file" class="form-control" multiple accept=".pdf,.doc,.docx">
                    <small class="text-muted">You can upload multiple files at once</small>
                </div>
                <div class="mb-3">
                    <label class="form-label">Associate with Job Posting (Optional)</label>
                    <select class="form-select">
                        <option value="">No specific job</option>
                        <option>Senior Full Stack Developer</option>
                        <option>Product Marketing Manager</option>
                        <option>DevOps Engineer</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Upload & Process</button>
            </div>
        </div>
    </div>
</div>

<!-- Add Candidate Modal -->
<div class="modal fade" id="addCandidateModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add New Candidate</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">First Name *</label>
                            <input type="text" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Last Name *</label>
                            <input type="text" class="form-control" required>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Email *</label>
                            <input type="email" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Phone</label>
                            <input type="tel" class="form-control">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Current Company</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Current Position</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Years of Experience</label>
                            <input type="number" class="form-control" min="0">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Education Level</label>
                            <select class="form-select">
                                <option>High School</option>
                                <option>Bachelor's</option>
                                <option>Master's</option>
                                <option>PhD</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Skills (comma-separated)</label>
                        <input type="text" class="form-control" placeholder="e.g., JavaScript, Python, React">
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">LinkedIn URL</label>
                            <input type="url" class="form-control">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Portfolio URL</label>
                            <input type="url" class="form-control">
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Upload Resume</label>
                        <input type="file" class="form-control" accept=".pdf,.doc,.docx">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Add Candidate</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}
{% endblock %}
