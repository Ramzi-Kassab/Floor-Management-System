{% extends "base.html" %}
{% load static %}

{% block title %}Interview Scheduler - Hiring Portal{% endblock %}

{% block extra_css %}
<style>
    .calendar-view {
        border: 1px solid #dee2e6;
        border-radius: 8px;
    }
    .calendar-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 1rem;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
    }
    .calendar-day {
        border: 1px solid #dee2e6;
        min-height: 120px;
        padding: 0.5rem;
        background: white;
        position: relative;
    }
    .calendar-day.other-month {
        background: #f8f9fa;
        color: #adb5bd;
    }
    .calendar-day.today {
        background: #e7f3ff;
        border-color: #0d6efd;
    }
    .calendar-event {
        font-size: 0.75rem;
        padding: 0.25rem;
        margin-bottom: 0.25rem;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
    }
    .calendar-event:hover {
        transform: translateX(2px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .calendar-event.phone { background: #cfe2ff; border-left: 3px solid #0d6efd; }
    .calendar-event.video { background: #d1e7dd; border-left: 3px solid #198754; }
    .calendar-event.in-person { background: #fff3cd; border-left: 3px solid #ffc107; }
    .calendar-event.technical { background: #e7d5f7; border-left: 3px solid #6f42c1; }
    .calendar-event.hr { background: #f8d7da; border-left: 3px solid #dc3545; }
    .calendar-event.final { background: #d1ecf1; border-left: 3px solid #0dcaf0; }

    .interview-card {
        border-left: 4px solid;
        transition: all 0.3s;
    }
    .interview-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transform: translateY(-2px);
    }
    .interview-card.phone { border-left-color: #0d6efd; }
    .interview-card.video { border-left-color: #198754; }
    .interview-card.in-person { border-left-color: #ffc107; }
    .interview-card.technical { border-left-color: #6f42c1; }
    .interview-card.hr { border-left-color: #dc3545; }
    .interview-card.final { border-left-color: #0dcaf0; }

    .feedback-rating {
        font-size: 1.2rem;
        color: #ffc107;
    }
    .stats-card {
        border-left: 4px solid;
        transition: transform 0.2s;
    }
    .stats-card:hover {
        transform: translateY(-3px);
    }
    .stats-card.scheduled { border-left-color: #0d6efd; }
    .stats-card.completed { border-left-color: #198754; }
    .stats-card.pending { border-left-color: #ffc107; }
    .stats-card.cancelled { border-left-color: #dc3545; }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="mb-1">Interview Scheduler</h2>
            <p class="text-muted">Manage and schedule candidate interviews</p>
        </div>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createInterviewModal">
            <i class="bi bi-calendar-plus"></i> Schedule Interview
        </button>
    </div>

    <!-- Statistics -->
    <div class="row mb-4">
        <div class="col-md-3 mb-3">
            <div class="card stats-card scheduled">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Scheduled</h6>
                            <h3 class="mb-0">18</h3>
                        </div>
                        <div class="text-primary">
                            <i class="bi bi-calendar-check fs-1"></i>
                        </div>
                    </div>
                    <small class="text-muted">This week</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="card stats-card completed">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Completed</h6>
                            <h3 class="mb-0">47</h3>
                        </div>
                        <div class="text-success">
                            <i class="bi bi-check-circle fs-1"></i>
                        </div>
                    </div>
                    <small class="text-success">This month</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="card stats-card pending">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">Pending Feedback</h6>
                            <h3 class="mb-0">5</h3>
                        </div>
                        <div class="text-warning">
                            <i class="bi bi-exclamation-triangle fs-1"></i>
                        </div>
                    </div>
                    <small class="text-warning">Requires action</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <div class="card stats-card cancelled">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="text-muted mb-1">No-shows</h6>
                            <h3 class="mb-0">2</h3>
                        </div>
                        <div class="text-danger">
                            <i class="bi bi-x-circle fs-1"></i>
                        </div>
                    </div>
                    <small class="text-muted">This month</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Filters -->
    <div class="card mb-4">
        <div class="card-body">
            <div class="row g-3">
                <div class="col-md-3">
                    <input type="text" class="form-control" placeholder="Search candidate, position..." id="searchInterview">
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="typeFilter">
                        <option value="">All Interview Types</option>
                        <option value="phone">Phone Screen</option>
                        <option value="video">Video Interview</option>
                        <option value="in-person">In-Person</option>
                        <option value="technical">Technical Assessment</option>
                        <option value="hr">HR Interview</option>
                        <option value="final">Final Interview</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="statusFilter">
                        <option value="">All Statuses</option>
                        <option value="scheduled">Scheduled</option>
                        <option value="completed">Completed</option>
                        <option value="cancelled">Cancelled</option>
                        <option value="rescheduled">Rescheduled</option>
                        <option value="no-show">No-show</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <input type="date" class="form-control" id="dateFilter">
                </div>
                <div class="col-md-2">
                    <select class="form-select" id="interviewerFilter">
                        <option value="">All Interviewers</option>
                        <option>Mike Chen</option>
                        <option>Sarah Johnson</option>
                        <option>Emily Davis</option>
                        <option>David Lee</option>
                    </select>
                </div>
                <div class="col-md-1">
                    <div class="btn-group w-100">
                        <button class="btn btn-outline-secondary" id="calendarViewBtn" title="Calendar View">
                            <i class="bi bi-calendar3"></i>
                        </button>
                        <button class="btn btn-outline-secondary active" id="listViewBtn" title="List View">
                            <i class="bi bi-list-ul"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Calendar View (Hidden by default) -->
    <div id="calendarViewContainer" style="display: none;">
        <div class="calendar-view mb-4">
            <div class="calendar-header">
                <div class="d-flex justify-content-between align-items-center">
                    <button class="btn btn-light btn-sm">
                        <i class="bi bi-chevron-left"></i>
                    </button>
                    <h4 class="mb-0">November 2025</h4>
                    <button class="btn btn-light btn-sm">
                        <i class="bi bi-chevron-right"></i>
                    </button>
                </div>
            </div>
            <div class="p-3">
                <div class="row g-0 border-bottom">
                    <div class="col text-center py-2 fw-bold">Sun</div>
                    <div class="col text-center py-2 fw-bold">Mon</div>
                    <div class="col text-center py-2 fw-bold">Tue</div>
                    <div class="col text-center py-2 fw-bold">Wed</div>
                    <div class="col text-center py-2 fw-bold">Thu</div>
                    <div class="col text-center py-2 fw-bold">Fri</div>
                    <div class="col text-center py-2 fw-bold">Sat</div>
                </div>
                <div class="row g-0">
                    <div class="col calendar-day other-month">
                        <div class="fw-bold">27</div>
                    </div>
                    <div class="col calendar-day other-month">
                        <div class="fw-bold">28</div>
                    </div>
                    <div class="col calendar-day other-month">
                        <div class="fw-bold">29</div>
                    </div>
                    <div class="col calendar-day other-month">
                        <div class="fw-bold">30</div>
                    </div>
                    <div class="col calendar-day other-month">
                        <div class="fw-bold">31</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">1</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">2</div>
                    </div>
                </div>
                <div class="row g-0">
                    <div class="col calendar-day">
                        <div class="fw-bold">3</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">4</div>
                        <div class="calendar-event phone">10:00 AM - John Smith</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">5</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">6</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">7</div>
                        <div class="calendar-event video">2:00 PM - Emily Johnson</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">8</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">9</div>
                    </div>
                </div>
                <div class="row g-0">
                    <div class="col calendar-day">
                        <div class="fw-bold">10</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">11</div>
                        <div class="calendar-event technical">11:00 AM - Michael Chen</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">12</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">13</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">14</div>
                        <div class="calendar-event in-person">9:00 AM - Sarah Davis</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">15</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">16</div>
                    </div>
                </div>
                <div class="row g-0">
                    <div class="col calendar-day">
                        <div class="fw-bold">17</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">18</div>
                    </div>
                    <div class="col calendar-day today">
                        <div class="fw-bold">19</div>
                        <div class="calendar-event hr">3:00 PM - Lisa Parker</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">20</div>
                        <div class="calendar-event technical">2:00 PM - John Smith</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">21</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">22</div>
                        <div class="calendar-event final">10:00 AM - Michael Chen</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">23</div>
                    </div>
                </div>
                <div class="row g-0">
                    <div class="col calendar-day">
                        <div class="fw-bold">24</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">25</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">26</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">27</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">28</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">29</div>
                    </div>
                    <div class="col calendar-day">
                        <div class="fw-bold">30</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Legend -->
        <div class="card mb-4">
            <div class="card-body">
                <h6 class="mb-3">Interview Types</h6>
                <div class="d-flex flex-wrap gap-3">
                    <span><span class="badge phone">Phone Screen</span></span>
                    <span><span class="badge video">Video Interview</span></span>
                    <span><span class="badge in-person">In-Person</span></span>
                    <span><span class="badge technical">Technical Assessment</span></span>
                    <span><span class="badge hr">HR Interview</span></span>
                    <span><span class="badge final">Final Interview</span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- List View -->
    <div id="listViewContainer">
        <!-- Interview Card 1 - Scheduled -->
        <div class="card interview-card technical mb-3">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div>
                                <h5 class="mb-1">Technical Interview</h5>
                                <p class="text-muted mb-0">Interview ID: INT-2025-0156</p>
                            </div>
                            <span class="badge bg-primary">Scheduled</span>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-person-circle me-2"></i>
                                    <strong>Candidate:</strong> John Smith
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-briefcase me-2"></i>
                                    <strong>Position:</strong> Senior Full Stack Developer
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-file-earmark-text me-2"></i>
                                    <strong>Application:</strong> #APP-2025-0342
                                </p>
                            </div>
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-calendar3 me-2"></i>
                                    <strong>Date:</strong> November 20, 2025
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-clock me-2"></i>
                                    <strong>Time:</strong> 2:00 PM - 3:30 PM
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-hourglass-split me-2"></i>
                                    <strong>Duration:</strong> 90 minutes
                                </p>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p class="mb-1"><strong>Interviewers:</strong></p>
                            <span class="badge bg-secondary me-1">Emily Johnson</span>
                            <span class="badge bg-secondary me-1">David Lee</span>
                        </div>
                        <div class="mb-0">
                            <p class="mb-1"><strong>Meeting Link:</strong></p>
                            <a href="#" target="_blank">https://meet.company.com/abc-def-ghi</a>
                        </div>
                    </div>
                    <div class="col-md-4 border-start">
                        <h6 class="mb-3">Actions</h6>
                        <div class="d-grid gap-2">
                            <button class="btn btn-sm btn-outline-primary">
                                <i class="bi bi-camera-video"></i> Join Meeting
                            </button>
                            <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#rescheduleModal">
                                <i class="bi bi-arrow-repeat"></i> Reschedule
                            </button>
                            <button class="btn btn-sm btn-outline-warning">
                                <i class="bi bi-send"></i> Send Reminder
                            </button>
                            <button class="btn btn-sm btn-outline-danger">
                                <i class="bi bi-x-circle"></i> Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interview Card 2 - Completed -->
        <div class="card interview-card phone mb-3">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div>
                                <h5 class="mb-1">Phone Screen Interview</h5>
                                <p class="text-muted mb-0">Interview ID: INT-2025-0144</p>
                            </div>
                            <span class="badge bg-success">Completed</span>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-person-circle me-2"></i>
                                    <strong>Candidate:</strong> Emily Johnson
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-briefcase me-2"></i>
                                    <strong>Position:</strong> Product Marketing Manager
                                </p>
                            </div>
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-calendar3 me-2"></i>
                                    <strong>Date:</strong> November 15, 2025
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-clock me-2"></i>
                                    <strong>Time:</strong> 10:00 AM - 10:30 AM
                                </p>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p class="mb-1"><strong>Interviewer:</strong></p>
                            <span class="badge bg-secondary">Sarah Johnson</span>
                        </div>
                        <div class="mb-3">
                            <p class="mb-1"><strong>Overall Rating:</strong></p>
                            <div class="feedback-rating">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                                <span class="ms-2 text-dark">4.5/5</span>
                            </div>
                        </div>
                        <div class="alert alert-success mb-0">
                            <strong>Recommendation:</strong> Strong Hire - Proceed to next round
                        </div>
                    </div>
                    <div class="col-md-4 border-start">
                        <h6 class="mb-3">Feedback Summary</h6>
                        <div class="mb-3">
                            <small class="text-muted">Technical Skills:</small>
                            <div class="progress mb-2" style="height: 20px;">
                                <div class="progress-bar bg-success" style="width: 90%;">4.5/5</div>
                            </div>
                            <small class="text-muted">Communication:</small>
                            <div class="progress mb-2" style="height: 20px;">
                                <div class="progress-bar bg-success" style="width: 100%;">5/5</div>
                            </div>
                            <small class="text-muted">Cultural Fit:</small>
                            <div class="progress mb-2" style="height: 20px;">
                                <div class="progress-bar bg-success" style="width: 80%;">4/5</div>
                            </div>
                        </div>
                        <button class="btn btn-sm btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#viewFeedbackModal">
                            <i class="bi bi-eye"></i> View Full Feedback
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interview Card 3 - Pending Feedback -->
        <div class="card interview-card hr mb-3">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div>
                                <h5 class="mb-1">HR Interview</h5>
                                <p class="text-muted mb-0">Interview ID: INT-2025-0150</p>
                            </div>
                            <span class="badge bg-warning">Pending Feedback</span>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-person-circle me-2"></i>
                                    <strong>Candidate:</strong> Lisa Parker
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-briefcase me-2"></i>
                                    <strong>Position:</strong> DevOps Engineer
                                </p>
                            </div>
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-calendar3 me-2"></i>
                                    <strong>Date:</strong> November 18, 2025
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-clock me-2"></i>
                                    <strong>Time:</strong> 3:00 PM - 4:00 PM
                                </p>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p class="mb-1"><strong>Interviewer:</strong></p>
                            <span class="badge bg-secondary">Sarah Johnson</span>
                        </div>
                        <div class="alert alert-warning mb-0">
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            Interview completed but feedback not submitted yet
                        </div>
                    </div>
                    <div class="col-md-4 border-start">
                        <h6 class="mb-3">Submit Feedback</h6>
                        <div class="d-grid gap-2">
                            <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#feedbackModal">
                                <i class="bi bi-pencil-square"></i> Submit Feedback
                            </button>
                            <button class="btn btn-sm btn-outline-danger">
                                <i class="bi bi-ban"></i> Mark No-show
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interview Card 4 - In-Person -->
        <div class="card interview-card in-person mb-3">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div>
                                <h5 class="mb-1">In-Person Interview</h5>
                                <p class="text-muted mb-0">Interview ID: INT-2025-0158</p>
                            </div>
                            <span class="badge bg-primary">Scheduled</span>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-person-circle me-2"></i>
                                    <strong>Candidate:</strong> Michael Chen
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-briefcase me-2"></i>
                                    <strong>Position:</strong> Data Analyst
                                </p>
                            </div>
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-calendar3 me-2"></i>
                                    <strong>Date:</strong> November 22, 2025
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-clock me-2"></i>
                                    <strong>Time:</strong> 10:00 AM - 11:30 PM
                                </p>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p class="mb-1"><strong>Interviewers:</strong></p>
                            <span class="badge bg-secondary me-1">Mike Chen</span>
                            <span class="badge bg-secondary me-1">David Lee</span>
                        </div>
                        <div class="mb-0">
                            <p class="mb-1"><strong>Location:</strong></p>
                            <p class="mb-0">
                                <i class="bi bi-geo-alt me-2"></i>
                                Conference Room A, 5th Floor, Main Office
                            </p>
                        </div>
                    </div>
                    <div class="col-md-4 border-start">
                        <h6 class="mb-3">Meeting Room</h6>
                        <div class="alert alert-info small mb-3">
                            <i class="bi bi-info-circle me-2"></i>
                            Room reserved and confirmed
                        </div>
                        <div class="d-grid gap-2">
                            <button class="btn btn-sm btn-outline-secondary">
                                <i class="bi bi-arrow-repeat"></i> Reschedule
                            </button>
                            <button class="btn btn-sm btn-outline-warning">
                                <i class="bi bi-send"></i> Send Reminder
                            </button>
                            <button class="btn btn-sm btn-outline-danger">
                                <i class="bi bi-x-circle"></i> Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interview Card 5 - No-show -->
        <div class="card interview-card video mb-3 border-danger">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-8">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div>
                                <h5 class="mb-1">Video Interview</h5>
                                <p class="text-muted mb-0">Interview ID: INT-2025-0145</p>
                            </div>
                            <span class="badge bg-danger">No-show</span>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-person-circle me-2"></i>
                                    <strong>Candidate:</strong> Robert Wilson
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-briefcase me-2"></i>
                                    <strong>Position:</strong> Sales Representative
                                </p>
                            </div>
                            <div class="col-md-6">
                                <p class="mb-2">
                                    <i class="bi bi-calendar3 me-2"></i>
                                    <strong>Date:</strong> November 16, 2025
                                </p>
                                <p class="mb-2">
                                    <i class="bi bi-clock me-2"></i>
                                    <strong>Time:</strong> 11:00 AM - 12:00 PM
                                </p>
                            </div>
                        </div>
                        <div class="alert alert-danger mb-0">
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            Candidate did not attend the scheduled interview
                        </div>
                    </div>
                    <div class="col-md-4 border-start">
                        <h6 class="mb-3">Actions</h6>
                        <div class="d-grid gap-2">
                            <button class="btn btn-sm btn-outline-primary">
                                <i class="bi bi-arrow-repeat"></i> Reschedule
                            </button>
                            <button class="btn btn-sm btn-outline-danger">
                                <i class="bi bi-x-circle"></i> Reject Application
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pagination -->
    <nav>
        <ul class="pagination justify-content-center">
            <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
        </ul>
    </nav>
</div>

<!-- Create Interview Modal -->
<div class="modal fade" id="createInterviewModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Schedule New Interview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Candidate / Application *</label>
                        <select class="form-select" required>
                            <option value="">Select candidate...</option>
                            <option>John Smith - Senior Full Stack Developer (#APP-2025-0342)</option>
                            <option>Emily Johnson - Product Marketing Manager (#APP-2025-0338)</option>
                            <option>Michael Chen - Data Analyst (#APP-2025-0329)</option>
                            <option>Sarah Davis - UX Designer (#APP-2025-0315)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Interview Type *</label>
                        <select class="form-select" required>
                            <option value="">Select type...</option>
                            <option value="phone">Phone Screen</option>
                            <option value="video">Video Interview</option>
                            <option value="in-person">In-Person Interview</option>
                            <option value="technical">Technical Assessment</option>
                            <option value="hr">HR Interview</option>
                            <option value="final">Final Interview</option>
                        </select>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Date *</label>
                            <input type="date" class="form-control" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Time *</label>
                            <input type="time" class="form-control" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Duration (minutes) *</label>
                        <select class="form-select" required>
                            <option value="30">30 minutes</option>
                            <option value="45">45 minutes</option>
                            <option value="60" selected>60 minutes</option>
                            <option value="90">90 minutes</option>
                            <option value="120">120 minutes</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Interviewers *</label>
                        <select class="form-select" multiple size="4" required>
                            <option>Mike Chen - Technical Lead</option>
                            <option>Sarah Johnson - HR Manager</option>
                            <option>Emily Davis - Senior Engineer</option>
                            <option>David Lee - Engineering Manager</option>
                            <option>Lisa Wong - Product Manager</option>
                        </select>
                        <small class="text-muted">Hold Ctrl/Cmd to select multiple interviewers</small>
                    </div>
                    <div class="mb-3" id="meetingLocationField">
                        <label class="form-label">Meeting Link / Location *</label>
                        <input type="text" class="form-control" placeholder="Video link or physical location" required>
                    </div>
                    <div class="mb-3" id="meetingRoomField" style="display: none;">
                        <label class="form-label">Meeting Room *</label>
                        <select class="form-select">
                            <option value="">Select room...</option>
                            <option>Conference Room A (5th Floor)</option>
                            <option>Conference Room B (5th Floor)</option>
                            <option>Meeting Room 1 (3rd Floor)</option>
                            <option>Interview Room (2nd Floor)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Notes / Agenda</label>
                        <textarea class="form-control" rows="3" placeholder="Interview agenda or special instructions"></textarea>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="sendInvites" checked>
                        <label class="form-check-label" for="sendInvites">
                            Send calendar invites to interviewers and candidate
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Schedule Interview</button>
            </div>
        </div>
    </div>
</div>

<!-- Feedback Modal -->
<div class="modal fade" id="feedbackModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Interview Feedback</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <h6 class="mb-3">Interview Details</h6>
                    <div class="alert alert-info">
                        <strong>Candidate:</strong> Lisa Parker<br>
                        <strong>Position:</strong> DevOps Engineer<br>
                        <strong>Date:</strong> November 18, 2025 at 3:00 PM
                    </div>

                    <h6 class="mb-3">Ratings</h6>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Technical Skills</label>
                            <div class="feedback-rating">
                                <i class="bi bi-star" data-rating="1"></i>
                                <i class="bi bi-star" data-rating="2"></i>
                                <i class="bi bi-star" data-rating="3"></i>
                                <i class="bi bi-star" data-rating="4"></i>
                                <i class="bi bi-star" data-rating="5"></i>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Communication Skills</label>
                            <div class="feedback-rating">
                                <i class="bi bi-star" data-rating="1"></i>
                                <i class="bi bi-star" data-rating="2"></i>
                                <i class="bi bi-star" data-rating="3"></i>
                                <i class="bi bi-star" data-rating="4"></i>
                                <i class="bi bi-star" data-rating="5"></i>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Problem Solving</label>
                            <div class="feedback-rating">
                                <i class="bi bi-star" data-rating="1"></i>
                                <i class="bi bi-star" data-rating="2"></i>
                                <i class="bi bi-star" data-rating="3"></i>
                                <i class="bi bi-star" data-rating="4"></i>
                                <i class="bi bi-star" data-rating="5"></i>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Cultural Fit</label>
                            <div class="feedback-rating">
                                <i class="bi bi-star" data-rating="1"></i>
                                <i class="bi bi-star" data-rating="2"></i>
                                <i class="bi bi-star" data-rating="3"></i>
                                <i class="bi bi-star" data-rating="4"></i>
                                <i class="bi bi-star" data-rating="5"></i>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Strengths</label>
                        <textarea class="form-control" rows="3" placeholder="What did the candidate do well?"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Areas for Improvement</label>
                        <textarea class="form-control" rows="3" placeholder="What could the candidate improve on?"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Additional Comments</label>
                        <textarea class="form-control" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Recommendation *</label>
                        <select class="form-select" required>
                            <option value="">Select recommendation...</option>
                            <option value="strong-hire">Strong Hire - Excellent candidate</option>
                            <option value="hire">Hire - Good candidate</option>
                            <option value="maybe">Maybe - Some concerns</option>
                            <option value="no-hire">No Hire - Not suitable</option>
                            <option value="strong-no-hire">Strong No Hire - Definitely not suitable</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Submit Feedback</button>
            </div>
        </div>
    </div>
</div>

<!-- Reschedule Modal -->
<div class="modal fade" id="rescheduleModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Reschedule Interview</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label">New Date *</label>
                    <input type="date" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">New Time *</label>
                    <input type="time" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Reason for Rescheduling</label>
                    <textarea class="form-control" rows="2"></textarea>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="notifyReschedule" checked>
                    <label class="form-check-label" for="notifyReschedule">
                        Notify all participants about the change
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Reschedule</button>
            </div>
        </div>
    </div>
</div>

<!-- View Feedback Modal -->
<div class="modal fade" id="viewFeedbackModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Interview Feedback - Emily Johnson</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-4">
                    <h6>Interview Details</h6>
                    <p class="mb-1"><strong>Position:</strong> Product Marketing Manager</p>
                    <p class="mb-1"><strong>Date:</strong> November 15, 2025 at 10:00 AM</p>
                    <p class="mb-1"><strong>Interviewer:</strong> Sarah Johnson (HR Manager)</p>
                    <p class="mb-1"><strong>Type:</strong> Phone Screen</p>
                </div>

                <div class="mb-4">
                    <h6>Ratings</h6>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="small text-muted">Technical Skills</label>
                            <div class="feedback-rating" style="font-size: 1rem;">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-half"></i>
                                <span class="ms-2 text-dark">4.5/5</span>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="small text-muted">Communication Skills</label>
                            <div class="feedback-rating" style="font-size: 1rem;">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <span class="ms-2 text-dark">5/5</span>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="small text-muted">Problem Solving</label>
                            <div class="feedback-rating" style="font-size: 1rem;">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star"></i>
                                <span class="ms-2 text-dark">4/5</span>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="small text-muted">Cultural Fit</label>
                            <div class="feedback-rating" style="font-size: 1rem;">
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star-fill"></i>
                                <i class="bi bi-star"></i>
                                <span class="ms-2 text-dark">4/5</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <h6>Strengths</h6>
                    <p>Excellent communication and presentation skills. Deep understanding of marketing strategy and proven track record in product marketing. Shows strong analytical thinking and data-driven approach.</p>
                </div>

                <div class="mb-3">
                    <h6>Areas for Improvement</h6>
                    <p>Could benefit from more experience with B2B SaaS marketing. Some technical knowledge gaps in marketing automation tools.</p>
                </div>

                <div class="mb-3">
                    <h6>Additional Comments</h6>
                    <p>Emily is a strong candidate with excellent qualifications. She demonstrated enthusiasm for the role and aligned well with our company values. I recommend moving forward to the next interview round.</p>
                </div>

                <div class="alert alert-success">
                    <strong>Recommendation:</strong> Strong Hire - Proceed to next round
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-outline-primary">
                    <i class="bi bi-download"></i> Export PDF
                </button>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script>
    // View toggle
    document.getElementById('calendarViewBtn').addEventListener('click', function() {
        document.getElementById('calendarViewContainer').style.display = 'block';
        document.getElementById('listViewContainer').style.display = 'none';
        this.classList.add('active');
        document.getElementById('listViewBtn').classList.remove('active');
    });

    document.getElementById('listViewBtn').addEventListener('click', function() {
        document.getElementById('calendarViewContainer').style.display = 'none';
        document.getElementById('listViewContainer').style.display = 'block';
        this.classList.add('active');
        document.getElementById('calendarViewBtn').classList.remove('active');
    });

    // Rating stars functionality
    document.querySelectorAll('.feedback-rating i').forEach(star => {
        star.addEventListener('click', function() {
            if (!this.hasAttribute('data-rating')) return;
            const rating = this.getAttribute('data-rating');
            const container = this.parentElement;
            container.querySelectorAll('i').forEach((s, index) => {
                if (s.hasAttribute('data-rating')) {
                    if (parseInt(s.getAttribute('data-rating')) <= rating) {
                        s.classList.remove('bi-star');
                        s.classList.add('bi-star-fill');
                    } else {
                        s.classList.remove('bi-star-fill');
                        s.classList.add('bi-star');
                    }
                }
            });
        });
    });
</script>
{% endblock %}
