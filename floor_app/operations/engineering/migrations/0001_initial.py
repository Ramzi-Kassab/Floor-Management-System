# Generated by Django 5.2.6 on 2025-11-21 10:05

import django.core.validators
import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('inventory', '0004_rollerconebearing_rollerconebittype_rollerconeseal_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='BitDesignLevel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(help_text='Level code (e.g., L3, L4, L5)', max_length=10, unique=True)),
                ('name', models.CharField(help_text='Human-readable name', max_length=100)),
                ('description', models.TextField(help_text='Detailed description of what this level includes')),
                ('sort_order', models.IntegerField(default=0)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Bit Design Level',
                'verbose_name_plural': 'Bit Design Levels',
                'db_table': 'inventory_bit_design_level',
                'ordering': ['sort_order', 'code'],
            },
        ),
        migrations.CreateModel(
            name='BitDesignType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(help_text='Type code (e.g., HDBS, SMI)', max_length=30, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True, default='')),
                ('sort_order', models.IntegerField(default=0)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Bit Design Type',
                'verbose_name_plural': 'Bit Design Types',
                'db_table': 'inventory_bit_design_type',
                'ordering': ['sort_order', 'code'],
            },
        ),
        migrations.CreateModel(
            name='RollerConeBearing',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(help_text='Bearing code', max_length=50, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('bearing_type', models.CharField(choices=[('OPEN_ROLLER', 'Open Roller Bearing'), ('SEALED_ROLLER', 'Sealed Roller Bearing'), ('JOURNAL', 'Journal Bearing'), ('SEALED_JOURNAL', 'Sealed Journal Bearing'), ('BALL', 'Ball Bearing')], max_length=50)),
                ('is_sealed', models.BooleanField(default=False, help_text='Whether bearing has seal system')),
                ('description', models.TextField(blank=True, default='')),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Roller Cone Bearing Type',
                'verbose_name_plural': 'Roller Cone Bearing Types',
                'db_table': 'inventory_roller_cone_bearing',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='RollerConeBitType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('iadc_code', models.CharField(db_index=True, help_text='IADC classification code (e.g., 111, 437, 537, 617)', max_length=10, unique=True)),
                ('name', models.CharField(help_text='Descriptive name', max_length=200)),
                ('formation_type', models.CharField(help_text='Formation type description (e.g., Soft, Medium, Hard)', max_length=100)),
                ('series', models.CharField(help_text='Series number (1-8)', max_length=10)),
                ('tooth_type', models.CharField(choices=[('MILLED', 'Milled Steel Tooth'), ('INSERT', 'Tungsten Carbide Insert')], help_text='Type of cutting structure', max_length=50)),
                ('description', models.TextField(blank=True, default='')),
                ('is_active', models.BooleanField(default=True)),
                ('sort_order', models.IntegerField(default=0)),
            ],
            options={
                'verbose_name': 'Roller Cone Bit Type',
                'verbose_name_plural': 'Roller Cone Bit Types',
                'db_table': 'inventory_roller_cone_bit_type',
                'ordering': ['series', 'iadc_code'],
            },
        ),
        migrations.CreateModel(
            name='RollerConeSeal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=50, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('seal_type', models.CharField(choices=[('METAL_FACE', 'Metal Face Seal'), ('O_RING', 'O-Ring Seal'), ('HYBRID', 'Hybrid Seal System'), ('NONE', 'No Seal (Open Bearing)')], max_length=50)),
                ('description', models.TextField(blank=True, default='')),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Roller Cone Seal Type',
                'verbose_name_plural': 'Roller Cone Seal Types',
                'db_table': 'inventory_roller_cone_seal',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='BitDesign',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('public_id', models.UUIDField(db_index=True, default=uuid.uuid4, editable=False, unique=True)),
                ('bit_category', models.CharField(choices=[('PDC', 'PDC (Polycrystalline Diamond Compact)'), ('ROLLER_CONE', 'Roller Cone (Tricone/Bicone)')], db_index=True, default='PDC', help_text='Type of bit technology (PDC or Roller Cone)', max_length=20)),
                ('design_code', models.CharField(db_index=True, help_text='Internal design code (e.g., HP-X123)', max_length=50, unique=True)),
                ('name', models.CharField(blank=True, default='', help_text='Descriptive name for the design', max_length=200)),
                ('size_inches', models.DecimalField(blank=True, decimal_places=2, help_text='Bit size in inches (e.g., 8.50, 12.25)', max_digits=4, null=True)),
                ('connection_type', models.CharField(blank=True, default='', help_text='Connection type (e.g., 4-1/2 API REG, 6-5/8 REG)', max_length=50)),
                ('blade_count', models.IntegerField(blank=True, help_text='Number of blades', null=True)),
                ('total_cutter_count', models.IntegerField(blank=True, help_text='Total number of cutters for L5 designs', null=True)),
                ('nozzle_count', models.IntegerField(blank=True, null=True)),
                ('tfa_range', models.CharField(blank=True, default='', help_text='Total Flow Area range', max_length=50)),
                ('description', models.TextField(blank=True, default='')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('level', models.ForeignKey(help_text='Design level (L3/L4/L5)', on_delete=django.db.models.deletion.PROTECT, related_name='designs', to='engineering.bitdesignlevel')),
            ],
            options={
                'verbose_name': 'Bit Design',
                'verbose_name_plural': 'Bit Designs',
                'db_table': 'inventory_bit_design',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BitDesignRevision',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('public_id', models.UUIDField(db_index=True, default=uuid.uuid4, editable=False, unique=True)),
                ('mat_number', models.CharField(db_index=True, help_text='Full MAT number (e.g., HP-X123-M2, HP-X123-SN12345)', max_length=50, unique=True)),
                ('revision_code', models.CharField(help_text='Revision identifier within the design (e.g., M0, M1, M2)', max_length=20)),
                ('is_temporary', models.BooleanField(db_index=True, default=False, help_text='True if this is a temporary MAT (pending official L5)')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False when superseded or obsoleted')),
                ('effective_date', models.DateField(blank=True, help_text='Date when this revision becomes effective', null=True)),
                ('obsolete_date', models.DateField(blank=True, help_text='Date when this revision was obsoleted', null=True)),
                ('change_reason', models.TextField(blank=True, default='', help_text='Reason for this revision (ECN reference, design change, etc.)')),
                ('notes', models.TextField(blank=True, default='')),
                ('erp_item_number', models.CharField(blank=True, help_text='ERP Item/Material Code', max_length=50)),
                ('erp_bom_number', models.CharField(blank=True, help_text='ERP BOM Number', max_length=50)),
                ('standard_cost', models.DecimalField(blank=True, decimal_places=2, help_text='Standard cost per unit', max_digits=12, null=True)),
                ('last_purchase_cost', models.DecimalField(blank=True, decimal_places=2, help_text='Last purchase cost', max_digits=12, null=True)),
                ('bit_design', models.ForeignKey(help_text='Parent conceptual design', on_delete=django.db.models.deletion.PROTECT, related_name='revisions', to='engineering.bitdesign')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('superseded_by', models.ForeignKey(blank=True, help_text='Newer revision that replaces this one', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='supersedes', to='engineering.bitdesignrevision')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('design_type', models.ForeignKey(blank=True, help_text='Design family/type (can be overridden per revision)', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='revisions', to='engineering.bitdesigntype')),
            ],
            options={
                'verbose_name': 'Bit Design Revision (MAT)',
                'verbose_name_plural': 'Bit Design Revisions (MATs)',
                'db_table': 'inventory_bit_design_revision',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BOMHeader',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('public_id', models.UUIDField(db_index=True, default=uuid.uuid4, editable=False, unique=True)),
                ('bom_number', models.CharField(db_index=True, help_text='BOM number/code (e.g., BOM-HP-X123-M2-PROD)', max_length=50, unique=True)),
                ('name', models.CharField(help_text='Descriptive name for this BOM', max_length=200)),
                ('description', models.TextField(blank=True, default='')),
                ('bom_type', models.CharField(choices=[('PRODUCTION', 'Production (New Assembly)'), ('RETROFIT', 'Retrofit (Design Change)'), ('REPAIR', 'Repair (Component Replacement)'), ('TEMPLATE', 'Generic Template'), ('DISASSEMBLY', 'Disassembly BOM')], default='PRODUCTION', help_text='Type of BOM', max_length=20)),
                ('revision', models.CharField(default='A', help_text='BOM revision (A, B, C... or 1, 2, 3...)', max_length=10)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('PENDING_APPROVAL', 'Pending Approval'), ('APPROVED', 'Approved'), ('ACTIVE', 'Active'), ('OBSOLETE', 'Obsolete')], db_index=True, default='DRAFT', max_length=20)),
                ('effective_date', models.DateField(blank=True, help_text='Date when this BOM becomes effective', null=True)),
                ('obsolete_date', models.DateField(blank=True, help_text='Date when this BOM becomes obsolete', null=True)),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='False when superseded or obsoleted')),
                ('estimated_labor_hours', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated labor hours to complete', max_digits=8, null=True)),
                ('estimated_material_cost', models.DecimalField(blank=True, decimal_places=4, help_text='Estimated total material cost', max_digits=12, null=True)),
                ('erp_bom_number', models.CharField(blank=True, help_text='ERP BOM Number', max_length=50)),
                ('notes', models.TextField(blank=True, default='')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('source_mat', models.ForeignKey(blank=True, help_text='For RETROFIT: the source MAT being converted', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='retrofit_source_boms', to='engineering.bitdesignrevision')),
                ('superseded_by', models.ForeignKey(blank=True, help_text='Newer BOM that replaces this one', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='supersedes', to='engineering.bomheader')),
                ('target_mat', models.ForeignKey(help_text='Target MAT revision this BOM produces/repairs', on_delete=django.db.models.deletion.PROTECT, related_name='boms', to='engineering.bitdesignrevision')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'BOM Header',
                'verbose_name_plural': 'BOM Headers',
                'db_table': 'inventory_bom_header',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BOMLine',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('line_number', models.IntegerField(help_text='Line sequence number within the BOM')),
                ('quantity_required', models.DecimalField(decimal_places=4, help_text='Quantity of component required per unit', max_digits=10)),
                ('is_optional', models.BooleanField(default=False, help_text='True if this component is optional')),
                ('is_alternative', models.BooleanField(default=False, help_text='True if this is an alternative to another line')),
                ('alternative_group', models.CharField(blank=True, default='', help_text='Group ID for alternative components (choose one from group)', max_length=20)),
                ('scrap_factor', models.DecimalField(decimal_places=2, default=0, help_text='Extra percentage for scrap/waste (e.g., 5.00 for 5%)', max_digits=5)),
                ('position_reference', models.CharField(blank=True, default='', help_text="Position reference in assembly (e.g., 'Blade 1 Position 3')", max_length=50)),
                ('unit_cost', models.DecimalField(blank=True, decimal_places=4, help_text='Unit cost for this component', max_digits=12, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True, default='')),
                ('bom_header', models.ForeignKey(help_text='Parent BOM header', on_delete=django.db.models.deletion.CASCADE, related_name='lines', to='engineering.bomheader')),
                ('component_item', models.ForeignKey(help_text='Item to be used as component', on_delete=django.db.models.deletion.PROTECT, related_name='bom_usages', to='inventory.item')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('required_condition', models.ForeignKey(blank=True, help_text='Component must be in this condition (e.g., NEW only)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bom_line_requirements', to='inventory.conditiontype')),
                ('required_ownership', models.ForeignKey(blank=True, help_text='Component must have this ownership', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bom_line_requirements', to='inventory.ownershiptype')),
                ('uom', models.ForeignKey(help_text='Unit of measure for quantity', on_delete=django.db.models.deletion.PROTECT, related_name='bom_lines', to='inventory.unitofmeasure')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'BOM Line',
                'verbose_name_plural': 'BOM Lines',
                'db_table': 'inventory_bom_line',
                'ordering': ['bom_header', 'line_number'],
            },
        ),
        migrations.CreateModel(
            name='RollerConeComponent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('part_number', models.CharField(db_index=True, help_text='Manufacturer part number', max_length=100, unique=True)),
                ('component_type', models.CharField(choices=[('CONE', 'Cone Assembly'), ('BEARING_KIT', 'Bearing Kit'), ('SEAL_KIT', 'Seal Kit'), ('INSERT', 'Tungsten Carbide Insert'), ('NOZZLE', 'Nozzle'), ('SHANK', 'Bit Shank/Body'), ('LOCKING', 'Locking Element (Ball/Snapring)'), ('HARDFACING', 'Hardfacing Material'), ('OTHER', 'Other Component')], db_index=True, max_length=50)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True, default='')),
                ('manufacturer', models.CharField(blank=True, default='', help_text='Component manufacturer', max_length=100)),
                ('oem_part_number', models.CharField(blank=True, default='', help_text='OEM/original part number if aftermarket', max_length=100)),
                ('specifications', models.JSONField(default=dict, help_text='Component-specific specifications (size, material, etc.)')),
                ('unit_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('inventory_item_id', models.BigIntegerField(blank=True, db_index=True, help_text='Reference to inventory.Item if stocked', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Roller Cone Component',
                'verbose_name_plural': 'Roller Cone Components',
                'db_table': 'inventory_roller_cone_component',
                'ordering': ['component_type', 'part_number'],
            },
        ),
        migrations.CreateModel(
            name='RollerConeBOM',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('quantity', models.DecimalField(decimal_places=3, help_text='Quantity per bit', max_digits=10, validators=[django.core.validators.MinValueValidator(0)])),
                ('position', models.CharField(blank=True, default='', help_text='Position or location of component in assembly', max_length=100)),
                ('is_optional', models.BooleanField(default=False, help_text='Whether this component is optional')),
                ('notes', models.TextField(blank=True, default='')),
                ('bit_design_revision', models.ForeignKey(help_text='MAT number this BOM applies to', on_delete=django.db.models.deletion.CASCADE, related_name='roller_cone_bom_lines', to='engineering.bitdesignrevision')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('alternate_component', models.ForeignKey(blank=True, help_text='Alternate/substitute component', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='alternate_for', to='engineering.rollerconecomponent')),
                ('component', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='bom_usages', to='engineering.rollerconecomponent')),
            ],
            options={
                'verbose_name': 'Roller Cone BOM Line',
                'verbose_name_plural': 'Roller Cone BOM Lines',
                'db_table': 'inventory_roller_cone_bom',
                'ordering': ['bit_design_revision', 'component__component_type', 'position'],
            },
        ),
        migrations.CreateModel(
            name='RollerConeDesign',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('number_of_cones', models.IntegerField(default=3, help_text='Number of cones (typically 3 for tricone, 2 for bicone)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(4)])),
                ('tooth_structure', models.CharField(choices=[('MILLED', 'Milled Steel Tooth'), ('INSERT', 'Tungsten Carbide Insert'), ('HYBRID', 'Hybrid (Mixed)')], help_text='Type of cutting elements on cones', max_length=50)),
                ('insert_type', models.CharField(blank=True, default='', help_text='Type of inserts if insert bit (e.g., Chisel, Conical, Wedge)', max_length=100)),
                ('insert_size_range', models.CharField(blank=True, default='', help_text='Size range of inserts', max_length=100)),
                ('total_insert_count', models.IntegerField(blank=True, help_text='Total number of inserts per bit', null=True)),
                ('nozzle_count', models.IntegerField(blank=True, help_text='Number of nozzle ports', null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('nozzle_configuration', models.CharField(blank=True, default='', help_text='Standard nozzle setup (e.g., 3x12, 4x14)', max_length=100)),
                ('journal_angle_1', models.DecimalField(blank=True, decimal_places=2, help_text='Journal angle for cone 1 (degrees)', max_digits=5, null=True)),
                ('journal_angle_2', models.DecimalField(blank=True, decimal_places=2, help_text='Journal angle for cone 2 (degrees)', max_digits=5, null=True)),
                ('journal_angle_3', models.DecimalField(blank=True, decimal_places=2, help_text='Journal angle for cone 3 (degrees)', max_digits=5, null=True)),
                ('cone_offset_inches', models.DecimalField(blank=True, decimal_places=3, help_text='Cone offset from center (inches)', max_digits=5, null=True)),
                ('gage_protection', models.CharField(blank=True, default='', help_text='Gage protection features (hardfacing, inserts, etc.)', max_length=100)),
                ('jet_velocity_optimized', models.BooleanField(default=False, help_text='Whether bit is optimized for jet velocity')),
                ('extended_nozzles', models.BooleanField(default=False, help_text='Whether bit has extended nozzles')),
                ('recommended_rpm_min', models.IntegerField(blank=True, help_text='Minimum recommended RPM', null=True)),
                ('recommended_rpm_max', models.IntegerField(blank=True, help_text='Maximum recommended RPM', null=True)),
                ('recommended_wob_min_klbs', models.DecimalField(blank=True, decimal_places=2, help_text='Minimum recommended weight on bit (1000 lbs)', max_digits=6, null=True)),
                ('recommended_wob_max_klbs', models.DecimalField(blank=True, decimal_places=2, help_text='Maximum recommended weight on bit (1000 lbs)', max_digits=6, null=True)),
                ('recommended_formations', models.TextField(blank=True, default='', help_text='Recommended formation types and drilling conditions')),
                ('special_features', models.TextField(blank=True, default='', help_text='Special features or design innovations')),
                ('notes', models.TextField(blank=True, default='')),
                ('bearing_type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='designs', to='engineering.rollerconebearing')),
                ('bit_design', models.OneToOneField(help_text='Parent bit design (must be roller cone type)', on_delete=django.db.models.deletion.CASCADE, related_name='roller_cone_design', to='engineering.bitdesign')),
                ('bit_type', models.ForeignKey(help_text='IADC bit type classification', on_delete=django.db.models.deletion.PROTECT, related_name='designs', to='engineering.rollerconebittype')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('seal_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='designs', to='engineering.rollerconeseal')),
            ],
            options={
                'verbose_name': 'Roller Cone Design',
                'verbose_name_plural': 'Roller Cone Designs',
                'db_table': 'inventory_roller_cone_design',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddIndex(
            model_name='bitdesign',
            index=models.Index(fields=['design_code'], name='ix_bd_design_code'),
        ),
        migrations.AddIndex(
            model_name='bitdesign',
            index=models.Index(fields=['level', 'size_inches'], name='ix_bd_level_size'),
        ),
        migrations.AddIndex(
            model_name='bitdesignrevision',
            index=models.Index(fields=['mat_number'], name='ix_bdr_mat_number'),
        ),
        migrations.AddIndex(
            model_name='bitdesignrevision',
            index=models.Index(fields=['bit_design', 'is_active'], name='ix_bdr_design_active'),
        ),
        migrations.AddIndex(
            model_name='bitdesignrevision',
            index=models.Index(fields=['design_type'], name='ix_bdr_design_type'),
        ),
        migrations.AddIndex(
            model_name='bitdesignrevision',
            index=models.Index(fields=['is_temporary', 'is_active'], name='ix_bdr_temp_active'),
        ),
        migrations.AddConstraint(
            model_name='bitdesignrevision',
            constraint=models.UniqueConstraint(fields=('bit_design', 'revision_code'), name='uq_bdr_design_revision'),
        ),
        migrations.AddIndex(
            model_name='bomheader',
            index=models.Index(fields=['bom_number'], name='ix_bom_number'),
        ),
        migrations.AddIndex(
            model_name='bomheader',
            index=models.Index(fields=['target_mat', 'is_active'], name='ix_bom_target_active'),
        ),
        migrations.AddIndex(
            model_name='bomheader',
            index=models.Index(fields=['bom_type', 'status'], name='ix_bom_type_status'),
        ),
        migrations.AddIndex(
            model_name='bomline',
            index=models.Index(fields=['bom_header', 'line_number'], name='ix_bl_header_line'),
        ),
        migrations.AddIndex(
            model_name='bomline',
            index=models.Index(fields=['component_item'], name='ix_bl_component'),
        ),
        migrations.AddConstraint(
            model_name='bomline',
            constraint=models.UniqueConstraint(fields=('bom_header', 'line_number'), name='uq_bom_line_number'),
        ),
        migrations.AddIndex(
            model_name='rollerconecomponent',
            index=models.Index(fields=['component_type', 'is_active'], name='ix_rc_comp_type'),
        ),
        migrations.AddIndex(
            model_name='rollerconecomponent',
            index=models.Index(fields=['part_number'], name='ix_rc_comp_part'),
        ),
        migrations.AlterUniqueTogether(
            name='rollerconebom',
            unique_together={('bit_design_revision', 'component', 'position')},
        ),
    ]
