# Generated by Django 5.2.6 on 2025-11-16 10:35

import django.core.validators
import django.db.models.deletion
import django.db.models.functions.text
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Department name', max_length=200, unique=True)),
                ('description', models.TextField(blank=True, help_text='Department description and responsibilities', null=True)),
                ('department_type', models.CharField(choices=[('PRODUCTION', 'Production'), ('SUPPORT', 'Support'), ('MANAGEMENT', 'Management'), ('OTHER', 'Other')], default='OTHER', help_text='Category of department', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Department',
                'verbose_name_plural': 'Departments',
                'db_table': 'hr_department',
                'ordering': ['name'],
                'indexes': [models.Index(fields=['name'], name='hr_departme_name_00be75_idx'), models.Index(fields=['department_type'], name='hr_departme_departm_3dfb09_idx')],
            },
        ),
        migrations.CreateModel(
            name='HRPeople',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('public_id', models.UUIDField(db_index=True, default=uuid.uuid4, editable=False, unique=True)),
                ('first_name_en', models.CharField(help_text='First name in English', max_length=120)),
                ('middle_name_en', models.CharField(blank=True, default='', help_text='Middle name in English (optional)', max_length=120)),
                ('last_name_en', models.CharField(help_text='Last name in English', max_length=120)),
                ('first_name_ar', models.CharField(blank=True, default='', help_text='First name in Arabic (optional)', max_length=120)),
                ('middle_name_ar', models.CharField(blank=True, default='', help_text='Middle name in Arabic (optional)', max_length=120)),
                ('last_name_ar', models.CharField(blank=True, default='', help_text='Last name in Arabic (optional)', max_length=120)),
                ('date_of_birth', models.DateField(blank=True, null=True)),
                ('date_of_birth_hijri', models.CharField(blank=True, default='', max_length=10)),
                ('gender', models.CharField(choices=[('MALE', 'Male'), ('FEMALE', 'Female')], max_length=6)),
                ('primary_nationality_iso2', models.CharField(choices=[('AC', 'AC (AC)'), ('AD', 'Andorra (AD)'), ('AE', 'United Arab Emirates (AE)'), ('AF', 'Afghanistan (AF)'), ('AG', 'Antigua and Barbuda (AG)'), ('AI', 'Anguilla (AI)'), ('AL', 'Albania (AL)'), ('AM', 'Armenia (AM)'), ('AO', 'Angola (AO)'), ('AR', 'Argentina (AR)'), ('AS', 'American Samoa (AS)'), ('AT', 'Austria (AT)'), ('AU', 'Australia (AU)'), ('AW', 'Aruba (AW)'), ('AX', 'Åland Islands (AX)'), ('AZ', 'Azerbaijan (AZ)'), ('BA', 'Bosnia and Herzegovina (BA)'), ('BB', 'Barbados (BB)'), ('BD', 'Bangladesh (BD)'), ('BE', 'Belgium (BE)'), ('BF', 'Burkina Faso (BF)'), ('BG', 'Bulgaria (BG)'), ('BH', 'Bahrain (BH)'), ('BI', 'Burundi (BI)'), ('BJ', 'Benin (BJ)'), ('BL', 'Saint Barthélemy (BL)'), ('BM', 'Bermuda (BM)'), ('BN', 'Brunei Darussalam (BN)'), ('BO', 'Bolivia, Plurinational State of (BO)'), ('BQ', 'Bonaire, Sint Eustatius and Saba (BQ)'), ('BR', 'Brazil (BR)'), ('BS', 'Bahamas (BS)'), ('BT', 'Bhutan (BT)'), ('BW', 'Botswana (BW)'), ('BY', 'Belarus (BY)'), ('BZ', 'Belize (BZ)'), ('CA', 'Canada (CA)'), ('CC', 'Cocos (Keeling) Islands (CC)'), ('CD', 'Congo, The Democratic Republic of the (CD)'), ('CF', 'Central African Republic (CF)'), ('CG', 'Congo (CG)'), ('CH', 'Switzerland (CH)'), ('CI', "Côte d'Ivoire (CI)"), ('CK', 'Cook Islands (CK)'), ('CL', 'Chile (CL)'), ('CM', 'Cameroon (CM)'), ('CN', 'China (CN)'), ('CO', 'Colombia (CO)'), ('CR', 'Costa Rica (CR)'), ('CU', 'Cuba (CU)'), ('CV', 'Cabo Verde (CV)'), ('CW', 'Curaçao (CW)'), ('CX', 'Christmas Island (CX)'), ('CY', 'Cyprus (CY)'), ('CZ', 'Czechia (CZ)'), ('DE', 'Germany (DE)'), ('DJ', 'Djibouti (DJ)'), ('DK', 'Denmark (DK)'), ('DM', 'Dominica (DM)'), ('DO', 'Dominican Republic (DO)'), ('DZ', 'Algeria (DZ)'), ('EC', 'Ecuador (EC)'), ('EE', 'Estonia (EE)'), ('EG', 'Egypt (EG)'), ('EH', 'Western Sahara (EH)'), ('ER', 'Eritrea (ER)'), ('ES', 'Spain (ES)'), ('ET', 'Ethiopia (ET)'), ('FI', 'Finland (FI)'), ('FJ', 'Fiji (FJ)'), ('FK', 'Falkland Islands (Malvinas) (FK)'), ('FM', 'Micronesia, Federated States of (FM)'), ('FO', 'Faroe Islands (FO)'), ('FR', 'France (FR)'), ('GA', 'Gabon (GA)'), ('GB', 'United Kingdom (GB)'), ('GD', 'Grenada (GD)'), ('GE', 'Georgia (GE)'), ('GF', 'French Guiana (GF)'), ('GG', 'Guernsey (GG)'), ('GH', 'Ghana (GH)'), ('GI', 'Gibraltar (GI)'), ('GL', 'Greenland (GL)'), ('GM', 'Gambia (GM)'), ('GN', 'Guinea (GN)'), ('GP', 'Guadeloupe (GP)'), ('GQ', 'Equatorial Guinea (GQ)'), ('GR', 'Greece (GR)'), ('GT', 'Guatemala (GT)'), ('GU', 'Guam (GU)'), ('GW', 'Guinea-Bissau (GW)'), ('GY', 'Guyana (GY)'), ('HK', 'Hong Kong (HK)'), ('HN', 'Honduras (HN)'), ('HR', 'Croatia (HR)'), ('HT', 'Haiti (HT)'), ('HU', 'Hungary (HU)'), ('ID', 'Indonesia (ID)'), ('IE', 'Ireland (IE)'), ('IL', 'Israel (IL)'), ('IM', 'Isle of Man (IM)'), ('IN', 'India (IN)'), ('IO', 'British Indian Ocean Territory (IO)'), ('IQ', 'Iraq (IQ)'), ('IR', 'Iran, Islamic Republic of (IR)'), ('IS', 'Iceland (IS)'), ('IT', 'Italy (IT)'), ('JE', 'Jersey (JE)'), ('JM', 'Jamaica (JM)'), ('JO', 'Jordan (JO)'), ('JP', 'Japan (JP)'), ('KE', 'Kenya (KE)'), ('KG', 'Kyrgyzstan (KG)'), ('KH', 'Cambodia (KH)'), ('KI', 'Kiribati (KI)'), ('KM', 'Comoros (KM)'), ('KN', 'Saint Kitts and Nevis (KN)'), ('KP', "Korea, Democratic People's Republic of (KP)"), ('KR', 'Korea, Republic of (KR)'), ('KW', 'Kuwait (KW)'), ('KY', 'Cayman Islands (KY)'), ('KZ', 'Kazakhstan (KZ)'), ('LA', "Lao People's Democratic Republic (LA)"), ('LB', 'Lebanon (LB)'), ('LC', 'Saint Lucia (LC)'), ('LI', 'Liechtenstein (LI)'), ('LK', 'Sri Lanka (LK)'), ('LR', 'Liberia (LR)'), ('LS', 'Lesotho (LS)'), ('LT', 'Lithuania (LT)'), ('LU', 'Luxembourg (LU)'), ('LV', 'Latvia (LV)'), ('LY', 'Libya (LY)'), ('MA', 'Morocco (MA)'), ('MC', 'Monaco (MC)'), ('MD', 'Moldova, Republic of (MD)'), ('ME', 'Montenegro (ME)'), ('MF', 'Saint Martin (French part) (MF)'), ('MG', 'Madagascar (MG)'), ('MH', 'Marshall Islands (MH)'), ('MK', 'North Macedonia (MK)'), ('ML', 'Mali (ML)'), ('MM', 'Myanmar (MM)'), ('MN', 'Mongolia (MN)'), ('MO', 'Macao (MO)'), ('MP', 'Northern Mariana Islands (MP)'), ('MQ', 'Martinique (MQ)'), ('MR', 'Mauritania (MR)'), ('MS', 'Montserrat (MS)'), ('MT', 'Malta (MT)'), ('MU', 'Mauritius (MU)'), ('MV', 'Maldives (MV)'), ('MW', 'Malawi (MW)'), ('MX', 'Mexico (MX)'), ('MY', 'Malaysia (MY)'), ('MZ', 'Mozambique (MZ)'), ('NA', 'Namibia (NA)'), ('NC', 'New Caledonia (NC)'), ('NE', 'Niger (NE)'), ('NF', 'Norfolk Island (NF)'), ('NG', 'Nigeria (NG)'), ('NI', 'Nicaragua (NI)'), ('NL', 'Netherlands (NL)'), ('NO', 'Norway (NO)'), ('NP', 'Nepal (NP)'), ('NR', 'Nauru (NR)'), ('NU', 'Niue (NU)'), ('NZ', 'New Zealand (NZ)'), ('OM', 'Oman (OM)'), ('PA', 'Panama (PA)'), ('PE', 'Peru (PE)'), ('PF', 'French Polynesia (PF)'), ('PG', 'Papua New Guinea (PG)'), ('PH', 'Philippines (PH)'), ('PK', 'Pakistan (PK)'), ('PL', 'Poland (PL)'), ('PM', 'Saint Pierre and Miquelon (PM)'), ('PR', 'Puerto Rico (PR)'), ('PS', 'Palestine, State of (PS)'), ('PT', 'Portugal (PT)'), ('PW', 'Palau (PW)'), ('PY', 'Paraguay (PY)'), ('QA', 'Qatar (QA)'), ('RE', 'Réunion (RE)'), ('RO', 'Romania (RO)'), ('RS', 'Serbia (RS)'), ('RU', 'Russian Federation (RU)'), ('RW', 'Rwanda (RW)'), ('SA', 'Saudi Arabia (SA)'), ('SB', 'Solomon Islands (SB)'), ('SC', 'Seychelles (SC)'), ('SD', 'Sudan (SD)'), ('SE', 'Sweden (SE)'), ('SG', 'Singapore (SG)'), ('SH', 'Saint Helena, Ascension and Tristan da Cunha (SH)'), ('SI', 'Slovenia (SI)'), ('SJ', 'Svalbard and Jan Mayen (SJ)'), ('SK', 'Slovakia (SK)'), ('SL', 'Sierra Leone (SL)'), ('SM', 'San Marino (SM)'), ('SN', 'Senegal (SN)'), ('SO', 'Somalia (SO)'), ('SR', 'Suriname (SR)'), ('SS', 'South Sudan (SS)'), ('ST', 'Sao Tome and Principe (ST)'), ('SV', 'El Salvador (SV)'), ('SX', 'Sint Maarten (Dutch part) (SX)'), ('SY', 'Syrian Arab Republic (SY)'), ('SZ', 'Eswatini (SZ)'), ('TA', 'TA (TA)'), ('TC', 'Turks and Caicos Islands (TC)'), ('TD', 'Chad (TD)'), ('TG', 'Togo (TG)'), ('TH', 'Thailand (TH)'), ('TJ', 'Tajikistan (TJ)'), ('TK', 'Tokelau (TK)'), ('TL', 'Timor-Leste (TL)'), ('TM', 'Turkmenistan (TM)'), ('TN', 'Tunisia (TN)'), ('TO', 'Tonga (TO)'), ('TR', 'Türkiye (TR)'), ('TT', 'Trinidad and Tobago (TT)'), ('TV', 'Tuvalu (TV)'), ('TW', 'Taiwan, Province of China (TW)'), ('TZ', 'Tanzania, United Republic of (TZ)'), ('UA', 'Ukraine (UA)'), ('UG', 'Uganda (UG)'), ('US', 'United States (US)'), ('UY', 'Uruguay (UY)'), ('UZ', 'Uzbekistan (UZ)'), ('VA', 'Holy See (Vatican City State) (VA)'), ('VC', 'Saint Vincent and the Grenadines (VC)'), ('VE', 'Venezuela, Bolivarian Republic of (VE)'), ('VG', 'Virgin Islands, British (VG)'), ('VI', 'Virgin Islands, U.S. (VI)'), ('VN', 'Viet Nam (VN)'), ('VU', 'Vanuatu (VU)'), ('WF', 'Wallis and Futuna (WF)'), ('WS', 'Samoa (WS)'), ('XK', 'XK (XK)'), ('YE', 'Yemen (YE)'), ('YT', 'Mayotte (YT)'), ('ZA', 'South Africa (ZA)'), ('ZM', 'Zambia (ZM)'), ('ZW', 'Zimbabwe (ZW)')], max_length=2)),
                ('national_id', models.CharField(db_index=True, max_length=64)),
                ('iqama_number', models.CharField(blank=True, db_index=True, default='', max_length=10)),
                ('iqama_expiry', models.DateField(blank=True, null=True)),
                ('photo', models.ImageField(blank=True, null=True, upload_to='hr/people/photos/')),
                ('marital_status', models.CharField(blank=True, choices=[('SINGLE', 'Single'), ('MARRIED', 'Married'), ('DIVORCED', 'Divorced'), ('WIDOWED', 'Widowed')], default='', help_text='Marital status', max_length=16)),
                ('identity_verified', models.BooleanField(db_index=True, default=False, help_text='Has the identity been verified and authenticated?')),
                ('identity_verified_at', models.DateTimeField(blank=True, editable=False, help_text='Timestamp of identity verification', null=True)),
                ('name_dob_hash', models.CharField(db_index=True, editable=False, max_length=40)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('identity_verified_by', models.ForeignKey(blank=True, editable=False, help_text='User who verified the identity', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_hr_people', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_people',
            },
        ),
        migrations.CreateModel(
            name='HREmployee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('public_id', models.UUIDField(db_index=True, default=uuid.uuid4, editable=False, unique=True)),
                ('employee_no', models.CharField(max_length=32, unique=True)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('ON_LEAVE', 'On leave'), ('SUSPENDED', 'Suspended'), ('TERMINATED', 'Terminated')], default='ACTIVE', max_length=16)),
                ('job_title', models.CharField(blank=True, help_text='DEPRECATED: Use position field instead. Kept for backward compatibility.', max_length=128, null=True)),
                ('contract_type', models.CharField(choices=[('PERMANENT', 'Permanent Employee'), ('FIXED_TERM', 'Fixed Term Contract'), ('TEMPORARY', 'Temporary'), ('PART_TIME', 'Part-Time'), ('INTERN', 'Internship'), ('CONSULTANT', 'Consultant'), ('CONTRACTOR', 'Contractor')], default='PERMANENT', help_text='Type of employment contract', max_length=16)),
                ('employee_type', models.CharField(blank=True, help_text='DEPRECATED: Use contract_type field instead. Kept for backward compatibility.', max_length=16, null=True)),
                ('contract_start_date', models.DateField(blank=True, help_text='Contract start date (for fixed-term contracts)', null=True)),
                ('contract_end_date', models.DateField(blank=True, help_text='Contract end date (for fixed-term contracts)', null=True)),
                ('contract_renewal_date', models.DateField(blank=True, help_text='Next contract renewal date', null=True)),
                ('probation_end_date', models.DateField(blank=True, help_text='Probation period end date', null=True)),
                ('probation_status', models.CharField(blank=True, choices=[('PENDING', 'Pending'), ('PASSED', 'Passed'), ('FAILED', 'Failed')], help_text='Current probation status', max_length=16, null=True)),
                ('hire_date', models.DateField(blank=True, help_text='Date of hire/joining', null=True)),
                ('termination_date', models.DateField(blank=True, help_text='Date of termination', null=True)),
                ('work_days_per_week', models.IntegerField(default=5, help_text='Number of working days per week')),
                ('hours_per_week', models.IntegerField(default=40, help_text='Total working hours per week')),
                ('shift_pattern', models.CharField(choices=[('DAY', 'Day Shift'), ('NIGHT', 'Night Shift'), ('ROTATING', 'Rotating Shift'), ('FLEXIBLE', 'Flexible')], default='DAY', help_text='Work shift pattern', max_length=16)),
                ('salary_grade', models.CharField(blank=True, default='', help_text='Salary grade classification', max_length=32)),
                ('monthly_salary', models.DecimalField(blank=True, decimal_places=2, help_text='Monthly salary amount', max_digits=12, null=True)),
                ('benefits_eligible', models.BooleanField(default=True, help_text='Eligible for company benefits')),
                ('overtime_eligible', models.BooleanField(default=True, help_text='Eligible for overtime compensation')),
                ('annual_leave_days', models.IntegerField(default=20, help_text='Annual leave days per year')),
                ('sick_leave_days', models.IntegerField(default=10, help_text='Sick leave days per year')),
                ('special_leave_days', models.IntegerField(default=3, help_text='Special leave days per year')),
                ('employment_category', models.CharField(choices=[('REGULAR', 'Regular'), ('SEASONAL', 'Seasonal'), ('PROJECT_BASED', 'Project-Based'), ('RELIEF_STAFF', 'Relief Staff'), ('CASUAL', 'Casual')], default='REGULAR', help_text='Employment category type', max_length=20)),
                ('employment_status', models.CharField(choices=[('ACTIVE', 'Active'), ('ON_PROBATION', 'On Probation'), ('ON_LEAVE', 'On Leave'), ('ON_SUSPENSION', 'On Suspension'), ('UNDER_NOTICE', 'Under Notice'), ('TERMINATED', 'Terminated'), ('RETIRED', 'Retired')], default='ACTIVE', help_text='Current employment status', max_length=20)),
                ('cost_center', models.CharField(blank=True, default='', help_text='Cost center code for allocation', max_length=32)),
                ('team', models.CharField(blank=True, default='', help_text='DEPRECATED: Use department field instead', max_length=64)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(blank=True, help_text='Department assignment', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='employees', to='hr.department')),
                ('report_to', models.ForeignKey(blank=True, help_text='Supervisor or Manager this employee reports to', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subordinates', to='hr.hremployee')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hr_employee', to=settings.AUTH_USER_MODEL)),
                ('person', models.OneToOneField(on_delete=django.db.models.deletion.PROTECT, related_name='employee', to='hr.hrpeople')),
            ],
            options={
                'db_table': 'hr_employee',
                'ordering': ['employee_no'],
            },
        ),
        migrations.CreateModel(
            name='HREmail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('email', models.EmailField(db_index=True, max_length=254)),
                ('kind', models.CharField(choices=[('PERSONAL', 'Personal'), ('BUSINESS', 'Business')], default='BUSINESS', max_length=8)),
                ('is_primary_hint', models.BooleanField(default=False)),
                ('label', models.CharField(blank=True, default='', max_length=64)),
                ('is_verified', models.BooleanField(default=False)),
                ('verified_at', models.DateTimeField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('person', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='emails', to='hr.hrpeople')),
            ],
            options={
                'db_table': 'hr_email',
            },
        ),
        migrations.CreateModel(
            name='HRPhone',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('country_iso2', models.CharField(blank=True, choices=[('AC', 'AC (AC)'), ('AD', 'Andorra (AD)'), ('AE', 'United Arab Emirates (AE)'), ('AF', 'Afghanistan (AF)'), ('AG', 'Antigua and Barbuda (AG)'), ('AI', 'Anguilla (AI)'), ('AL', 'Albania (AL)'), ('AM', 'Armenia (AM)'), ('AO', 'Angola (AO)'), ('AR', 'Argentina (AR)'), ('AS', 'American Samoa (AS)'), ('AT', 'Austria (AT)'), ('AU', 'Australia (AU)'), ('AW', 'Aruba (AW)'), ('AX', 'Åland Islands (AX)'), ('AZ', 'Azerbaijan (AZ)'), ('BA', 'Bosnia and Herzegovina (BA)'), ('BB', 'Barbados (BB)'), ('BD', 'Bangladesh (BD)'), ('BE', 'Belgium (BE)'), ('BF', 'Burkina Faso (BF)'), ('BG', 'Bulgaria (BG)'), ('BH', 'Bahrain (BH)'), ('BI', 'Burundi (BI)'), ('BJ', 'Benin (BJ)'), ('BL', 'Saint Barthélemy (BL)'), ('BM', 'Bermuda (BM)'), ('BN', 'Brunei Darussalam (BN)'), ('BO', 'Bolivia, Plurinational State of (BO)'), ('BQ', 'Bonaire, Sint Eustatius and Saba (BQ)'), ('BR', 'Brazil (BR)'), ('BS', 'Bahamas (BS)'), ('BT', 'Bhutan (BT)'), ('BW', 'Botswana (BW)'), ('BY', 'Belarus (BY)'), ('BZ', 'Belize (BZ)'), ('CA', 'Canada (CA)'), ('CC', 'Cocos (Keeling) Islands (CC)'), ('CD', 'Congo, The Democratic Republic of the (CD)'), ('CF', 'Central African Republic (CF)'), ('CG', 'Congo (CG)'), ('CH', 'Switzerland (CH)'), ('CI', "Côte d'Ivoire (CI)"), ('CK', 'Cook Islands (CK)'), ('CL', 'Chile (CL)'), ('CM', 'Cameroon (CM)'), ('CN', 'China (CN)'), ('CO', 'Colombia (CO)'), ('CR', 'Costa Rica (CR)'), ('CU', 'Cuba (CU)'), ('CV', 'Cabo Verde (CV)'), ('CW', 'Curaçao (CW)'), ('CX', 'Christmas Island (CX)'), ('CY', 'Cyprus (CY)'), ('CZ', 'Czechia (CZ)'), ('DE', 'Germany (DE)'), ('DJ', 'Djibouti (DJ)'), ('DK', 'Denmark (DK)'), ('DM', 'Dominica (DM)'), ('DO', 'Dominican Republic (DO)'), ('DZ', 'Algeria (DZ)'), ('EC', 'Ecuador (EC)'), ('EE', 'Estonia (EE)'), ('EG', 'Egypt (EG)'), ('EH', 'Western Sahara (EH)'), ('ER', 'Eritrea (ER)'), ('ES', 'Spain (ES)'), ('ET', 'Ethiopia (ET)'), ('FI', 'Finland (FI)'), ('FJ', 'Fiji (FJ)'), ('FK', 'Falkland Islands (Malvinas) (FK)'), ('FM', 'Micronesia, Federated States of (FM)'), ('FO', 'Faroe Islands (FO)'), ('FR', 'France (FR)'), ('GA', 'Gabon (GA)'), ('GB', 'United Kingdom (GB)'), ('GD', 'Grenada (GD)'), ('GE', 'Georgia (GE)'), ('GF', 'French Guiana (GF)'), ('GG', 'Guernsey (GG)'), ('GH', 'Ghana (GH)'), ('GI', 'Gibraltar (GI)'), ('GL', 'Greenland (GL)'), ('GM', 'Gambia (GM)'), ('GN', 'Guinea (GN)'), ('GP', 'Guadeloupe (GP)'), ('GQ', 'Equatorial Guinea (GQ)'), ('GR', 'Greece (GR)'), ('GT', 'Guatemala (GT)'), ('GU', 'Guam (GU)'), ('GW', 'Guinea-Bissau (GW)'), ('GY', 'Guyana (GY)'), ('HK', 'Hong Kong (HK)'), ('HN', 'Honduras (HN)'), ('HR', 'Croatia (HR)'), ('HT', 'Haiti (HT)'), ('HU', 'Hungary (HU)'), ('ID', 'Indonesia (ID)'), ('IE', 'Ireland (IE)'), ('IL', 'Israel (IL)'), ('IM', 'Isle of Man (IM)'), ('IN', 'India (IN)'), ('IO', 'British Indian Ocean Territory (IO)'), ('IQ', 'Iraq (IQ)'), ('IR', 'Iran, Islamic Republic of (IR)'), ('IS', 'Iceland (IS)'), ('IT', 'Italy (IT)'), ('JE', 'Jersey (JE)'), ('JM', 'Jamaica (JM)'), ('JO', 'Jordan (JO)'), ('JP', 'Japan (JP)'), ('KE', 'Kenya (KE)'), ('KG', 'Kyrgyzstan (KG)'), ('KH', 'Cambodia (KH)'), ('KI', 'Kiribati (KI)'), ('KM', 'Comoros (KM)'), ('KN', 'Saint Kitts and Nevis (KN)'), ('KP', "Korea, Democratic People's Republic of (KP)"), ('KR', 'Korea, Republic of (KR)'), ('KW', 'Kuwait (KW)'), ('KY', 'Cayman Islands (KY)'), ('KZ', 'Kazakhstan (KZ)'), ('LA', "Lao People's Democratic Republic (LA)"), ('LB', 'Lebanon (LB)'), ('LC', 'Saint Lucia (LC)'), ('LI', 'Liechtenstein (LI)'), ('LK', 'Sri Lanka (LK)'), ('LR', 'Liberia (LR)'), ('LS', 'Lesotho (LS)'), ('LT', 'Lithuania (LT)'), ('LU', 'Luxembourg (LU)'), ('LV', 'Latvia (LV)'), ('LY', 'Libya (LY)'), ('MA', 'Morocco (MA)'), ('MC', 'Monaco (MC)'), ('MD', 'Moldova, Republic of (MD)'), ('ME', 'Montenegro (ME)'), ('MF', 'Saint Martin (French part) (MF)'), ('MG', 'Madagascar (MG)'), ('MH', 'Marshall Islands (MH)'), ('MK', 'North Macedonia (MK)'), ('ML', 'Mali (ML)'), ('MM', 'Myanmar (MM)'), ('MN', 'Mongolia (MN)'), ('MO', 'Macao (MO)'), ('MP', 'Northern Mariana Islands (MP)'), ('MQ', 'Martinique (MQ)'), ('MR', 'Mauritania (MR)'), ('MS', 'Montserrat (MS)'), ('MT', 'Malta (MT)'), ('MU', 'Mauritius (MU)'), ('MV', 'Maldives (MV)'), ('MW', 'Malawi (MW)'), ('MX', 'Mexico (MX)'), ('MY', 'Malaysia (MY)'), ('MZ', 'Mozambique (MZ)'), ('NA', 'Namibia (NA)'), ('NC', 'New Caledonia (NC)'), ('NE', 'Niger (NE)'), ('NF', 'Norfolk Island (NF)'), ('NG', 'Nigeria (NG)'), ('NI', 'Nicaragua (NI)'), ('NL', 'Netherlands (NL)'), ('NO', 'Norway (NO)'), ('NP', 'Nepal (NP)'), ('NR', 'Nauru (NR)'), ('NU', 'Niue (NU)'), ('NZ', 'New Zealand (NZ)'), ('OM', 'Oman (OM)'), ('PA', 'Panama (PA)'), ('PE', 'Peru (PE)'), ('PF', 'French Polynesia (PF)'), ('PG', 'Papua New Guinea (PG)'), ('PH', 'Philippines (PH)'), ('PK', 'Pakistan (PK)'), ('PL', 'Poland (PL)'), ('PM', 'Saint Pierre and Miquelon (PM)'), ('PR', 'Puerto Rico (PR)'), ('PS', 'Palestine, State of (PS)'), ('PT', 'Portugal (PT)'), ('PW', 'Palau (PW)'), ('PY', 'Paraguay (PY)'), ('QA', 'Qatar (QA)'), ('RE', 'Réunion (RE)'), ('RO', 'Romania (RO)'), ('RS', 'Serbia (RS)'), ('RU', 'Russian Federation (RU)'), ('RW', 'Rwanda (RW)'), ('SA', 'Saudi Arabia (SA)'), ('SB', 'Solomon Islands (SB)'), ('SC', 'Seychelles (SC)'), ('SD', 'Sudan (SD)'), ('SE', 'Sweden (SE)'), ('SG', 'Singapore (SG)'), ('SH', 'Saint Helena, Ascension and Tristan da Cunha (SH)'), ('SI', 'Slovenia (SI)'), ('SJ', 'Svalbard and Jan Mayen (SJ)'), ('SK', 'Slovakia (SK)'), ('SL', 'Sierra Leone (SL)'), ('SM', 'San Marino (SM)'), ('SN', 'Senegal (SN)'), ('SO', 'Somalia (SO)'), ('SR', 'Suriname (SR)'), ('SS', 'South Sudan (SS)'), ('ST', 'Sao Tome and Principe (ST)'), ('SV', 'El Salvador (SV)'), ('SX', 'Sint Maarten (Dutch part) (SX)'), ('SY', 'Syrian Arab Republic (SY)'), ('SZ', 'Eswatini (SZ)'), ('TA', 'TA (TA)'), ('TC', 'Turks and Caicos Islands (TC)'), ('TD', 'Chad (TD)'), ('TG', 'Togo (TG)'), ('TH', 'Thailand (TH)'), ('TJ', 'Tajikistan (TJ)'), ('TK', 'Tokelau (TK)'), ('TL', 'Timor-Leste (TL)'), ('TM', 'Turkmenistan (TM)'), ('TN', 'Tunisia (TN)'), ('TO', 'Tonga (TO)'), ('TR', 'Türkiye (TR)'), ('TT', 'Trinidad and Tobago (TT)'), ('TV', 'Tuvalu (TV)'), ('TW', 'Taiwan, Province of China (TW)'), ('TZ', 'Tanzania, United Republic of (TZ)'), ('UA', 'Ukraine (UA)'), ('UG', 'Uganda (UG)'), ('US', 'United States (US)'), ('UY', 'Uruguay (UY)'), ('UZ', 'Uzbekistan (UZ)'), ('VA', 'Holy See (Vatican City State) (VA)'), ('VC', 'Saint Vincent and the Grenadines (VC)'), ('VE', 'Venezuela, Bolivarian Republic of (VE)'), ('VG', 'Virgin Islands, British (VG)'), ('VI', 'Virgin Islands, U.S. (VI)'), ('VN', 'Viet Nam (VN)'), ('VU', 'Vanuatu (VU)'), ('WF', 'Wallis and Futuna (WF)'), ('WS', 'Samoa (WS)'), ('XK', 'XK (XK)'), ('YE', 'Yemen (YE)'), ('YT', 'Mayotte (YT)'), ('ZA', 'South Africa (ZA)'), ('ZM', 'Zambia (ZM)'), ('ZW', 'Zimbabwe (ZW)')], default='', max_length=2)),
                ('calling_code', models.CharField(blank=True, default='', max_length=5, validators=[django.core.validators.RegexValidator('^\\+\\d{1,4}$', 'Use a valid country calling code like +966, +1, +44')])),
                ('phone_number', models.CharField(blank=True, default='', help_text='Phone number digits without country calling code', max_length=20, validators=[django.core.validators.RegexValidator('^\\d{2,20}$', 'Digits only')])),
                ('phone_e164', models.CharField(db_index=True, editable=False, max_length=20)),
                ('channel', models.CharField(choices=[('CALL', 'Call'), ('WHATS', 'Whats'), ('BOTH', 'Call/Whats')], default='CALL', max_length=8)),
                ('kind', models.CharField(choices=[('MOBILE', 'Mobile'), ('LAND', 'Landline')], default='MOBILE', max_length=8)),
                ('extension', models.CharField(blank=True, default='', max_length=10)),
                ('use', models.CharField(choices=[('PERSONAL', 'Personal'), ('BUSINESS', 'Business')], default='BUSINESS', max_length=8)),
                ('is_primary_hint', models.BooleanField(default=False)),
                ('label', models.CharField(blank=True, default='', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('person', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='phones', to='hr.hrpeople')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_phone',
            },
        ),
        migrations.CreateModel(
            name='HRQualification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('code', models.CharField(max_length=64, unique=True)),
                ('name', models.CharField(max_length=120)),
                ('level', models.PositiveSmallIntegerField(blank=True, null=True)),
                ('issuer_type', models.CharField(choices=[('INTERNAL', 'Internal'), ('EXTERNAL', 'External')], default='INTERNAL', max_length=16)),
                ('validity_months', models.PositiveSmallIntegerField(blank=True, null=True)),
                ('requires_renewal', models.BooleanField(default=True)),
                ('description', models.TextField(blank=True, default='')),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_qualification',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='HREmployeeQualification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('issued_at', models.DateField(blank=True, null=True)),
                ('expires_at', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('EXPIRED', 'Expired'), ('SUSPENDED', 'Suspended'), ('PENDING', 'Pending')], default='ACTIVE', max_length=16)),
                ('doc_ref', models.CharField(blank=True, default='', max_length=255)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='qualifications', to='hr.hremployee')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('qualification', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='employee_links', to='hr.hrqualification')),
            ],
            options={
                'db_table': 'hr_employee_qualification',
            },
        ),
        migrations.CreateModel(
            name='Position',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('name', models.CharField(help_text='Position title (e.g., QA Engineer, Production Operator)', max_length=200, unique=True)),
                ('description', models.TextField(blank=True, help_text='Position description and main responsibilities', null=True)),
                ('position_level', models.CharField(choices=[('ENTRY', 'Entry Level'), ('JUNIOR', 'Junior'), ('SENIOR', 'Senior'), ('SUPERVISOR', 'Supervisor'), ('MANAGER', 'Manager'), ('DIRECTOR', 'Director'), ('OTHER', 'Other')], default='ENTRY', help_text='Seniority level of this position', max_length=16)),
                ('salary_grade', models.CharField(choices=[('GRADE_A', 'Grade A'), ('GRADE_B', 'Grade B'), ('GRADE_C', 'Grade C'), ('GRADE_D', 'Grade D'), ('GRADE_E', 'Grade E'), ('EXECUTIVE', 'Executive')], help_text='Salary grade for this position', max_length=16)),
                ('is_active', models.BooleanField(default=True, help_text='Whether this position is currently available')),
                ('permission_codenames', models.TextField(blank=True, default='', help_text='Comma-separated list of additional permission codenames for this position')),
                ('auth_group', models.ForeignKey(blank=True, help_text='Django auth Group linked to this position for RBAC', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='positions', to='auth.group')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(help_text='Department this position belongs to', on_delete=django.db.models.deletion.PROTECT, related_name='positions', to='hr.department')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Position',
                'verbose_name_plural': 'Positions',
                'db_table': 'hr_position',
                'ordering': ['department', 'name'],
            },
        ),
        migrations.AddField(
            model_name='hremployee',
            name='position',
            field=models.ForeignKey(blank=True, help_text='Job position/title', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='employees', to='hr.position'),
        ),
        migrations.CreateModel(
            name='HRAuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
                ('action', models.CharField(choices=[('USER_CREATED', 'User Account Created'), ('USER_LINKED', 'User Linked to Employee'), ('USER_DEACTIVATED', 'User Account Deactivated'), ('GROUP_ADDED', 'User Added to Group'), ('GROUP_REMOVED', 'User Removed from Group'), ('PERMISSION_ADDED', 'Permission Added'), ('PERMISSION_REMOVED', 'Permission Removed'), ('POSITION_CHANGED', 'Employee Position Changed'), ('PASSWORD_RESET', 'Password Reset Required'), ('EMPLOYEE_CREATED', 'Employee Record Created'), ('EMPLOYEE_UPDATED', 'Employee Record Updated')], max_length=50)),
                ('details', models.TextField(blank=True, help_text='JSON or text details of the change')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True, default='')),
                ('affected_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hr_audit_entries', to=settings.AUTH_USER_MODEL)),
                ('performed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hr_actions_performed', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='audit_logs', to='hr.hremployee')),
            ],
            options={
                'verbose_name': 'HR Audit Log',
                'verbose_name_plural': 'HR Audit Logs',
                'db_table': 'hr_audit_log',
                'ordering': ['-timestamp'],
                'indexes': [models.Index(fields=['timestamp'], name='hr_audit_lo_timesta_d07230_idx'), models.Index(fields=['action'], name='hr_audit_lo_action_231ced_idx'), models.Index(fields=['employee'], name='hr_audit_lo_employe_7982e1_idx'), models.Index(fields=['affected_user'], name='hr_audit_lo_affecte_6aeebd_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='hrpeople',
            index=models.Index(fields=['name_dob_hash'], name='ix_hr_people_namedob'),
        ),
        migrations.AddConstraint(
            model_name='hrpeople',
            constraint=models.UniqueConstraint(django.db.models.functions.text.Lower('national_id'), condition=models.Q(('national_id', ''), _negated=True), name='uq_hr_people_national_id_ci'),
        ),
        migrations.AddConstraint(
            model_name='hrpeople',
            constraint=models.UniqueConstraint(django.db.models.functions.text.Lower('iqama_number'), condition=models.Q(('iqama_number', ''), _negated=True), name='uq_hr_people_iqama_ci'),
        ),
        migrations.AddConstraint(
            model_name='hremail',
            constraint=models.UniqueConstraint(django.db.models.functions.text.Lower('email'), name='uq_hr_email_ci'),
        ),
        migrations.AddConstraint(
            model_name='hrphone',
            constraint=models.CheckConstraint(condition=models.Q(('kind', 'LAND'), ('extension', ''), _connector='OR'), name='ck_hr_phone_ext_only_for_land'),
        ),
        migrations.AddConstraint(
            model_name='hrphone',
            constraint=models.UniqueConstraint(fields=('phone_e164', 'extension'), name='uq_hr_phone_e164_ext'),
        ),
        migrations.AddIndex(
            model_name='hremployeequalification',
            index=models.Index(fields=['employee', 'qualification', 'status'], name='hr_employee_employe_a1d1a3_idx'),
        ),
        migrations.AddIndex(
            model_name='position',
            index=models.Index(fields=['department', 'name'], name='hr_position_departm_c50450_idx'),
        ),
        migrations.AddIndex(
            model_name='position',
            index=models.Index(fields=['position_level'], name='hr_position_positio_9a1f6f_idx'),
        ),
        migrations.AddIndex(
            model_name='position',
            index=models.Index(fields=['is_active'], name='hr_position_is_acti_06fa33_idx'),
        ),
    ]
