# Generated by Django 5.2.6 on 2025-11-19 00:22

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("contenttypes", "0002_remove_content_type_name"),
        ("floor_app", "0026_remove_hremail_created_by_remove_hremail_person_and_more"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="Camera",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "camera_id",
                    models.CharField(
                        help_text="Camera ID/Asset tag", max_length=50, unique=True
                    ),
                ),
                (
                    "serial_number",
                    models.CharField(blank=True, max_length=50, null=True, unique=True),
                ),
                (
                    "camera_type",
                    models.CharField(
                        choices=[
                            ("DSLR", "DSLR"),
                            ("MIRRORLESS", "Mirrorless"),
                            ("POINT_SHOOT", "Point & Shoot"),
                            ("ACTION", "Action Camera"),
                            ("VIDEO", "Video Camera"),
                            ("SECURITY", "Security Camera"),
                            ("DRONE", "Drone with Camera"),
                            ("OTHER", "Other"),
                        ],
                        default="DSLR",
                        max_length=20,
                    ),
                ),
                ("make", models.CharField(help_text="Manufacturer", max_length=50)),
                ("model", models.CharField(help_text="Model", max_length=50)),
                (
                    "megapixels",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                ("sensor_size", models.CharField(blank=True, max_length=50)),
                ("video_resolution", models.CharField(blank=True, max_length=20)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("AVAILABLE", "Available"),
                            ("ASSIGNED", "Assigned"),
                            ("IN_USE", "In Use"),
                            ("MAINTENANCE", "Under Maintenance"),
                            ("REPAIR", "Under Repair"),
                            ("LOST", "Lost"),
                            ("DAMAGED", "Damaged"),
                            ("RETIRED", "Retired"),
                        ],
                        default="AVAILABLE",
                        max_length=20,
                    ),
                ),
                ("assignment_date", models.DateField(blank=True, null=True)),
                ("purchase_date", models.DateField(blank=True, null=True)),
                (
                    "purchase_price",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=10, null=True
                    ),
                ),
                ("warranty_expiry", models.DateField(blank=True, null=True)),
                (
                    "insurance_value",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=10, null=True
                    ),
                ),
                (
                    "lenses",
                    models.JSONField(
                        blank=True, default=list, help_text="List of lenses"
                    ),
                ),
                (
                    "accessories",
                    models.JSONField(
                        blank=True, default=list, help_text="Other accessories"
                    ),
                ),
                ("memory_cards", models.JSONField(blank=True, default=list)),
                (
                    "batteries",
                    models.IntegerField(default=1, help_text="Number of batteries"),
                ),
                ("has_bag", models.BooleanField(default=False)),
                ("has_tripod", models.BooleanField(default=False)),
                ("last_service_date", models.DateField(blank=True, null=True)),
                ("next_service_due", models.DateField(blank=True, null=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "photo",
                    models.ImageField(blank=True, null=True, upload_to="cameras/"),
                ),
                ("custom_fields", models.JSONField(blank=True, default=dict)),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_cameras",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "hr_cameras",
                "ordering": ["camera_id"],
            },
        ),
        migrations.CreateModel(
            name="CameraAssignment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("start_date", models.DateField()),
                ("end_date", models.DateField(blank=True, null=True)),
                ("purpose", models.TextField(blank=True)),
                (
                    "project",
                    models.CharField(
                        blank=True, help_text="Project name", max_length=100
                    ),
                ),
                (
                    "condition_at_assignment",
                    models.CharField(
                        choices=[
                            ("EXCELLENT", "Excellent"),
                            ("GOOD", "Good"),
                            ("FAIR", "Fair"),
                            ("POOR", "Poor"),
                        ],
                        default="GOOD",
                        max_length=20,
                    ),
                ),
                ("condition_at_return", models.CharField(blank=True, max_length=20)),
                ("accessories_given", models.JSONField(blank=True, default=list)),
                ("accessories_returned", models.JSONField(blank=True, default=list)),
                ("notes", models.TextField(blank=True)),
                ("is_active", models.BooleanField(default=True)),
                (
                    "assigned_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="camera_assignments_made",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="camera_assignments",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "camera",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="assignments",
                        to="floor_app.camera",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "hr_camera_assignments",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="Candidate",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("first_name", models.CharField(max_length=100)),
                ("last_name", models.CharField(max_length=100)),
                ("email", models.EmailField(max_length=254, unique=True)),
                ("phone", models.CharField(max_length=20)),
                ("current_location", models.CharField(blank=True, max_length=200)),
                ("linkedin_profile", models.URLField(blank=True)),
                ("portfolio_url", models.URLField(blank=True)),
                ("current_company", models.CharField(blank=True, max_length=200)),
                ("current_position", models.CharField(blank=True, max_length=200)),
                ("total_experience_years", models.IntegerField(blank=True, null=True)),
                ("highest_education", models.CharField(blank=True, max_length=100)),
                ("university", models.CharField(blank=True, max_length=200)),
                (
                    "resume",
                    models.FileField(blank=True, null=True, upload_to="resumes/"),
                ),
                (
                    "cover_letter",
                    models.FileField(blank=True, null=True, upload_to="cover_letters/"),
                ),
                ("is_blacklisted", models.BooleanField(default=False)),
                ("blacklist_reason", models.TextField(blank=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "candidates",
                "ordering": ["last_name", "first_name"],
            },
        ),
        migrations.CreateModel(
            name="ChatMessage",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "message_type",
                    models.CharField(
                        choices=[
                            ("TEXT", "Text"),
                            ("PHOTO", "Photo"),
                            ("FILE", "File"),
                            ("VOICE", "Voice Message"),
                            ("SYSTEM", "System Message"),
                        ],
                        default="TEXT",
                        max_length=20,
                    ),
                ),
                ("text", models.TextField(blank=True)),
                (
                    "photo",
                    models.ImageField(
                        blank=True, null=True, upload_to="chat_photos/%Y/%m/%d/"
                    ),
                ),
                (
                    "file",
                    models.FileField(
                        blank=True, null=True, upload_to="chat_files/%Y/%m/%d/"
                    ),
                ),
                (
                    "voice",
                    models.FileField(
                        blank=True, null=True, upload_to="chat_voice/%Y/%m/%d/"
                    ),
                ),
                ("file_name", models.CharField(blank=True, max_length=255)),
                ("file_size", models.BigIntegerField(blank=True, null=True)),
                ("voice_duration_seconds", models.IntegerField(blank=True, null=True)),
                ("sent_at", models.DateTimeField(auto_now_add=True)),
                ("is_edited", models.BooleanField(default=False)),
                ("edited_at", models.DateTimeField(blank=True, null=True)),
                ("is_deleted", models.BooleanField(default=False)),
                ("deleted_at", models.DateTimeField(blank=True, null=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "reply_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="replies",
                        to="floor_app.chatmessage",
                    ),
                ),
                (
                    "sender",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="chat_messages",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "chat_messages",
                "ordering": ["sent_at"],
            },
        ),
        migrations.CreateModel(
            name="ChatRoom",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "room_type",
                    models.CharField(
                        choices=[
                            ("DIRECT", "Direct Message"),
                            ("GROUP", "Group Chat"),
                            ("CHANNEL", "Channel"),
                        ],
                        max_length=20,
                    ),
                ),
                ("name", models.CharField(blank=True, max_length=200)),
                ("description", models.TextField(blank=True)),
                (
                    "photo",
                    models.ImageField(blank=True, null=True, upload_to="chat_rooms/"),
                ),
                ("is_archived", models.BooleanField(default=False)),
                ("is_muted", models.BooleanField(default=False)),
                ("last_message_at", models.DateTimeField(blank=True, null=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="created_chats",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "participants",
                    models.ManyToManyField(
                        related_name="chat_rooms", to=settings.AUTH_USER_MODEL
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "chat_rooms",
                "ordering": ["-last_message_at"],
            },
        ),
        migrations.CreateModel(
            name="ChatNotification",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("is_read", models.BooleanField(default=False)),
                ("read_at", models.DateTimeField(blank=True, null=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "message",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="notifications",
                        to="floor_app.chatmessage",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="chat_notifications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "room",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="notifications",
                        to="floor_app.chatroom",
                    ),
                ),
            ],
            options={
                "db_table": "chat_notifications",
                "ordering": ["-created_at"],
            },
        ),
        migrations.AddField(
            model_name="chatmessage",
            name="room",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="messages",
                to="floor_app.chatroom",
            ),
        ),
        migrations.CreateModel(
            name="DataExtraction",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("extraction_number", models.CharField(max_length=50, unique=True)),
                (
                    "source_type",
                    models.CharField(
                        choices=[
                            ("PHOTO", "Photo/Image"),
                            ("PDF", "PDF Document"),
                            ("EXCEL", "Excel File"),
                            ("CSV", "CSV File"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "source_file",
                    models.FileField(upload_to="data_extraction/%Y/%m/%d/"),
                ),
                ("original_filename", models.CharField(max_length=255)),
                ("file_size", models.BigIntegerField()),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("UPLOADED", "File Uploaded"),
                            ("PROCESSING", "Processing"),
                            ("EXTRACTED", "Data Extracted"),
                            ("MAPPED", "Fields Mapped"),
                            ("IMPORTED", "Data Imported"),
                            ("FAILED", "Failed"),
                        ],
                        default="UPLOADED",
                        max_length=20,
                    ),
                ),
                ("processing_started_at", models.DateTimeField(blank=True, null=True)),
                (
                    "processing_completed_at",
                    models.DateTimeField(blank=True, null=True),
                ),
                ("raw_text", models.TextField(blank=True)),
                ("extracted_data", models.JSONField(default=dict)),
                ("detected_tables", models.JSONField(default=list)),
                (
                    "confidence_score",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                ("total_fields_detected", models.IntegerField(default=0)),
                ("total_rows_detected", models.IntegerField(default=0)),
                ("target_model_name", models.CharField(blank=True, max_length=100)),
                ("total_imported", models.IntegerField(default=0)),
                ("total_failed", models.IntegerField(default=0)),
                ("import_errors", models.JSONField(default=list)),
                ("ocr_language", models.CharField(default="eng", max_length=10)),
                ("auto_detect_tables", models.BooleanField(default=True)),
                ("auto_detect_headers", models.BooleanField(default=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "target_content_type",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="contenttypes.contenttype",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "uploaded_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="data_extractions",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "data_extractions",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="DataExtractionTemplate",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("name", models.CharField(max_length=200)),
                ("description", models.TextField(blank=True)),
                (
                    "source_type",
                    models.CharField(
                        choices=[
                            ("PHOTO", "Photo/Image"),
                            ("PDF", "PDF Document"),
                            ("EXCEL", "Excel File"),
                            ("CSV", "CSV File"),
                        ],
                        max_length=20,
                    ),
                ),
                ("target_model", models.CharField(max_length=100)),
                ("field_mappings", models.JSONField(default=dict)),
                ("transformation_rules", models.JSONField(default=dict)),
                ("ocr_settings", models.JSONField(default=dict)),
                ("preprocessing_steps", models.JSONField(default=list)),
                ("usage_count", models.IntegerField(default=0)),
                (
                    "success_rate",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                ("is_active", models.BooleanField(default=True)),
                ("is_shared", models.BooleanField(default=False)),
                (
                    "created_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="extraction_templates",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "data_extraction_templates",
                "ordering": ["-usage_count", "name"],
            },
        ),
        migrations.CreateModel(
            name="ExtractedField",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("field_name", models.CharField(max_length=200)),
                ("field_type", models.CharField(max_length=50)),
                ("sample_values", models.JSONField(default=list)),
                ("total_values", models.IntegerField(default=0)),
                ("null_count", models.IntegerField(default=0)),
                ("column_index", models.IntegerField(blank=True, null=True)),
                ("table_index", models.IntegerField(default=0)),
                ("detected_as_number", models.BooleanField(default=False)),
                ("detected_as_date", models.BooleanField(default=False)),
                ("detected_as_email", models.BooleanField(default=False)),
                ("detected_as_phone", models.BooleanField(default=False)),
                ("detected_as_url", models.BooleanField(default=False)),
                ("min_length", models.IntegerField(blank=True, null=True)),
                ("max_length", models.IntegerField(blank=True, null=True)),
                ("unique_values_count", models.IntegerField(default=0)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "extraction",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="fields",
                        to="floor_app.dataextraction",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "extracted_fields",
                "ordering": ["table_index", "column_index"],
            },
        ),
        migrations.CreateModel(
            name="FieldMapping",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("target_model", models.CharField(max_length=100)),
                ("target_field", models.CharField(max_length=100)),
                ("target_field_type", models.CharField(max_length=50)),
                (
                    "mapping_type",
                    models.CharField(
                        choices=[
                            ("DIRECT", "Direct Mapping"),
                            ("TRANSFORM", "Transform & Map"),
                            ("LOOKUP", "Lookup Value"),
                            ("CALCULATED", "Calculated Field"),
                            ("SKIP", "Skip Field"),
                        ],
                        default="DIRECT",
                        max_length=20,
                    ),
                ),
                ("transformation_rule", models.JSONField(default=dict)),
                ("default_value", models.CharField(blank=True, max_length=255)),
                ("is_required", models.BooleanField(default=False)),
                ("validation_rule", models.JSONField(default=dict)),
                (
                    "confidence_score",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                ("is_auto_suggested", models.BooleanField(default=False)),
                ("manually_reviewed", models.BooleanField(default=False)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "extracted_field",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="mappings",
                        to="floor_app.extractedfield",
                    ),
                ),
                (
                    "extraction",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="mappings",
                        to="floor_app.dataextraction",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "field_mappings",
            },
        ),
        migrations.CreateModel(
            name="FiveSAchievement",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("name", models.CharField(max_length=100, unique=True)),
                ("description", models.TextField()),
                (
                    "achievement_type",
                    models.CharField(
                        choices=[
                            ("SCORE", "High Score"),
                            ("CONSISTENCY", "Consistency"),
                            ("IMPROVEMENT", "Improvement"),
                            ("PERFECT", "Perfect Score"),
                            ("CHAMPION", "Champion"),
                            ("MILESTONE", "Milestone"),
                        ],
                        max_length=20,
                    ),
                ),
                ("icon", models.CharField(blank=True, max_length=50)),
                (
                    "badge_image",
                    models.ImageField(blank=True, null=True, upload_to="fives_badges/"),
                ),
                (
                    "criteria",
                    models.JSONField(
                        default=dict, help_text="Criteria to earn this achievement"
                    ),
                ),
                (
                    "points_value",
                    models.IntegerField(
                        default=0, help_text="Points awarded for earning this"
                    ),
                ),
                (
                    "rarity",
                    models.CharField(
                        choices=[
                            ("COMMON", "Common"),
                            ("UNCOMMON", "Uncommon"),
                            ("RARE", "Rare"),
                            ("EPIC", "Epic"),
                            ("LEGENDARY", "Legendary"),
                        ],
                        default="COMMON",
                        max_length=20,
                    ),
                ),
                ("is_active", models.BooleanField(default=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "fives_achievements",
                "ordering": ["rarity", "name"],
            },
        ),
        migrations.CreateModel(
            name="FiveSAuditTemplate",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("name", models.CharField(max_length=100, unique=True)),
                ("description", models.TextField(blank=True)),
                (
                    "area_type",
                    models.CharField(
                        choices=[
                            ("OFFICE", "Office"),
                            ("WORKSHOP", "Workshop"),
                            ("WAREHOUSE", "Warehouse"),
                            ("PRODUCTION", "Production Floor"),
                            ("LAB", "Laboratory"),
                            ("OTHER", "Other"),
                        ],
                        max_length=50,
                    ),
                ),
                (
                    "checklist_items",
                    models.JSONField(
                        default=list, help_text="List of checklist items with scoring"
                    ),
                ),
                ("total_possible_score", models.IntegerField(default=100)),
                ("is_active", models.BooleanField(default=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "fives_audit_templates",
                "ordering": ["name"],
            },
        ),
        migrations.CreateModel(
            name="FiveSAudit",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("audit_number", models.CharField(max_length=50, unique=True)),
                ("area_name", models.CharField(max_length=200)),
                ("department", models.CharField(blank=True, max_length=100)),
                ("building", models.CharField(blank=True, max_length=100)),
                ("floor_level", models.CharField(blank=True, max_length=50)),
                ("team_name", models.CharField(blank=True, max_length=100)),
                ("audit_date", models.DateField()),
                ("audit_time", models.TimeField(blank=True, null=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("SCHEDULED", "Scheduled"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="SCHEDULED",
                        max_length=20,
                    ),
                ),
                (
                    "score",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("max_score", models.IntegerField(default=100)),
                (
                    "percentage_score",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                ("sort_score", models.IntegerField(blank=True, null=True)),
                ("set_in_order_score", models.IntegerField(blank=True, null=True)),
                ("shine_score", models.IntegerField(blank=True, null=True)),
                ("standardize_score", models.IntegerField(blank=True, null=True)),
                ("sustain_score", models.IntegerField(blank=True, null=True)),
                (
                    "checklist_responses",
                    models.JSONField(
                        default=dict, help_text="Checklist item responses with scores"
                    ),
                ),
                ("observations", models.TextField(blank=True)),
                ("strengths", models.TextField(blank=True)),
                ("areas_for_improvement", models.TextField(blank=True)),
                ("action_items", models.JSONField(blank=True, default=list)),
                ("follow_up_required", models.BooleanField(default=False)),
                ("follow_up_date", models.DateField(blank=True, null=True)),
                ("follow_up_completed", models.BooleanField(default=False)),
                (
                    "points_awarded",
                    models.IntegerField(default=0, help_text="Gamification points"),
                ),
                (
                    "audited_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="conducted_audits",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "responsible_person",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="responsible_audits",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "team_members",
                    models.ManyToManyField(
                        blank=True,
                        related_name="team_audits",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "template",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="audits",
                        to="floor_app.fivesaudittemplate",
                    ),
                ),
            ],
            options={
                "db_table": "fives_audits",
                "ordering": ["-audit_date"],
            },
        ),
        migrations.CreateModel(
            name="FiveSCompetition",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("name", models.CharField(max_length=200)),
                ("description", models.TextField()),
                ("start_date", models.DateField()),
                ("end_date", models.DateField()),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("UPCOMING", "Upcoming"),
                            ("ACTIVE", "Active"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="UPCOMING",
                        max_length=20,
                    ),
                ),
                (
                    "participating_areas",
                    models.JSONField(default=list, help_text="List of area names"),
                ),
                (
                    "participating_teams",
                    models.JSONField(default=list, help_text="List of team names"),
                ),
                (
                    "scoring_method",
                    models.CharField(
                        choices=[
                            ("AVERAGE_SCORE", "Average Audit Score"),
                            ("TOTAL_POINTS", "Total Points"),
                            ("IMPROVEMENT", "Improvement Percentage"),
                            ("CUSTOM", "Custom Scoring"),
                        ],
                        default="AVERAGE_SCORE",
                        max_length=50,
                    ),
                ),
                (
                    "prizes",
                    models.JSONField(
                        blank=True, default=dict, help_text="Prize structure"
                    ),
                ),
                ("winner", models.CharField(blank=True, max_length=200)),
                ("results", models.JSONField(blank=True, default=dict)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "fives_competitions",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="FiveSImprovementAction",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("title", models.CharField(max_length=200)),
                ("description", models.TextField()),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("SORT", "Sort (Seiri)"),
                            ("SET_IN_ORDER", "Set in Order (Seiton)"),
                            ("SHINE", "Shine (Seiso)"),
                            ("STANDARDIZE", "Standardize (Seiketsu)"),
                            ("SUSTAIN", "Sustain (Shitsuke)"),
                        ],
                        max_length=50,
                    ),
                ),
                ("due_date", models.DateField()),
                ("completed_date", models.DateField(blank=True, null=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("VERIFIED", "Verified"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="PENDING",
                        max_length=20,
                    ),
                ),
                (
                    "before_photo",
                    models.ImageField(
                        blank=True, null=True, upload_to="fives_improvements/before/"
                    ),
                ),
                (
                    "after_photo",
                    models.ImageField(
                        blank=True, null=True, upload_to="fives_improvements/after/"
                    ),
                ),
                ("completion_notes", models.TextField(blank=True)),
                ("verification_date", models.DateField(blank=True, null=True)),
                (
                    "assigned_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_fives_actions",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="fives_actions",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "audit",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="improvement_actions",
                        to="floor_app.fivesaudit",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "verified_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="verified_fives_actions",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "fives_improvement_actions",
                "ordering": ["-due_date"],
            },
        ),
        migrations.CreateModel(
            name="FiveSLeaderboard",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "period_type",
                    models.CharField(
                        choices=[
                            ("WEEKLY", "Weekly"),
                            ("MONTHLY", "Monthly"),
                            ("QUARTERLY", "Quarterly"),
                            ("YEARLY", "Yearly"),
                        ],
                        max_length=20,
                    ),
                ),
                ("period_start", models.DateField()),
                ("period_end", models.DateField()),
                ("area_name", models.CharField(max_length=200)),
                ("team_name", models.CharField(blank=True, max_length=100)),
                ("department", models.CharField(blank=True, max_length=100)),
                ("total_audits", models.IntegerField(default=0)),
                (
                    "average_score",
                    models.DecimalField(decimal_places=2, default=0, max_digits=5),
                ),
                ("total_points", models.IntegerField(default=0)),
                (
                    "improvement_percentage",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                ("rank", models.IntegerField(blank=True, null=True)),
                ("badges_earned", models.JSONField(blank=True, default=list)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "responsible_person",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "fives_leaderboard",
                "ordering": ["-period_start", "rank"],
            },
        ),
        migrations.CreateModel(
            name="FiveSPhoto",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "photo_type",
                    models.CharField(
                        choices=[
                            ("BEFORE", "Before Improvement"),
                            ("AFTER", "After Improvement"),
                            ("ISSUE", "Issue/Problem"),
                            ("GOOD_PRACTICE", "Good Practice"),
                            ("EVIDENCE", "Evidence"),
                        ],
                        max_length=20,
                    ),
                ),
                ("photo", models.ImageField(upload_to="fives_photos/%Y/%m/%d/")),
                ("caption", models.CharField(blank=True, max_length=200)),
                ("location_in_area", models.CharField(blank=True, max_length=200)),
                ("uploaded_date", models.DateTimeField(auto_now_add=True)),
                (
                    "audit",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="photos",
                        to="floor_app.fivesaudit",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "uploaded_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "fives_photos",
                "ordering": ["audit", "photo_type", "uploaded_date"],
            },
        ),
        migrations.CreateModel(
            name="FiveSPointsHistory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "transaction_type",
                    models.CharField(
                        choices=[
                            ("AUDIT_COMPLETED", "Audit Completed"),
                            ("HIGH_SCORE", "High Score Bonus"),
                            ("IMPROVEMENT", "Improvement Bonus"),
                            ("ACHIEVEMENT", "Achievement Earned"),
                            ("COMPETITION_WIN", "Competition Win"),
                            ("CONSISTENCY", "Consistency Bonus"),
                            ("PENALTY", "Penalty"),
                            ("REDEMPTION", "Points Redemption"),
                        ],
                        max_length=30,
                    ),
                ),
                (
                    "points",
                    models.IntegerField(
                        help_text="Positive for earned, negative for spent"
                    ),
                ),
                (
                    "balance_after",
                    models.IntegerField(help_text="Balance after this transaction"),
                ),
                ("description", models.CharField(max_length=200)),
                ("transaction_date", models.DateTimeField(auto_now_add=True)),
                (
                    "achievement",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="floor_app.fivesachievement",
                    ),
                ),
                (
                    "audit",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="floor_app.fivesaudit",
                    ),
                ),
                (
                    "competition",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="floor_app.fivescompetition",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="fives_points_history",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "fives_points_history",
                "ordering": ["-transaction_date"],
            },
        ),
        migrations.CreateModel(
            name="FiveSUserAchievement",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("earned_date", models.DateField(auto_now_add=True)),
                ("reason", models.TextField(blank=True)),
                (
                    "achievement",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="floor_app.fivesachievement",
                    ),
                ),
                (
                    "audit",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="floor_app.fivesaudit",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="fives_achievements",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "fives_user_achievements",
                "ordering": ["-earned_date"],
            },
        ),
        migrations.CreateModel(
            name="HazardCategory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "name",
                    models.CharField(
                        help_text="Category name (e.g., 'Safety', 'Environmental', 'Quality')",
                        max_length=100,
                        unique=True,
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, help_text="Category description"),
                ),
                (
                    "color",
                    models.CharField(
                        default="#FF5722",
                        help_text="Color code for UI display",
                        max_length=20,
                    ),
                ),
                (
                    "icon",
                    models.CharField(
                        blank=True, help_text="Icon identifier", max_length=50
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(default=True, help_text="Category is active"),
                ),
                (
                    "sort_order",
                    models.IntegerField(default=0, help_text="Display order"),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Hazard Category",
                "verbose_name_plural": "Hazard Categories",
                "db_table": "hoc_categories",
                "ordering": ["sort_order", "name"],
            },
        ),
        migrations.CreateModel(
            name="HazardObservation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "card_number",
                    models.CharField(
                        help_text="Unique HOC number (e.g., HOC-2025-0001)",
                        max_length=50,
                        unique=True,
                    ),
                ),
                (
                    "submission_date",
                    models.DateTimeField(
                        auto_now_add=True,
                        help_text="When the observation was submitted",
                    ),
                ),
                (
                    "severity",
                    models.CharField(
                        choices=[
                            ("LOW", "Low - Minor issue"),
                            ("MEDIUM", "Medium - Needs attention"),
                            ("HIGH", "High - Immediate action required"),
                            ("CRITICAL", "Critical - Stop work"),
                        ],
                        help_text="Severity level of the hazard",
                        max_length=20,
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Brief title of the observation", max_length=200
                    ),
                ),
                (
                    "description",
                    models.TextField(help_text="Detailed description of the hazard"),
                ),
                (
                    "location",
                    models.CharField(
                        help_text="Where the hazard was observed", max_length=200
                    ),
                ),
                (
                    "department",
                    models.CharField(
                        blank=True, help_text="Department/area", max_length=100
                    ),
                ),
                (
                    "building",
                    models.CharField(
                        blank=True, help_text="Building/facility", max_length=100
                    ),
                ),
                (
                    "floor_level",
                    models.CharField(
                        blank=True, help_text="Floor level", max_length=50
                    ),
                ),
                (
                    "gps_coordinates",
                    models.CharField(
                        blank=True,
                        help_text="GPS coordinates if available",
                        max_length=100,
                    ),
                ),
                (
                    "potential_consequence",
                    models.TextField(
                        blank=True, help_text="What could happen if not addressed"
                    ),
                ),
                (
                    "people_at_risk",
                    models.IntegerField(
                        blank=True,
                        help_text="Number of people potentially at risk",
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "immediate_action_taken",
                    models.TextField(
                        blank=True,
                        help_text="Any immediate action taken by the observer",
                    ),
                ),
                (
                    "area_isolated",
                    models.BooleanField(
                        default=False,
                        help_text="Has the area been isolated/cordoned off",
                    ),
                ),
                (
                    "work_stopped",
                    models.BooleanField(
                        default=False, help_text="Has work been stopped in the area"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("SUBMITTED", "Submitted"),
                            ("UNDER_REVIEW", "Under Review"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("ACTION_ASSIGNED", "Action Assigned"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("VERIFIED", "Verified"),
                            ("CLOSED", "Closed"),
                        ],
                        default="SUBMITTED",
                        help_text="Current status of the observation",
                        max_length=20,
                    ),
                ),
                (
                    "reviewed_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the observation was reviewed",
                        null=True,
                    ),
                ),
                (
                    "review_comments",
                    models.TextField(blank=True, help_text="Review comments"),
                ),
                (
                    "assigned_date",
                    models.DateTimeField(
                        blank=True, help_text="When the action was assigned", null=True
                    ),
                ),
                (
                    "due_date",
                    models.DateField(
                        blank=True, help_text="Target date for completion", null=True
                    ),
                ),
                (
                    "corrective_action_plan",
                    models.TextField(
                        blank=True, help_text="Planned corrective actions"
                    ),
                ),
                (
                    "corrective_action_taken",
                    models.TextField(
                        blank=True, help_text="Actual corrective actions taken"
                    ),
                ),
                (
                    "action_completed_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="When corrective action was completed",
                        null=True,
                    ),
                ),
                (
                    "verified_date",
                    models.DateTimeField(
                        blank=True, help_text="When the action was verified", null=True
                    ),
                ),
                (
                    "verification_comments",
                    models.TextField(blank=True, help_text="Verification comments"),
                ),
                (
                    "closed_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the observation was closed",
                        null=True,
                    ),
                ),
                (
                    "closure_comments",
                    models.TextField(blank=True, help_text="Closure comments"),
                ),
                (
                    "is_repeat_observation",
                    models.BooleanField(
                        default=False, help_text="Is this a repeat observation"
                    ),
                ),
                (
                    "related_incident",
                    models.CharField(
                        blank=True,
                        help_text="Related incident number if applicable",
                        max_length=100,
                    ),
                ),
                (
                    "cost_estimate",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Estimated cost for corrective action",
                        max_digits=12,
                        null=True,
                    ),
                ),
                (
                    "actual_cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Actual cost incurred",
                        max_digits=12,
                        null=True,
                    ),
                ),
                (
                    "tags",
                    models.JSONField(
                        blank=True, default=list, help_text="Tags for categorization"
                    ),
                ),
                (
                    "custom_fields",
                    models.JSONField(
                        blank=True, default=dict, help_text="Additional custom fields"
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        help_text="Responsible person for corrective action",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_hocs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "category",
                    models.ForeignKey(
                        help_text="Hazard category",
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="observations",
                        to="floor_app.hazardcategory",
                    ),
                ),
                (
                    "closed_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Who closed this observation",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="closed_hocs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "reviewed_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Who reviewed this observation",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="reviewed_hocs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "submitted_by",
                    models.ForeignKey(
                        help_text="Employee who submitted the observation",
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="submitted_hocs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "verified_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Who verified the corrective action",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="verified_hocs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Hazard Observation",
                "verbose_name_plural": "Hazard Observations",
                "db_table": "hoc_observations",
                "ordering": ["-submission_date"],
            },
        ),
        migrations.CreateModel(
            name="HOCComment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("comment", models.TextField(help_text="Comment text")),
                (
                    "comment_date",
                    models.DateTimeField(
                        auto_now_add=True, help_text="When the comment was made"
                    ),
                ),
                (
                    "is_internal",
                    models.BooleanField(
                        default=False,
                        help_text="Internal comment (not visible to submitter)",
                    ),
                ),
                (
                    "commented_by",
                    models.ForeignKey(
                        help_text="Who made this comment",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="hoc_comments",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "observation",
                    models.ForeignKey(
                        help_text="Related hazard observation",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="comments",
                        to="floor_app.hazardobservation",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "HOC Comment",
                "verbose_name_plural": "HOC Comments",
                "db_table": "hoc_comments",
                "ordering": ["observation", "comment_date"],
            },
        ),
        migrations.CreateModel(
            name="HOCNotificationSettings",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "notify_on_submission",
                    models.BooleanField(
                        default=True, help_text="Notify when new HOC is submitted"
                    ),
                ),
                (
                    "notify_on_assignment",
                    models.BooleanField(
                        default=True, help_text="Notify when assigned to HOC"
                    ),
                ),
                (
                    "notify_on_due_date",
                    models.BooleanField(
                        default=True,
                        help_text="Notify when HOC is approaching due date",
                    ),
                ),
                (
                    "notify_on_overdue",
                    models.BooleanField(
                        default=True, help_text="Notify when assigned HOC is overdue"
                    ),
                ),
                (
                    "notify_on_completion",
                    models.BooleanField(
                        default=True, help_text="Notify when assigned HOC is completed"
                    ),
                ),
                (
                    "notify_on_comment",
                    models.BooleanField(
                        default=True, help_text="Notify when comment is added to my HOC"
                    ),
                ),
                (
                    "notification_method",
                    models.JSONField(
                        default=dict,
                        help_text="Notification methods {email: true, push: true, sms: false}",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        help_text="User",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="hoc_notification_settings",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "HOC Notification Settings",
                "verbose_name_plural": "HOC Notification Settings",
                "db_table": "hoc_notification_settings",
            },
        ),
        migrations.CreateModel(
            name="HOCPhoto",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "photo_type",
                    models.CharField(
                        choices=[
                            ("BEFORE", "Before - Hazard condition"),
                            ("DURING", "During - Corrective action"),
                            ("AFTER", "After - Completed"),
                            ("EVIDENCE", "Evidence/Documentation"),
                        ],
                        default="BEFORE",
                        help_text="Type of photo",
                        max_length=20,
                    ),
                ),
                (
                    "photo",
                    models.ImageField(
                        help_text="Photo file", upload_to="hoc_photos/%Y/%m/%d/"
                    ),
                ),
                (
                    "thumbnail",
                    models.ImageField(
                        blank=True,
                        help_text="Thumbnail version",
                        null=True,
                        upload_to="hoc_photos/thumbnails/%Y/%m/%d/",
                    ),
                ),
                (
                    "caption",
                    models.CharField(
                        blank=True, help_text="Photo caption", max_length=200
                    ),
                ),
                (
                    "uploaded_date",
                    models.DateTimeField(
                        auto_now_add=True, help_text="When the photo was uploaded"
                    ),
                ),
                (
                    "sort_order",
                    models.IntegerField(default=0, help_text="Display order"),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "observation",
                    models.ForeignKey(
                        help_text="Related hazard observation",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="photos",
                        to="floor_app.hazardobservation",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "uploaded_by",
                    models.ForeignKey(
                        help_text="Who uploaded this photo",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "HOC Photo",
                "verbose_name_plural": "HOC Photos",
                "db_table": "hoc_photos",
                "ordering": ["observation", "sort_order", "uploaded_date"],
            },
        ),
        migrations.CreateModel(
            name="HOCStatusHistory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "from_status",
                    models.CharField(
                        choices=[
                            ("SUBMITTED", "Submitted"),
                            ("UNDER_REVIEW", "Under Review"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("ACTION_ASSIGNED", "Action Assigned"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("VERIFIED", "Verified"),
                            ("CLOSED", "Closed"),
                        ],
                        help_text="Previous status",
                        max_length=20,
                    ),
                ),
                (
                    "to_status",
                    models.CharField(
                        choices=[
                            ("SUBMITTED", "Submitted"),
                            ("UNDER_REVIEW", "Under Review"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("ACTION_ASSIGNED", "Action Assigned"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("VERIFIED", "Verified"),
                            ("CLOSED", "Closed"),
                        ],
                        help_text="New status",
                        max_length=20,
                    ),
                ),
                (
                    "changed_date",
                    models.DateTimeField(
                        auto_now_add=True, help_text="When the status was changed"
                    ),
                ),
                (
                    "reason",
                    models.TextField(blank=True, help_text="Reason for status change"),
                ),
                (
                    "changed_by",
                    models.ForeignKey(
                        help_text="Who changed the status",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "observation",
                    models.ForeignKey(
                        help_text="Related hazard observation",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="status_history",
                        to="floor_app.hazardobservation",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "HOC Status History",
                "verbose_name_plural": "HOC Status Histories",
                "db_table": "hoc_status_history",
                "ordering": ["observation", "changed_date"],
            },
        ),
        migrations.CreateModel(
            name="ImportHistory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("row_index", models.IntegerField()),
                ("source_data", models.JSONField(default=dict)),
                (
                    "target_object_id",
                    models.PositiveIntegerField(blank=True, null=True),
                ),
                (
                    "import_status",
                    models.CharField(
                        choices=[
                            ("SUCCESS", "Success"),
                            ("FAILED", "Failed"),
                            ("SKIPPED", "Skipped"),
                        ],
                        default="SUCCESS",
                        max_length=20,
                    ),
                ),
                ("error_message", models.TextField(blank=True)),
                ("transformed_data", models.JSONField(default=dict)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "extraction",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="import_records",
                        to="floor_app.dataextraction",
                    ),
                ),
                (
                    "target_content_type",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="contenttypes.contenttype",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "import_history",
                "ordering": ["row_index"],
            },
        ),
        migrations.CreateModel(
            name="JobApplication",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("application_number", models.CharField(max_length=50, unique=True)),
                ("applied_date", models.DateTimeField(auto_now_add=True)),
                ("cover_letter_text", models.TextField(blank=True)),
                (
                    "expected_salary",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=12, null=True
                    ),
                ),
                ("available_from", models.DateField(blank=True, null=True)),
                ("notice_period_days", models.IntegerField(blank=True, null=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("SUBMITTED", "Submitted"),
                            ("SCREENING", "Under Screening"),
                            ("SHORTLISTED", "Shortlisted"),
                            ("INTERVIEW", "Interview Scheduled"),
                            ("OFFER", "Offer Extended"),
                            ("ACCEPTED", "Offer Accepted"),
                            ("REJECTED", "Rejected"),
                            ("WITHDRAWN", "Withdrawn"),
                        ],
                        default="SUBMITTED",
                        max_length=20,
                    ),
                ),
                ("screening_score", models.IntegerField(blank=True, null=True)),
                ("screening_notes", models.TextField(blank=True)),
                (
                    "overall_rating",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                    ),
                ),
                ("rejection_reason", models.TextField(blank=True)),
                ("rejection_date", models.DateField(blank=True, null=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_applications",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "candidate",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="applications",
                        to="floor_app.candidate",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "job_applications",
                "ordering": ["-applied_date"],
            },
        ),
        migrations.CreateModel(
            name="Interview",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "interview_type",
                    models.CharField(
                        choices=[
                            ("PHONE", "Phone Screening"),
                            ("VIDEO", "Video Interview"),
                            ("IN_PERSON", "In-Person"),
                            ("TECHNICAL", "Technical Round"),
                            ("HR", "HR Interview"),
                            ("FINAL", "Final Round"),
                        ],
                        max_length=20,
                    ),
                ),
                ("round_number", models.IntegerField(default=1)),
                ("scheduled_date", models.DateField()),
                ("scheduled_time", models.TimeField()),
                ("duration_minutes", models.IntegerField(default=60)),
                ("location", models.CharField(blank=True, max_length=200)),
                ("meeting_link", models.URLField(blank=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("SCHEDULED", "Scheduled"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                            ("RESCHEDULED", "Rescheduled"),
                            ("NO_SHOW", "No Show"),
                        ],
                        default="SCHEDULED",
                        max_length=20,
                    ),
                ),
                ("feedback", models.TextField(blank=True)),
                (
                    "technical_rating",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                    ),
                ),
                (
                    "communication_rating",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                    ),
                ),
                (
                    "cultural_fit_rating",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                    ),
                ),
                (
                    "overall_recommendation",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("STRONG_YES", "Strong Yes"),
                            ("YES", "Yes"),
                            ("MAYBE", "Maybe"),
                            ("NO", "No"),
                            ("STRONG_NO", "Strong No"),
                        ],
                        max_length=20,
                    ),
                ),
                ("notes", models.TextField(blank=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "interviewers",
                    models.ManyToManyField(
                        related_name="interviews_conducted", to=settings.AUTH_USER_MODEL
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "application",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="interviews",
                        to="floor_app.jobapplication",
                    ),
                ),
            ],
            options={
                "db_table": "interviews",
                "ordering": ["scheduled_date", "scheduled_time"],
            },
        ),
        migrations.CreateModel(
            name="JobOffer",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("offer_number", models.CharField(max_length=50, unique=True)),
                ("position_title", models.CharField(max_length=200)),
                ("department", models.CharField(max_length=100)),
                ("reporting_to", models.CharField(max_length=200)),
                ("start_date", models.DateField()),
                ("annual_salary", models.DecimalField(decimal_places=2, max_digits=12)),
                ("currency", models.CharField(default="USD", max_length=3)),
                (
                    "bonus",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=12, null=True
                    ),
                ),
                ("benefits", models.TextField()),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("SENT", "Sent to Candidate"),
                            ("ACCEPTED", "Accepted"),
                            ("REJECTED", "Rejected"),
                            ("NEGOTIATING", "Under Negotiation"),
                            ("EXPIRED", "Expired"),
                            ("WITHDRAWN", "Withdrawn"),
                        ],
                        default="DRAFT",
                        max_length=20,
                    ),
                ),
                ("sent_date", models.DateField(blank=True, null=True)),
                ("expiry_date", models.DateField()),
                ("response_date", models.DateField(blank=True, null=True)),
                (
                    "offer_letter",
                    models.FileField(blank=True, null=True, upload_to="offer_letters/"),
                ),
                ("approval_date", models.DateField(blank=True, null=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "application",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="offers",
                        to="floor_app.jobapplication",
                    ),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_offers",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "job_offers",
                "ordering": ["-sent_date"],
            },
        ),
        migrations.CreateModel(
            name="JobPosting",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("job_code", models.CharField(max_length=50, unique=True)),
                ("title", models.CharField(max_length=200)),
                ("department", models.CharField(max_length=100)),
                ("location", models.CharField(max_length=200)),
                (
                    "job_type",
                    models.CharField(
                        choices=[
                            ("FULL_TIME", "Full Time"),
                            ("PART_TIME", "Part Time"),
                            ("CONTRACT", "Contract"),
                            ("INTERN", "Internship"),
                        ],
                        max_length=20,
                    ),
                ),
                (
                    "experience_level",
                    models.CharField(
                        choices=[
                            ("ENTRY", "Entry Level"),
                            ("MID", "Mid Level"),
                            ("SENIOR", "Senior Level"),
                            ("EXECUTIVE", "Executive"),
                        ],
                        max_length=20,
                    ),
                ),
                ("description", models.TextField()),
                ("responsibilities", models.TextField()),
                ("requirements", models.TextField()),
                ("preferred_qualifications", models.TextField(blank=True)),
                (
                    "salary_min",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=12, null=True
                    ),
                ),
                (
                    "salary_max",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=12, null=True
                    ),
                ),
                ("currency", models.CharField(default="USD", max_length=3)),
                ("benefits", models.TextField(blank=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("PUBLISHED", "Published"),
                            ("CLOSED", "Closed"),
                            ("FILLED", "Filled"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="DRAFT",
                        max_length=20,
                    ),
                ),
                ("posted_date", models.DateField(blank=True, null=True)),
                ("closing_date", models.DateField(blank=True, null=True)),
                ("positions_count", models.IntegerField(default=1)),
                ("positions_filled", models.IntegerField(default=0)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "hiring_manager",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="managed_jobs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "posted_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="jobs_posted",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "recruiters",
                    models.ManyToManyField(
                        blank=True,
                        related_name="recruited_jobs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "job_postings",
                "ordering": ["-posted_date"],
            },
        ),
        migrations.AddField(
            model_name="jobapplication",
            name="job_posting",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="applications",
                to="floor_app.jobposting",
            ),
        ),
        migrations.CreateModel(
            name="JourneyPlan",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "journey_number",
                    models.CharField(
                        help_text="Unique journey ID (e.g., JRN-2025-0001)",
                        max_length=50,
                        unique=True,
                    ),
                ),
                (
                    "title",
                    models.CharField(help_text="Journey title/purpose", max_length=200),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True,
                        help_text="Detailed description of the journey purpose",
                    ),
                ),
                (
                    "departure_location",
                    models.CharField(help_text="Starting location", max_length=200),
                ),
                (
                    "destination",
                    models.CharField(help_text="Final destination", max_length=200),
                ),
                (
                    "planned_departure_time",
                    models.DateTimeField(help_text="Planned departure date/time"),
                ),
                (
                    "planned_return_time",
                    models.DateTimeField(help_text="Planned return date/time"),
                ),
                (
                    "actual_departure_time",
                    models.DateTimeField(
                        blank=True, help_text="Actual departure time", null=True
                    ),
                ),
                (
                    "actual_return_time",
                    models.DateTimeField(
                        blank=True, help_text="Actual return time", null=True
                    ),
                ),
                (
                    "route_description",
                    models.TextField(blank=True, help_text="Description of the route"),
                ),
                (
                    "estimated_distance_km",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Estimated distance in kilometers",
                        max_digits=8,
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "vehicle_type",
                    models.CharField(
                        choices=[
                            ("COMPANY_VEHICLE", "Company Vehicle"),
                            ("RENTAL", "Rental Vehicle"),
                            ("PERSONAL", "Personal Vehicle"),
                            ("PUBLIC_TRANSPORT", "Public Transport"),
                            ("FLIGHT", "Flight"),
                            ("OTHER", "Other"),
                        ],
                        help_text="Type of transportation",
                        max_length=50,
                    ),
                ),
                (
                    "vehicle_number",
                    models.CharField(
                        blank=True,
                        help_text="Vehicle registration/ID number",
                        max_length=50,
                    ),
                ),
                (
                    "vehicle_details",
                    models.JSONField(
                        blank=True, default=dict, help_text="Additional vehicle details"
                    ),
                ),
                (
                    "risk_level",
                    models.CharField(
                        choices=[
                            ("LOW", "Low Risk"),
                            ("MEDIUM", "Medium Risk"),
                            ("HIGH", "High Risk"),
                            ("CRITICAL", "Critical Risk"),
                        ],
                        default="LOW",
                        help_text="Overall risk level",
                        max_length=20,
                    ),
                ),
                (
                    "risk_assessment",
                    models.TextField(blank=True, help_text="Risk assessment notes"),
                ),
                (
                    "hazards_identified",
                    models.JSONField(
                        blank=True, default=list, help_text="List of identified hazards"
                    ),
                ),
                (
                    "mitigation_measures",
                    models.TextField(blank=True, help_text="Risk mitigation measures"),
                ),
                (
                    "emergency_contact_name",
                    models.CharField(
                        help_text="Emergency contact person", max_length=100
                    ),
                ),
                (
                    "emergency_contact_phone",
                    models.CharField(
                        help_text="Emergency contact phone", max_length=20
                    ),
                ),
                (
                    "emergency_contact_relationship",
                    models.CharField(
                        blank=True, help_text="Relationship to traveler", max_length=50
                    ),
                ),
                (
                    "medical_conditions",
                    models.TextField(
                        blank=True, help_text="Any medical conditions to be aware of"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("SUBMITTED", "Submitted for Approval"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="DRAFT",
                        help_text="Journey status",
                        max_length=20,
                    ),
                ),
                (
                    "submitted_date",
                    models.DateTimeField(
                        blank=True, help_text="When submitted for approval", null=True
                    ),
                ),
                (
                    "approval_date",
                    models.DateTimeField(
                        blank=True, help_text="When approved", null=True
                    ),
                ),
                (
                    "approval_comments",
                    models.TextField(
                        blank=True, help_text="Approval/rejection comments"
                    ),
                ),
                (
                    "completion_notes",
                    models.TextField(blank=True, help_text="Notes upon completion"),
                ),
                (
                    "incidents_reported",
                    models.BooleanField(
                        default=False,
                        help_text="Were any incidents reported during the journey",
                    ),
                ),
                (
                    "incident_details",
                    models.TextField(blank=True, help_text="Details of any incidents"),
                ),
                (
                    "purpose_category",
                    models.CharField(
                        choices=[
                            ("SITE_VISIT", "Site Visit"),
                            ("CLIENT_MEETING", "Client Meeting"),
                            ("INSPECTION", "Inspection"),
                            ("DELIVERY", "Delivery"),
                            ("TRAINING", "Training"),
                            ("MAINTENANCE", "Maintenance"),
                            ("OTHER", "Other"),
                        ],
                        default="OTHER",
                        help_text="Purpose category",
                        max_length=50,
                    ),
                ),
                (
                    "estimated_cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Estimated journey cost",
                        max_digits=10,
                        null=True,
                    ),
                ),
                (
                    "actual_cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Actual journey cost",
                        max_digits=10,
                        null=True,
                    ),
                ),
                (
                    "tags",
                    models.JSONField(
                        blank=True, default=list, help_text="Tags for categorization"
                    ),
                ),
                (
                    "custom_fields",
                    models.JSONField(
                        blank=True, default=dict, help_text="Additional custom fields"
                    ),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Who approved the journey",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_journeys",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "companions",
                    models.ManyToManyField(
                        blank=True,
                        help_text="Traveling companions",
                        related_name="accompanied_journeys",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "traveler",
                    models.ForeignKey(
                        help_text="Person traveling",
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="journeys",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Journey Plan",
                "verbose_name_plural": "Journey Plans",
                "db_table": "journey_plans",
                "ordering": ["-planned_departure_time"],
            },
        ),
        migrations.CreateModel(
            name="JourneyDocument",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "document_type",
                    models.CharField(
                        choices=[
                            ("ROUTE_MAP", "Route Map"),
                            ("RISK_ASSESSMENT", "Risk Assessment"),
                            ("PERMIT", "Permit/Authorization"),
                            ("INSURANCE", "Insurance Document"),
                            ("VEHICLE_DOCS", "Vehicle Documents"),
                            ("OTHER", "Other"),
                        ],
                        help_text="Type of document",
                        max_length=20,
                    ),
                ),
                ("title", models.CharField(help_text="Document title", max_length=200)),
                (
                    "file",
                    models.FileField(
                        help_text="Document file",
                        upload_to="journey_documents/%Y/%m/%d/",
                    ),
                ),
                (
                    "uploaded_date",
                    models.DateTimeField(auto_now_add=True, help_text="Upload date"),
                ),
                ("notes", models.TextField(blank=True, help_text="Additional notes")),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "uploaded_by",
                    models.ForeignKey(
                        help_text="Who uploaded the document",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "journey",
                    models.ForeignKey(
                        help_text="Related journey",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="documents",
                        to="floor_app.journeyplan",
                    ),
                ),
            ],
            options={
                "verbose_name": "Journey Document",
                "verbose_name_plural": "Journey Documents",
                "db_table": "journey_documents",
                "ordering": ["journey", "document_type", "title"],
            },
        ),
        migrations.CreateModel(
            name="JourneyStatusHistory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "from_status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("SUBMITTED", "Submitted for Approval"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        help_text="Previous status",
                        max_length=20,
                    ),
                ),
                (
                    "to_status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("SUBMITTED", "Submitted for Approval"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        help_text="New status",
                        max_length=20,
                    ),
                ),
                (
                    "changed_date",
                    models.DateTimeField(
                        auto_now_add=True, help_text="When status was changed"
                    ),
                ),
                ("reason", models.TextField(blank=True, help_text="Reason for change")),
                (
                    "changed_by",
                    models.ForeignKey(
                        help_text="Who changed the status",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "journey",
                    models.ForeignKey(
                        help_text="Related journey",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="status_history",
                        to="floor_app.journeyplan",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Journey Status History",
                "verbose_name_plural": "Journey Status Histories",
                "db_table": "journey_status_history",
                "ordering": ["journey", "changed_date"],
            },
        ),
        migrations.CreateModel(
            name="JourneyWaypoint",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "sequence",
                    models.IntegerField(help_text="Order in the journey (1, 2, 3...)"),
                ),
                (
                    "location_name",
                    models.CharField(
                        help_text="Waypoint location name", max_length=200
                    ),
                ),
                ("address", models.TextField(blank=True, help_text="Full address")),
                (
                    "gps_coordinates",
                    models.CharField(
                        blank=True,
                        help_text="GPS coordinates (lat,lng)",
                        max_length=100,
                    ),
                ),
                (
                    "planned_arrival_time",
                    models.DateTimeField(
                        blank=True, help_text="Planned arrival time", null=True
                    ),
                ),
                (
                    "planned_departure_time",
                    models.DateTimeField(
                        blank=True, help_text="Planned departure time", null=True
                    ),
                ),
                (
                    "actual_arrival_time",
                    models.DateTimeField(
                        blank=True, help_text="Actual arrival time", null=True
                    ),
                ),
                (
                    "actual_departure_time",
                    models.DateTimeField(
                        blank=True, help_text="Actual departure time", null=True
                    ),
                ),
                (
                    "purpose",
                    models.TextField(blank=True, help_text="Purpose of this stop"),
                ),
                (
                    "contact_person",
                    models.CharField(
                        blank=True,
                        help_text="Contact person at this location",
                        max_length=100,
                    ),
                ),
                (
                    "contact_phone",
                    models.CharField(
                        blank=True, help_text="Contact phone number", max_length=20
                    ),
                ),
                ("notes", models.TextField(blank=True, help_text="Additional notes")),
                (
                    "completed",
                    models.BooleanField(default=False, help_text="Waypoint completed"),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "journey",
                    models.ForeignKey(
                        help_text="Related journey",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="waypoints",
                        to="floor_app.journeyplan",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Journey Waypoint",
                "verbose_name_plural": "Journey Waypoints",
                "db_table": "journey_waypoints",
                "ordering": ["journey", "sequence"],
            },
        ),
        migrations.CreateModel(
            name="JourneyCheckIn",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "check_type",
                    models.CharField(
                        choices=[
                            ("DEPARTURE", "Departure Check"),
                            ("ARRIVAL", "Arrival Check"),
                            ("WAYPOINT", "Waypoint Check"),
                            ("RETURN", "Return Check"),
                        ],
                        help_text="Type of check-in",
                        max_length=20,
                    ),
                ),
                (
                    "check_time",
                    models.DateTimeField(
                        auto_now_add=True, help_text="When check-in was made"
                    ),
                ),
                (
                    "location_name",
                    models.CharField(help_text="Location name", max_length=200),
                ),
                (
                    "gps_coordinates",
                    models.CharField(
                        blank=True,
                        help_text="GPS coordinates at check-in",
                        max_length=100,
                    ),
                ),
                ("notes", models.TextField(blank=True, help_text="Check-in notes")),
                (
                    "vehicle_odometer",
                    models.IntegerField(
                        blank=True, help_text="Vehicle odometer reading", null=True
                    ),
                ),
                (
                    "fuel_level",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("FULL", "Full"),
                            ("3/4", "3/4"),
                            ("1/2", "1/2"),
                            ("1/4", "1/4"),
                            ("LOW", "Low"),
                        ],
                        help_text="Fuel level",
                        max_length=20,
                    ),
                ),
                (
                    "all_safe",
                    models.BooleanField(
                        default=True, help_text="Everything safe and as expected"
                    ),
                ),
                (
                    "issues_reported",
                    models.TextField(blank=True, help_text="Any issues to report"),
                ),
                (
                    "photo",
                    models.ImageField(
                        blank=True,
                        help_text="Optional photo at check-in",
                        null=True,
                        upload_to="journey_checkins/%Y/%m/%d/",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "journey",
                    models.ForeignKey(
                        help_text="Related journey",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="check_ins",
                        to="floor_app.journeyplan",
                    ),
                ),
                (
                    "waypoint",
                    models.ForeignKey(
                        blank=True,
                        help_text="Related waypoint (if applicable)",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="check_ins",
                        to="floor_app.journeywaypoint",
                    ),
                ),
            ],
            options={
                "verbose_name": "Journey Check-In",
                "verbose_name_plural": "Journey Check-Ins",
                "db_table": "journey_check_ins",
                "ordering": ["journey", "check_time"],
            },
        ),
        migrations.CreateModel(
            name="MeetingRoom",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "name",
                    models.CharField(
                        help_text="Room name", max_length=100, unique=True
                    ),
                ),
                (
                    "code",
                    models.CharField(
                        help_text="Room code/identifier", max_length=20, unique=True
                    ),
                ),
                ("building", models.CharField(blank=True, max_length=100)),
                ("floor_level", models.CharField(blank=True, max_length=50)),
                ("location_details", models.CharField(blank=True, max_length=200)),
                ("capacity", models.IntegerField(help_text="Maximum number of people")),
                ("description", models.TextField(blank=True)),
                ("has_projector", models.BooleanField(default=False)),
                ("has_whiteboard", models.BooleanField(default=False)),
                ("has_tv", models.BooleanField(default=False)),
                ("has_video_conference", models.BooleanField(default=False)),
                ("has_phone", models.BooleanField(default=False)),
                ("has_wifi", models.BooleanField(default=True)),
                (
                    "equipment",
                    models.JSONField(
                        blank=True, default=list, help_text="List of equipment/features"
                    ),
                ),
                ("is_active", models.BooleanField(default=True)),
                ("is_bookable", models.BooleanField(default=True)),
                (
                    "booking_advance_days",
                    models.IntegerField(
                        default=30, help_text="How many days in advance can be booked"
                    ),
                ),
                (
                    "min_booking_duration",
                    models.IntegerField(
                        default=30, help_text="Minimum booking duration (minutes)"
                    ),
                ),
                (
                    "max_booking_duration",
                    models.IntegerField(
                        default=480, help_text="Maximum booking duration (minutes)"
                    ),
                ),
                (
                    "requires_approval",
                    models.BooleanField(
                        default=False, help_text="Requires approval before booking"
                    ),
                ),
                (
                    "allowed_departments",
                    models.JSONField(
                        blank=True, default=list, help_text="Restricted to departments"
                    ),
                ),
                (
                    "photo",
                    models.ImageField(
                        blank=True, null=True, upload_to="meeting_rooms/"
                    ),
                ),
                ("booking_instructions", models.TextField(blank=True)),
                ("custom_fields", models.JSONField(blank=True, default=dict)),
                (
                    "allowed_users",
                    models.ManyToManyField(
                        blank=True,
                        related_name="allowed_rooms",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "meeting_rooms",
                "ordering": ["name"],
            },
        ),
        migrations.CreateModel(
            name="MessageRead",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("read_at", models.DateTimeField(auto_now_add=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "message",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="read_receipts",
                        to="floor_app.chatmessage",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="read_messages",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "message_read_receipts",
            },
        ),
        migrations.CreateModel(
            name="MorningMeeting",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("meeting_number", models.CharField(max_length=50, unique=True)),
                ("meeting_date", models.DateField()),
                ("start_time", models.TimeField()),
                ("end_time", models.TimeField(blank=True, null=True)),
                (
                    "actual_duration",
                    models.IntegerField(
                        blank=True, help_text="Actual duration (minutes)", null=True
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("SCHEDULED", "Scheduled"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="SCHEDULED",
                        max_length=20,
                    ),
                ),
                ("started_at", models.DateTimeField(blank=True, null=True)),
                ("completed_at", models.DateTimeField(blank=True, null=True)),
                (
                    "agenda_items",
                    models.JSONField(default=list, help_text="Agenda items"),
                ),
                ("meeting_notes", models.TextField(blank=True)),
                (
                    "key_points",
                    models.JSONField(
                        blank=True, default=list, help_text="Key discussion points"
                    ),
                ),
                (
                    "action_items",
                    models.JSONField(
                        blank=True, default=list, help_text="Action items with owners"
                    ),
                ),
                (
                    "safety_moments",
                    models.TextField(blank=True, help_text="Safety moment shared"),
                ),
                ("total_expected", models.IntegerField(default=0)),
                ("total_present", models.IntegerField(default=0)),
                ("total_absent", models.IntegerField(default=0)),
                ("total_late", models.IntegerField(default=0)),
                ("photos", models.JSONField(blank=True, default=list)),
                ("documents", models.JSONField(blank=True, default=list)),
                ("notes", models.TextField(blank=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "led_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="led_morning_meetings",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "morning_meetings",
                "ordering": ["-meeting_date", "start_time"],
            },
        ),
        migrations.CreateModel(
            name="MorningMeetingAttendance",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PRESENT", "Present"),
                            ("ABSENT", "Absent"),
                            ("LATE", "Late"),
                            ("EXCUSED", "Excused"),
                        ],
                        default="PRESENT",
                        max_length=20,
                    ),
                ),
                ("check_in_time", models.TimeField(blank=True, null=True)),
                ("minutes_late", models.IntegerField(blank=True, null=True)),
                ("absence_reason", models.TextField(blank=True)),
                ("excuse_provided", models.BooleanField(default=False)),
                ("excuse_approved", models.BooleanField(default=False)),
                (
                    "contributed",
                    models.BooleanField(
                        default=False, help_text="Actively contributed in meeting"
                    ),
                ),
                ("contribution_notes", models.TextField(blank=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="morning_meeting_attendance",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "meeting",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attendance",
                        to="floor_app.morningmeeting",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "morning_meeting_attendance",
                "ordering": ["meeting", "employee"],
            },
        ),
        migrations.CreateModel(
            name="MorningMeetingGroup",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("name", models.CharField(max_length=100, unique=True)),
                ("code", models.CharField(max_length=20, unique=True)),
                ("description", models.TextField(blank=True)),
                ("department", models.CharField(blank=True, max_length=100)),
                (
                    "meeting_days",
                    models.JSONField(
                        default=list, help_text="Days of week [0=Monday, 6=Sunday]"
                    ),
                ),
                ("meeting_time", models.TimeField(help_text="Default meeting time")),
                (
                    "typical_duration",
                    models.IntegerField(
                        default=15, help_text="Typical duration (minutes)"
                    ),
                ),
                ("location", models.CharField(blank=True, max_length=200)),
                ("is_active", models.BooleanField(default=True)),
                ("attendance_mandatory", models.BooleanField(default=True)),
                (
                    "auto_create_meetings",
                    models.BooleanField(
                        default=True, help_text="Auto-create daily meetings"
                    ),
                ),
                (
                    "agenda_template",
                    models.JSONField(default=list, help_text="Standard agenda items"),
                ),
                ("custom_fields", models.JSONField(blank=True, default=dict)),
                (
                    "coordinator",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="coordinated_morning_groups",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "meeting_room",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="floor_app.meetingroom",
                    ),
                ),
                (
                    "members",
                    models.ManyToManyField(
                        related_name="morning_meeting_groups",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "morning_meeting_groups",
                "ordering": ["name"],
            },
        ),
        migrations.AddField(
            model_name="morningmeeting",
            name="group",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="meetings",
                to="floor_app.morningmeetinggroup",
            ),
        ),
        migrations.CreateModel(
            name="OCRProcessingLog",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("step_name", models.CharField(max_length=100)),
                (
                    "step_status",
                    models.CharField(
                        choices=[
                            ("STARTED", "Started"),
                            ("COMPLETED", "Completed"),
                            ("FAILED", "Failed"),
                        ],
                        max_length=20,
                    ),
                ),
                ("started_at", models.DateTimeField(auto_now_add=True)),
                ("completed_at", models.DateTimeField(blank=True, null=True)),
                (
                    "duration_seconds",
                    models.DecimalField(
                        blank=True, decimal_places=3, max_digits=10, null=True
                    ),
                ),
                ("details", models.JSONField(default=dict)),
                ("error_message", models.TextField(blank=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "extraction",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="processing_logs",
                        to="floor_app.dataextraction",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "ocr_processing_logs",
                "ordering": ["started_at"],
            },
        ),
        migrations.CreateModel(
            name="ParkingZone",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("name", models.CharField(max_length=100, unique=True)),
                ("code", models.CharField(max_length=20, unique=True)),
                ("description", models.TextField(blank=True)),
                (
                    "location",
                    models.CharField(
                        blank=True, help_text="Physical location", max_length=200
                    ),
                ),
                ("building", models.CharField(blank=True, max_length=100)),
                ("floor_level", models.CharField(blank=True, max_length=50)),
                ("total_spots", models.IntegerField(default=0)),
                ("is_active", models.BooleanField(default=True)),
                ("is_covered", models.BooleanField(default=False)),
                ("is_secure", models.BooleanField(default=False)),
                ("notes", models.TextField(blank=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "hr_parking_zones",
                "ordering": ["code"],
            },
        ),
        migrations.CreateModel(
            name="ParkingSpot",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "spot_number",
                    models.CharField(help_text="Spot number/identifier", max_length=20),
                ),
                (
                    "spot_type",
                    models.CharField(
                        choices=[
                            ("STANDARD", "Standard"),
                            ("COMPACT", "Compact"),
                            ("LARGE", "Large/Truck"),
                            ("DISABLED", "Disabled Access"),
                            ("EV_CHARGING", "EV Charging"),
                            ("MOTORCYCLE", "Motorcycle"),
                            ("VISITOR", "Visitor"),
                            ("EXECUTIVE", "Executive"),
                        ],
                        default="STANDARD",
                        max_length=20,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("AVAILABLE", "Available"),
                            ("ASSIGNED", "Assigned"),
                            ("OCCUPIED", "Occupied"),
                            ("RESERVED", "Reserved"),
                            ("MAINTENANCE", "Under Maintenance"),
                            ("DISABLED", "Disabled"),
                        ],
                        default="AVAILABLE",
                        max_length=20,
                    ),
                ),
                ("assignment_date", models.DateField(blank=True, null=True)),
                ("assignment_end_date", models.DateField(blank=True, null=True)),
                ("notes", models.TextField(blank=True)),
                ("is_active", models.BooleanField(default=True)),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_parking_spots",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "zone",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="spots",
                        to="floor_app.parkingzone",
                    ),
                ),
            ],
            options={
                "db_table": "hr_parking_spots",
                "ordering": ["zone", "spot_number"],
            },
        ),
        migrations.CreateModel(
            name="Phone",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "device_id",
                    models.CharField(
                        help_text="Device ID/Serial number", max_length=50, unique=True
                    ),
                ),
                (
                    "imei",
                    models.CharField(
                        blank=True,
                        help_text="IMEI number",
                        max_length=20,
                        null=True,
                        unique=True,
                    ),
                ),
                ("make", models.CharField(help_text="Manufacturer", max_length=50)),
                ("model", models.CharField(help_text="Model", max_length=50)),
                (
                    "os",
                    models.CharField(
                        choices=[
                            ("IOS", "iOS"),
                            ("ANDROID", "Android"),
                            ("OTHER", "Other"),
                        ],
                        help_text="Operating system",
                        max_length=20,
                    ),
                ),
                ("os_version", models.CharField(blank=True, max_length=20)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("AVAILABLE", "Available"),
                            ("ASSIGNED", "Assigned"),
                            ("IN_USE", "In Use"),
                            ("REPAIR", "Under Repair"),
                            ("LOST", "Lost"),
                            ("DAMAGED", "Damaged"),
                            ("RETIRED", "Retired"),
                        ],
                        default="AVAILABLE",
                        max_length=20,
                    ),
                ),
                ("assignment_date", models.DateField(blank=True, null=True)),
                ("purchase_date", models.DateField(blank=True, null=True)),
                (
                    "purchase_price",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=10, null=True
                    ),
                ),
                ("warranty_expiry", models.DateField(blank=True, null=True)),
                ("has_charger", models.BooleanField(default=True)),
                ("has_case", models.BooleanField(default=False)),
                ("has_screen_protector", models.BooleanField(default=False)),
                ("accessories_notes", models.TextField(blank=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "photo",
                    models.ImageField(blank=True, null=True, upload_to="phones/"),
                ),
                ("custom_fields", models.JSONField(blank=True, default=dict)),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_phones",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "hr_phones",
                "ordering": ["device_id"],
            },
        ),
        migrations.CreateModel(
            name="PhoneAssignment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("start_date", models.DateField()),
                ("end_date", models.DateField(blank=True, null=True)),
                ("purpose", models.TextField(blank=True)),
                (
                    "condition_at_assignment",
                    models.CharField(
                        choices=[
                            ("EXCELLENT", "Excellent"),
                            ("GOOD", "Good"),
                            ("FAIR", "Fair"),
                            ("POOR", "Poor"),
                        ],
                        default="GOOD",
                        max_length=20,
                    ),
                ),
                ("condition_at_return", models.CharField(blank=True, max_length=20)),
                ("notes", models.TextField(blank=True)),
                ("is_active", models.BooleanField(default=True)),
                (
                    "assigned_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="phone_assignments_made",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="phone_assignments",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "phone",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="assignments",
                        to="floor_app.phone",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "hr_phone_assignments",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="Quotation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("quotation_number", models.CharField(max_length=50, unique=True)),
                ("submitted_date", models.DateTimeField(blank=True, null=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("SUBMITTED", "Submitted"),
                            ("UNDER_REVIEW", "Under Review"),
                            ("SHORTLISTED", "Shortlisted"),
                            ("ACCEPTED", "Accepted"),
                            ("REJECTED", "Rejected"),
                        ],
                        default="DRAFT",
                        max_length=20,
                    ),
                ),
                (
                    "line_items",
                    models.JSONField(
                        default=list, help_text="Quoted prices for RFQ items"
                    ),
                ),
                (
                    "subtotal",
                    models.DecimalField(decimal_places=2, default=0, max_digits=12),
                ),
                (
                    "tax_amount",
                    models.DecimalField(decimal_places=2, default=0, max_digits=12),
                ),
                (
                    "shipping_cost",
                    models.DecimalField(decimal_places=2, default=0, max_digits=12),
                ),
                (
                    "total_amount",
                    models.DecimalField(decimal_places=2, default=0, max_digits=12),
                ),
                ("currency", models.CharField(default="USD", max_length=3)),
                ("payment_terms", models.TextField(blank=True)),
                ("delivery_timeframe", models.CharField(blank=True, max_length=200)),
                ("warranty", models.TextField(blank=True)),
                (
                    "validity_days",
                    models.IntegerField(default=30, help_text="Quote valid for X days"),
                ),
                ("documents", models.JSONField(blank=True, default=list)),
                (
                    "technical_score",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                (
                    "commercial_score",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                (
                    "overall_score",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                ("evaluation_notes", models.TextField(blank=True)),
                ("evaluation_date", models.DateField(blank=True, null=True)),
                ("rejection_reason", models.TextField(blank=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "evaluated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="evaluated_quotations",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "submitted_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="submitted_quotations",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "quotations",
                "ordering": ["-submitted_date"],
            },
        ),
        migrations.CreateModel(
            name="RFQ",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("rfq_number", models.CharField(max_length=50, unique=True)),
                ("title", models.CharField(max_length=200)),
                ("description", models.TextField()),
                ("department", models.CharField(blank=True, max_length=100)),
                ("project", models.CharField(blank=True, max_length=100)),
                ("issue_date", models.DateField()),
                ("submission_deadline", models.DateTimeField()),
                ("required_delivery_date", models.DateField(blank=True, null=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("PUBLISHED", "Published"),
                            ("CLOSED", "Closed"),
                            ("AWARDED", "Awarded"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="DRAFT",
                        max_length=20,
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                            ("HIGH", "High"),
                            ("URGENT", "Urgent"),
                        ],
                        default="MEDIUM",
                        max_length=20,
                    ),
                ),
                (
                    "published_publicly",
                    models.BooleanField(
                        default=False, help_text="Allow all vendors to submit"
                    ),
                ),
                (
                    "line_items",
                    models.JSONField(
                        default=list, help_text="RFQ line items with specs"
                    ),
                ),
                ("payment_terms", models.TextField(blank=True)),
                ("delivery_terms", models.TextField(blank=True)),
                ("warranty_requirements", models.TextField(blank=True)),
                ("special_requirements", models.TextField(blank=True)),
                ("terms_and_conditions", models.TextField(blank=True)),
                ("attachments", models.JSONField(blank=True, default=list)),
                (
                    "evaluation_criteria",
                    models.JSONField(
                        default=dict, help_text="Criteria weights for evaluation"
                    ),
                ),
                ("award_date", models.DateField(blank=True, null=True)),
                ("award_notes", models.TextField(blank=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "awarded_quotation",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="rfq_won",
                        to="floor_app.quotation",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "requested_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="rfqs_requested",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "rfqs",
                "ordering": ["-issue_date"],
            },
        ),
        migrations.AddField(
            model_name="quotation",
            name="rfq",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="quotations",
                to="floor_app.rfq",
            ),
        ),
        migrations.CreateModel(
            name="RoomBooking",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("booking_number", models.CharField(max_length=50, unique=True)),
                (
                    "title",
                    models.CharField(help_text="Meeting title/subject", max_length=200),
                ),
                ("description", models.TextField(blank=True)),
                (
                    "meeting_type",
                    models.CharField(
                        choices=[
                            ("INTERNAL", "Internal Meeting"),
                            ("CLIENT", "Client Meeting"),
                            ("TRAINING", "Training"),
                            ("INTERVIEW", "Interview"),
                            ("WORKSHOP", "Workshop"),
                            ("OTHER", "Other"),
                        ],
                        default="INTERNAL",
                        max_length=50,
                    ),
                ),
                ("start_time", models.DateTimeField(help_text="Meeting start time")),
                ("end_time", models.DateTimeField(help_text="Meeting end time")),
                (
                    "duration_minutes",
                    models.IntegerField(help_text="Duration in minutes"),
                ),
                (
                    "expected_attendees",
                    models.IntegerField(
                        validators=[django.core.validators.MinValueValidator(1)]
                    ),
                ),
                (
                    "external_participants",
                    models.TextField(
                        blank=True, help_text="External participants (names/emails)"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending Approval"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("CONFIRMED", "Confirmed"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                            ("NO_SHOW", "No Show"),
                        ],
                        default="PENDING",
                        max_length=20,
                    ),
                ),
                ("approval_date", models.DateTimeField(blank=True, null=True)),
                ("rejection_reason", models.TextField(blank=True)),
                (
                    "setup_requirements",
                    models.TextField(blank=True, help_text="Special setup needs"),
                ),
                ("catering_required", models.BooleanField(default=False)),
                ("catering_details", models.TextField(blank=True)),
                ("it_support_required", models.BooleanField(default=False)),
                ("it_support_details", models.TextField(blank=True)),
                ("checked_in", models.BooleanField(default=False)),
                ("check_in_time", models.DateTimeField(blank=True, null=True)),
                ("checked_out", models.BooleanField(default=False)),
                ("check_out_time", models.DateTimeField(blank=True, null=True)),
                ("actual_attendees", models.IntegerField(blank=True, null=True)),
                ("reminder_sent", models.BooleanField(default=False)),
                ("reminder_sent_at", models.DateTimeField(blank=True, null=True)),
                ("is_recurring", models.BooleanField(default=False)),
                (
                    "recurrence_pattern",
                    models.JSONField(
                        blank=True, default=dict, help_text="Recurrence configuration"
                    ),
                ),
                ("notes", models.TextField(blank=True)),
                ("cancellation_reason", models.TextField(blank=True)),
                ("feedback", models.TextField(blank=True)),
                (
                    "rating",
                    models.IntegerField(
                        blank=True,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ],
                    ),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_bookings",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "booked_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="room_bookings",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "organizer",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="organized_meetings",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "parent_booking",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="recurring_instances",
                        to="floor_app.roombooking",
                    ),
                ),
                (
                    "participants",
                    models.ManyToManyField(
                        blank=True,
                        related_name="meeting_participants",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "room",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="bookings",
                        to="floor_app.meetingroom",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "room_bookings",
                "ordering": ["-start_time"],
            },
        ),
        migrations.CreateModel(
            name="MeetingActionItem",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("title", models.CharField(max_length=200)),
                ("description", models.TextField()),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                            ("HIGH", "High"),
                            ("URGENT", "Urgent"),
                        ],
                        default="MEDIUM",
                        max_length=20,
                    ),
                ),
                ("due_date", models.DateField()),
                ("completed_date", models.DateField(blank=True, null=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                            ("OVERDUE", "Overdue"),
                        ],
                        default="PENDING",
                        max_length=20,
                    ),
                ),
                ("completion_notes", models.TextField(blank=True)),
                ("notes", models.TextField(blank=True)),
                (
                    "assigned_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="created_action_items",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="assigned_action_items",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "morning_meeting",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="action_items_detail",
                        to="floor_app.morningmeeting",
                    ),
                ),
                (
                    "room_booking",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="action_items",
                        to="floor_app.roombooking",
                    ),
                ),
            ],
            options={
                "db_table": "meeting_action_items",
                "ordering": ["-due_date", "priority"],
            },
        ),
        migrations.CreateModel(
            name="SIMCard",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "sim_number",
                    models.CharField(
                        help_text="SIM card number/ICCID", max_length=50, unique=True
                    ),
                ),
                (
                    "phone_number",
                    models.CharField(
                        help_text="Phone number", max_length=20, unique=True
                    ),
                ),
                (
                    "carrier",
                    models.CharField(
                        help_text="Mobile carrier/provider", max_length=50
                    ),
                ),
                (
                    "plan_type",
                    models.CharField(
                        blank=True, help_text="Data plan type", max_length=50
                    ),
                ),
                (
                    "monthly_cost",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=8, null=True
                    ),
                ),
                (
                    "data_limit_gb",
                    models.IntegerField(
                        blank=True, help_text="Monthly data limit (GB)", null=True
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("AVAILABLE", "Available"),
                            ("ASSIGNED", "Assigned"),
                            ("ACTIVE", "Active"),
                            ("SUSPENDED", "Suspended"),
                            ("LOST", "Lost"),
                            ("DAMAGED", "Damaged"),
                            ("TERMINATED", "Terminated"),
                        ],
                        default="AVAILABLE",
                        max_length=20,
                    ),
                ),
                ("assignment_date", models.DateField(blank=True, null=True)),
                ("activation_date", models.DateField(blank=True, null=True)),
                ("expiry_date", models.DateField(blank=True, null=True)),
                ("last_recharge_date", models.DateField(blank=True, null=True)),
                (
                    "pin_code",
                    models.CharField(
                        blank=True, help_text="PIN code (encrypted)", max_length=20
                    ),
                ),
                (
                    "puk_code",
                    models.CharField(
                        blank=True, help_text="PUK code (encrypted)", max_length=20
                    ),
                ),
                (
                    "account_number",
                    models.CharField(
                        blank=True, help_text="Carrier account number", max_length=50
                    ),
                ),
                (
                    "current_usage_gb",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=10, null=True
                    ),
                ),
                ("last_usage_update", models.DateField(blank=True, null=True)),
                ("notes", models.TextField(blank=True)),
                ("custom_fields", models.JSONField(blank=True, default=dict)),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_sims",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "hr_sim_cards",
                "ordering": ["phone_number"],
            },
        ),
        migrations.CreateModel(
            name="SIMAssignment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("start_date", models.DateField()),
                ("end_date", models.DateField(blank=True, null=True)),
                ("purpose", models.TextField(blank=True)),
                ("notes", models.TextField(blank=True)),
                ("is_active", models.BooleanField(default=True)),
                (
                    "assigned_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="sim_assignments_made",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="sim_assignments",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "sim",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="assignments",
                        to="floor_app.simcard",
                    ),
                ),
            ],
            options={
                "db_table": "hr_sim_assignments",
                "ordering": ["-start_date"],
            },
        ),
        migrations.AddField(
            model_name="phone",
            name="sim_card",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="phones",
                to="floor_app.simcard",
            ),
        ),
        migrations.CreateModel(
            name="SmartFieldSuggestion",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("suggested_model", models.CharField(max_length=100)),
                ("suggested_field", models.CharField(max_length=100)),
                ("confidence", models.DecimalField(decimal_places=2, max_digits=5)),
                ("reason", models.TextField(blank=True)),
                ("matching_factors", models.JSONField(default=list)),
                ("accepted", models.BooleanField(default=False)),
                ("rejected", models.BooleanField(default=False)),
                ("feedback", models.TextField(blank=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "extracted_field",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="suggestions",
                        to="floor_app.extractedfield",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "smart_field_suggestions",
                "ordering": ["-confidence"],
            },
        ),
        migrations.CreateModel(
            name="Vehicle",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "vehicle_number",
                    models.CharField(
                        help_text="Vehicle ID/number", max_length=50, unique=True
                    ),
                ),
                (
                    "plate_number",
                    models.CharField(
                        help_text="License plate number", max_length=50, unique=True
                    ),
                ),
                (
                    "vehicle_type",
                    models.CharField(
                        choices=[
                            ("SEDAN", "Sedan"),
                            ("SUV", "SUV"),
                            ("TRUCK", "Truck"),
                            ("VAN", "Van"),
                            ("BUS", "Bus"),
                            ("MOTORCYCLE", "Motorcycle"),
                            ("FORKLIFT", "Forklift"),
                            ("OTHER", "Other"),
                        ],
                        help_text="Type of vehicle",
                        max_length=20,
                    ),
                ),
                ("make", models.CharField(help_text="Manufacturer", max_length=50)),
                ("model", models.CharField(help_text="Model", max_length=50)),
                ("year", models.IntegerField(help_text="Manufacturing year")),
                (
                    "color",
                    models.CharField(
                        blank=True, help_text="Vehicle color", max_length=30
                    ),
                ),
                (
                    "vin_number",
                    models.CharField(
                        blank=True,
                        help_text="VIN number",
                        max_length=50,
                        null=True,
                        unique=True,
                    ),
                ),
                (
                    "seating_capacity",
                    models.IntegerField(
                        blank=True, help_text="Number of seats", null=True
                    ),
                ),
                (
                    "load_capacity_kg",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Load capacity in kg",
                        max_digits=10,
                        null=True,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("AVAILABLE", "Available"),
                            ("ASSIGNED", "Assigned"),
                            ("IN_USE", "In Use"),
                            ("MAINTENANCE", "Under Maintenance"),
                            ("OUT_OF_SERVICE", "Out of Service"),
                            ("RETIRED", "Retired"),
                        ],
                        default="AVAILABLE",
                        max_length=20,
                    ),
                ),
                ("assignment_date", models.DateField(blank=True, null=True)),
                ("purchase_date", models.DateField(blank=True, null=True)),
                (
                    "purchase_price",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=12, null=True
                    ),
                ),
                (
                    "current_odometer",
                    models.IntegerField(
                        default=0, help_text="Current odometer reading (km)"
                    ),
                ),
                (
                    "fuel_type",
                    models.CharField(
                        choices=[
                            ("PETROL", "Petrol"),
                            ("DIESEL", "Diesel"),
                            ("ELECTRIC", "Electric"),
                            ("HYBRID", "Hybrid"),
                            ("CNG", "CNG"),
                        ],
                        default="PETROL",
                        max_length=20,
                    ),
                ),
                ("fuel_card_number", models.CharField(blank=True, max_length=50)),
                ("insurance_company", models.CharField(blank=True, max_length=100)),
                (
                    "insurance_policy_number",
                    models.CharField(blank=True, max_length=50),
                ),
                ("insurance_expiry_date", models.DateField(blank=True, null=True)),
                ("registration_expiry_date", models.DateField(blank=True, null=True)),
                ("last_service_date", models.DateField(blank=True, null=True)),
                ("last_service_odometer", models.IntegerField(blank=True, null=True)),
                ("next_service_due", models.DateField(blank=True, null=True)),
                (
                    "service_interval_km",
                    models.IntegerField(
                        default=5000, help_text="Service interval in km"
                    ),
                ),
                ("current_location", models.CharField(blank=True, max_length=200)),
                ("notes", models.TextField(blank=True)),
                (
                    "photo",
                    models.ImageField(blank=True, null=True, upload_to="vehicles/"),
                ),
                (
                    "documents",
                    models.JSONField(
                        blank=True, default=dict, help_text="Document references"
                    ),
                ),
                ("custom_fields", models.JSONField(blank=True, default=dict)),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_vehicles",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "parking_spot",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="parked_vehicles",
                        to="floor_app.parkingspot",
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Vehicle",
                "verbose_name_plural": "Vehicles",
                "db_table": "hr_vehicles",
                "ordering": ["vehicle_number"],
            },
        ),
        migrations.CreateModel(
            name="ParkingAssignment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("start_date", models.DateField()),
                ("end_date", models.DateField(blank=True, null=True)),
                ("notes", models.TextField(blank=True)),
                ("is_active", models.BooleanField(default=True)),
                (
                    "assigned_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="parking_assignments_made",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="parking_assignments",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "spot",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="assignments",
                        to="floor_app.parkingspot",
                    ),
                ),
                (
                    "vehicle",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="parking_assignments",
                        to="floor_app.vehicle",
                    ),
                ),
            ],
            options={
                "db_table": "hr_parking_assignments",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="VehicleAssignment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("start_date", models.DateField()),
                ("end_date", models.DateField(blank=True, null=True)),
                ("purpose", models.TextField(blank=True)),
                ("start_odometer", models.IntegerField(blank=True, null=True)),
                ("end_odometer", models.IntegerField(blank=True, null=True)),
                ("notes", models.TextField(blank=True)),
                ("is_active", models.BooleanField(default=True)),
                (
                    "assigned_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="vehicle_assignments_made",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="vehicle_assignments",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "vehicle",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="assignments",
                        to="floor_app.vehicle",
                    ),
                ),
            ],
            options={
                "db_table": "hr_vehicle_assignments",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="Vendor",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("vendor_code", models.CharField(max_length=50, unique=True)),
                ("company_name", models.CharField(max_length=200)),
                ("legal_name", models.CharField(blank=True, max_length=200)),
                ("registration_number", models.CharField(blank=True, max_length=100)),
                ("tax_id", models.CharField(blank=True, max_length=50)),
                ("contact_person", models.CharField(max_length=100)),
                ("contact_email", models.EmailField(max_length=254)),
                ("contact_phone", models.CharField(max_length=20)),
                ("website", models.URLField(blank=True)),
                ("address", models.TextField()),
                ("city", models.CharField(max_length=100)),
                ("state", models.CharField(blank=True, max_length=100)),
                ("country", models.CharField(max_length=100)),
                ("postal_code", models.CharField(blank=True, max_length=20)),
                (
                    "categories",
                    models.JSONField(
                        default=list, help_text="Product/service categories"
                    ),
                ),
                ("specializations", models.TextField(blank=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending Approval"),
                            ("APPROVED", "Approved"),
                            ("ACTIVE", "Active"),
                            ("SUSPENDED", "Suspended"),
                            ("BLACKLISTED", "Blacklisted"),
                        ],
                        default="PENDING",
                        max_length=20,
                    ),
                ),
                ("approval_date", models.DateField(blank=True, null=True)),
                (
                    "rating",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=3,
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                ("total_rfqs_received", models.IntegerField(default=0)),
                ("total_rfqs_responded", models.IntegerField(default=0)),
                ("total_orders", models.IntegerField(default=0)),
                (
                    "on_time_delivery_rate",
                    models.DecimalField(
                        blank=True, decimal_places=2, max_digits=5, null=True
                    ),
                ),
                ("bank_name", models.CharField(blank=True, max_length=100)),
                ("account_number", models.CharField(blank=True, max_length=50)),
                ("bank_details", models.JSONField(blank=True, default=dict)),
                ("documents", models.JSONField(blank=True, default=dict)),
                ("notes", models.TextField(blank=True)),
                ("is_active", models.BooleanField(default=True)),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_vendors",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "portal_user",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="vendor_profile",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "db_table": "vendors",
                "ordering": ["company_name"],
            },
        ),
        migrations.AddField(
            model_name="rfq",
            name="awarded_vendor",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="rfqs_won",
                to="floor_app.vendor",
            ),
        ),
        migrations.AddField(
            model_name="rfq",
            name="invited_vendors",
            field=models.ManyToManyField(
                related_name="rfqs_invited", to="floor_app.vendor"
            ),
        ),
        migrations.AddField(
            model_name="quotation",
            name="vendor",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="quotations",
                to="floor_app.vendor",
            ),
        ),
        migrations.CreateModel(
            name="PurchaseOrder",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("po_number", models.CharField(max_length=50, unique=True)),
                ("po_date", models.DateField()),
                ("expected_delivery_date", models.DateField()),
                ("actual_delivery_date", models.DateField(blank=True, null=True)),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("SENT", "Sent to Vendor"),
                            ("ACKNOWLEDGED", "Acknowledged by Vendor"),
                            ("IN_PROGRESS", "In Progress"),
                            ("PARTIALLY_DELIVERED", "Partially Delivered"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="DRAFT",
                        max_length=20,
                    ),
                ),
                ("line_items", models.JSONField(default=list)),
                ("subtotal", models.DecimalField(decimal_places=2, max_digits=12)),
                ("tax_amount", models.DecimalField(decimal_places=2, max_digits=12)),
                (
                    "shipping_cost",
                    models.DecimalField(decimal_places=2, default=0, max_digits=12),
                ),
                ("total_amount", models.DecimalField(decimal_places=2, max_digits=12)),
                ("currency", models.CharField(default="USD", max_length=3)),
                ("payment_terms", models.TextField()),
                ("delivery_terms", models.TextField()),
                ("warranty_terms", models.TextField(blank=True)),
                ("shipping_address", models.TextField()),
                ("billing_address", models.TextField()),
                ("contact_person", models.CharField(max_length=100)),
                ("contact_phone", models.CharField(max_length=20)),
                ("approval_date", models.DateField(blank=True, null=True)),
                ("acknowledged_date", models.DateField(blank=True, null=True)),
                ("vendor_reference", models.CharField(blank=True, max_length=100)),
                ("notes", models.TextField(blank=True)),
                (
                    "approved_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_pos",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "quotation",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="purchase_orders",
                        to="floor_app.quotation",
                    ),
                ),
                (
                    "vendor",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="purchase_orders",
                        to="floor_app.vendor",
                    ),
                ),
            ],
            options={
                "db_table": "purchase_orders",
                "ordering": ["-po_date"],
            },
        ),
        migrations.CreateModel(
            name="VendorCommunication",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                (
                    "communication_type",
                    models.CharField(
                        choices=[
                            ("EMAIL", "Email"),
                            ("PHONE", "Phone Call"),
                            ("MEETING", "Meeting"),
                            ("NOTE", "Internal Note"),
                            ("CLARIFICATION", "Clarification Request"),
                            ("UPDATE", "Update"),
                        ],
                        max_length=20,
                    ),
                ),
                ("subject", models.CharField(max_length=200)),
                ("message", models.TextField()),
                ("sent_date", models.DateTimeField(auto_now_add=True)),
                ("response", models.TextField(blank=True)),
                ("responded_by", models.CharField(blank=True, max_length=100)),
                ("response_date", models.DateTimeField(blank=True, null=True)),
                ("attachments", models.JSONField(blank=True, default=list)),
                (
                    "is_internal",
                    models.BooleanField(
                        default=False, help_text="Internal note, not sent to vendor"
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "po",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="communications",
                        to="floor_app.purchaseorder",
                    ),
                ),
                (
                    "quotation",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="communications",
                        to="floor_app.quotation",
                    ),
                ),
                (
                    "rfq",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="communications",
                        to="floor_app.rfq",
                    ),
                ),
                (
                    "sent_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="vendor_communications_sent",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "vendor",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="communications",
                        to="floor_app.vendor",
                    ),
                ),
            ],
            options={
                "db_table": "vendor_communications",
                "ordering": ["-sent_date"],
            },
        ),
        migrations.CreateModel(
            name="VendorPerformanceReview",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, db_index=True)),
                ("updated_at", models.DateTimeField(auto_now=True, db_index=True)),
                ("remarks", models.CharField(blank=True, default="", max_length=255)),
                ("review_date", models.DateField()),
                (
                    "quality_rating",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ]
                    ),
                ),
                (
                    "delivery_rating",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ]
                    ),
                ),
                (
                    "communication_rating",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ]
                    ),
                ),
                (
                    "pricing_rating",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(5),
                        ]
                    ),
                ),
                ("overall_rating", models.DecimalField(decimal_places=2, max_digits=3)),
                ("strengths", models.TextField(blank=True)),
                ("areas_for_improvement", models.TextField(blank=True)),
                ("recommendations", models.TextField(blank=True)),
                ("would_recommend", models.BooleanField(default=True)),
                (
                    "created_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_created",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "po",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="performance_reviews",
                        to="floor_app.purchaseorder",
                    ),
                ),
                (
                    "reviewed_by",
                    models.ForeignKey(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "updated_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="%(app_label)s_%(class)s_updated",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "vendor",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="performance_reviews",
                        to="floor_app.vendor",
                    ),
                ),
            ],
            options={
                "db_table": "vendor_performance_reviews",
                "ordering": ["-review_date"],
            },
        ),
        migrations.AddIndex(
            model_name="dataextraction",
            index=models.Index(
                fields=["status", "uploaded_by"], name="data_extrac_status_c8d1dc_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="dataextraction",
            index=models.Index(
                fields=["source_type", "created_at"],
                name="data_extrac_source__6cd1bc_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="fieldmapping",
            unique_together={("extraction", "extracted_field", "target_field")},
        ),
        migrations.AddIndex(
            model_name="fivesaudit",
            index=models.Index(
                fields=["audit_number"], name="fives_audit_audit_n_b43400_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="fivesaudit",
            index=models.Index(
                fields=["area_name", "audit_date"],
                name="fives_audit_area_na_6ee35a_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="fivesaudit",
            index=models.Index(
                fields=["status", "audit_date"], name="fives_audit_status_4fc7a3_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="fivesleaderboard",
            unique_together={("period_type", "period_start", "area_name")},
        ),
        migrations.AlterUniqueTogether(
            name="fivesuserachievement",
            unique_together={("user", "achievement")},
        ),
        migrations.AddIndex(
            model_name="hazardobservation",
            index=models.Index(
                fields=["card_number"], name="hoc_observa_card_nu_ec4122_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="hazardobservation",
            index=models.Index(
                fields=["status", "-submission_date"],
                name="hoc_observa_status_d56406_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="hazardobservation",
            index=models.Index(
                fields=["severity", "-submission_date"],
                name="hoc_observa_severit_a6104a_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="hazardobservation",
            index=models.Index(
                fields=["assigned_to", "status"], name="hoc_observa_assigne_999c49_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="hazardobservation",
            index=models.Index(
                fields=["due_date"], name="hoc_observa_due_dat_68588d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="importhistory",
            index=models.Index(
                fields=["extraction", "import_status"],
                name="import_hist_extract_1a891b_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="jobapplication",
            unique_together={("job_posting", "candidate")},
        ),
        migrations.AddIndex(
            model_name="journeyplan",
            index=models.Index(
                fields=["journey_number"], name="journey_pla_journey_4de190_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="journeyplan",
            index=models.Index(
                fields=["traveler", "status"], name="journey_pla_travele_fa7eb2_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="journeyplan",
            index=models.Index(
                fields=["status", "-planned_departure_time"],
                name="journey_pla_status_a1ee94_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="journeyplan",
            index=models.Index(
                fields=["planned_departure_time"], name="journey_pla_planned_289940_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="journeywaypoint",
            unique_together={("journey", "sequence")},
        ),
        migrations.AlterUniqueTogether(
            name="messageread",
            unique_together={("message", "user")},
        ),
        migrations.AlterUniqueTogether(
            name="morningmeetingattendance",
            unique_together={("meeting", "employee")},
        ),
        migrations.AlterUniqueTogether(
            name="morningmeeting",
            unique_together={("group", "meeting_date")},
        ),
        migrations.AlterUniqueTogether(
            name="parkingspot",
            unique_together={("zone", "spot_number")},
        ),
        migrations.AddIndex(
            model_name="roombooking",
            index=models.Index(
                fields=["room", "start_time", "end_time"],
                name="room_bookin_room_id_8559d6_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="roombooking",
            index=models.Index(
                fields=["status", "start_time"], name="room_bookin_status_636c68_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="roombooking",
            index=models.Index(
                fields=["booked_by", "-start_time"],
                name="room_bookin_booked__b68317_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="quotation",
            unique_together={("rfq", "vendor")},
        ),
    ]
