# Generated by Django 5.2.6 on 2025-10-24 17:13

import django.core.validators
import django.db.models.deletion
import django.db.models.expressions
import django.utils.timezone
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
        ('contenttypes', '0002_remove_content_type_name'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Location',
            fields=[
                ('loc_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=64)),
                ('bin_type', models.CharField(blank=True, max_length=64)),
                ('capacity', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Location',
                'verbose_name_plural': 'Locations',
                'db_table': 'locations',
                'ordering': ['wh', 'code'],
            },
        ),
        migrations.CreateModel(
            name='UOM',
            fields=[
                ('uom_code', models.CharField(max_length=32, primary_key=True, serialize=False)),
                ('label', models.CharField(max_length=64)),
                ('category', models.CharField(max_length=32)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Unit of Measure',
                'verbose_name_plural': 'Units of Measure',
                'db_table': 'uom',
                'ordering': ['category', 'label'],
            },
        ),
        migrations.CreateModel(
            name='Account',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('account_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('account_type', models.CharField(max_length=16)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('parent', models.ForeignKey(blank=True, db_column='parent_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='children', to='floor_app.account')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Account',
                'verbose_name_plural': 'Accounts',
                'db_table': 'accounts',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='Address',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('address_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('country_code', models.CharField(blank=True, help_text="ISO 3166-1 alpha-2 (e.g., 'SA' for Saudi Arabia).", max_length=2, null=True, validators=[django.core.validators.RegexValidator('^[A-Z]{2}$', 'Must be ISO 3166-1 alpha-2 (e.g., SA, JO, US).')])),
                ('region', models.CharField(blank=True, max_length=64)),
                ('city', models.CharField(max_length=64)),
                ('neighborhood', models.CharField(blank=True, max_length=64)),
                ('street_name', models.CharField(blank=True, max_length=128)),
                ('building_no', models.CharField(blank=True, max_length=10)),
                ('additional_no', models.CharField(blank=True, max_length=10)),
                ('unit_no', models.CharField(blank=True, max_length=10)),
                ('postal_code', models.CharField(blank=True, help_text='KSA: 5 digits (e.g., 12345). Other formats accepted.', max_length=12)),
                ('line1', models.CharField(blank=True, max_length=128)),
                ('line2', models.CharField(blank=True, max_length=128)),
                ('po_box', models.CharField(blank=True, max_length=32)),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('normalized_text', models.TextField(blank=True, editable=False)),
                ('fingerprint', models.CharField(blank=True, db_index=True, editable=False, max_length=40)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'addresses',
                'ordering': ['country_code', 'region', 'city', 'neighborhood', 'street_name', 'building_no'],
            },
        ),
        migrations.CreateModel(
            name='AddressLink',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('link_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('owner_object_id', models.BigIntegerField()),
                ('label', models.CharField(blank=True, max_length=120)),
                ('type', models.CharField(choices=[('home', 'Home'), ('office', 'Office/HQ'), ('warehouse', 'Warehouse/Site'), ('billing', 'Billing'), ('shipping', 'Shipping'), ('other', 'Other')], db_index=True, default='other', max_length=16)),
                ('is_primary', models.BooleanField(db_index=True, default=False)),
                ('sequence', models.PositiveSmallIntegerField(default=1)),
                ('address', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='links', to='floor_app.address')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('owner_content_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='address_links', to='contenttypes.contenttype')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'addresses_link',
                'ordering': ['owner_content_type', 'owner_object_id', 'type', 'sequence'],
            },
        ),
        migrations.CreateModel(
            name='ApprovalTemplate',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('template_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('doc_type', models.CharField(choices=[('WorkOrder', 'Work Order'), ('SalesOrder', 'Sales Order'), ('PurchaseOrder', 'Purchase Order'), ('SalesInvoice', 'Sales Invoice'), ('PurchaseInvoice', 'Purchase Invoice'), ('DeliveryNote', 'Delivery Note'), ('PurchaseReceipt', 'Purchase Receipt'), ('StockEntry', 'Stock Entry'), ('MaterialRequest', 'Material Request'), ('Payment', 'Payment'), ('Shipment', 'Shipment')], max_length=32)),
                ('condition_field', models.CharField(blank=True, max_length=64)),
                ('threshold_value', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('approval_level', models.IntegerField(default=1)),
                ('is_active', models.BooleanField(default=True)),
                ('approver_role', models.ForeignKey(blank=True, db_column='approver_role_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approval_templates', to='auth.group')),
                ('approver_user', models.ForeignKey(blank=True, db_column='approver_user_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approval_templates', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Approval Template',
                'verbose_name_plural': 'Approval Templates',
                'db_table': 'approval_templates',
                'ordering': ['doc_type', 'approval_level'],
            },
        ),
        migrations.CreateModel(
            name='Asset',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('asset_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('asset_code', models.CharField(max_length=64, unique=True)),
                ('asset_name', models.CharField(max_length=200)),
                ('asset_category', models.CharField(blank=True, max_length=64)),
                ('location_text', models.CharField(blank=True, max_length=255)),
                ('purchase_date', models.DateField(blank=True, null=True)),
                ('warranty_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Active', 'Active'), ('Idle', 'Idle'), ('Maintenance', 'Maintenance'), ('Broken', 'Broken'), ('Retired', 'Retired')], default='Active', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Asset',
                'verbose_name_plural': 'Assets',
                'db_table': 'assets',
                'ordering': ['asset_code'],
            },
        ),
        migrations.CreateModel(
            name='Attachment',
            fields=[
                ('file_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('category', models.CharField(blank=True, max_length=32)),
                ('caption', models.CharField(blank=True, max_length=255)),
                ('table_name', models.CharField(max_length=120)),
                ('record_id', models.BigIntegerField()),
                ('filename', models.CharField(max_length=255)),
                ('url', models.URLField(max_length=500)),
                ('file_size', models.BigIntegerField(blank=True, null=True)),
                ('mime_type', models.CharField(blank=True, max_length=100)),
                ('uploaded_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('owner', models.ForeignKey(blank=True, db_column='owner_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='attachments', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Attachment',
                'verbose_name_plural': 'Attachments',
                'db_table': 'attachments',
                'ordering': ['-uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('log_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('timestamp', models.DateTimeField(db_index=True, default=django.utils.timezone.now)),
                ('table_name', models.CharField(max_length=120)),
                ('record_id', models.BigIntegerField()),
                ('action', models.CharField(max_length=16)),
                ('old_values', models.JSONField(blank=True, null=True)),
                ('new_values', models.JSONField(blank=True, null=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.CharField(blank=True, max_length=255)),
                ('user', models.ForeignKey(blank=True, db_column='user_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='audit_logs', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Audit Log Entry',
                'verbose_name_plural': 'Audit Log Entries',
                'db_table': 'audit_log',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='BitMap',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('map_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=200, unique=True)),
                ('description', models.TextField(blank=True)),
                ('cutters_count', models.IntegerField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Bit Map',
                'verbose_name_plural': 'Bit Maps',
                'db_table': 'bit_maps',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='BitFin',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('fin_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('blade_no', models.IntegerField(db_index=True)),
                ('row_label', models.CharField(db_index=True, max_length=8)),
                ('fin_seq', models.IntegerField(db_index=True)),
                ('before_pocket_seq', models.IntegerField(blank=True, null=True)),
                ('after_pocket_seq', models.IntegerField(blank=True, null=True)),
                ('thickness', models.CharField(default='MEDIUM', max_length=16)),
                ('notes', models.TextField(blank=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('map', models.ForeignKey(db_column='map_id', on_delete=django.db.models.deletion.CASCADE, related_name='fins', to='floor_app.bitmap')),
            ],
            options={
                'verbose_name': 'Bit Fin',
                'verbose_name_plural': 'Bit Fins',
                'db_table': 'bit_fins',
            },
        ),
        migrations.CreateModel(
            name='BitEvaluation',
            fields=[
                ('ref_doctype', models.CharField(blank=True, db_index=True, max_length=32)),
                ('ref_id', models.BigIntegerField(blank=True, db_index=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('evaluation_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('eval_stage', models.CharField(blank=True, max_length=24)),
                ('summary', models.TextField(blank=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('bit_map', models.ForeignKey(db_column='bit_map_id', on_delete=django.db.models.deletion.PROTECT, related_name='evaluations', to='floor_app.bitmap')),
            ],
            options={
                'verbose_name': 'Bit Evaluation',
                'verbose_name_plural': 'Bit Evaluations',
                'db_table': 'bit_evaluations',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BitPocket',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('pocket_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('blade_no', models.IntegerField(db_index=True)),
                ('row_no', models.IntegerField(db_index=True)),
                ('row_code', models.CharField(db_index=True, max_length=2)),
                ('pocket_seq_blade', models.IntegerField(db_index=True)),
                ('pocket_seq_blade_row', models.IntegerField(db_index=True)),
                ('pocket_seq_global', models.IntegerField(db_index=True)),
                ('engagement_order', models.IntegerField(blank=True, db_index=True, null=True)),
                ('code', models.CharField(db_index=True, max_length=32)),
                ('pocket_length', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('pocket_diameter', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('pocket_shape', models.CharField(blank=True, choices=[('ROUND', 'Round'), ('BULLET', 'Bullet')], max_length=6)),
                ('profile_zone', models.CharField(blank=True, choices=[('CONE', 'Cone'), ('NOSE', 'Nose'), ('TAPER', 'Taper'), ('SHOULDER', 'Shoulder'), ('GAUGE', 'Gauge')], max_length=8)),
                ('insert_material', models.CharField(blank=True, max_length=64)),
                ('meta_json', models.JSONField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('map', models.ForeignKey(db_column='map_id', on_delete=django.db.models.deletion.CASCADE, related_name='pockets', to='floor_app.bitmap')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Bit Pocket',
                'verbose_name_plural': 'Bit Pockets',
                'db_table': 'bit_pockets',
            },
        ),
        migrations.CreateModel(
            name='BOM',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('bom_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('bom_no', models.CharField(max_length=64, unique=True)),
                ('revision', models.CharField(blank=True, max_length=32)),
                ('qty', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('is_active', models.BooleanField(default=True)),
                ('is_default', models.BooleanField(default=False)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'BOM',
                'verbose_name_plural': 'BOMs',
                'db_table': 'boms',
                'ordering': ['bom_no'],
            },
        ),
        migrations.CreateModel(
            name='BOMItem',
            fields=[
                ('bom_item_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('scrap_pct', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('operation_seq', models.IntegerField(blank=True, null=True)),
                ('bom', models.ForeignKey(db_column='bom_id', on_delete=django.db.models.deletion.CASCADE, related_name='components', to='floor_app.bom')),
            ],
            options={
                'verbose_name': 'BOM Item',
                'verbose_name_plural': 'BOM Items',
                'db_table': 'bom_items',
            },
        ),
        migrations.CreateModel(
            name='Contact',
            fields=[
                ('party_id', models.BigIntegerField(db_index=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('contact_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('kind', models.CharField(choices=[('person', 'Person'), ('company', 'Company')], db_index=True, default='person', max_length=16)),
                ('first_name', models.CharField(blank=True, max_length=120)),
                ('middle_name', models.CharField(blank=True, max_length=120)),
                ('last_name', models.CharField(blank=True, max_length=120)),
                ('company_name', models.CharField(blank=True, max_length=200)),
                ('job_title', models.CharField(blank=True, max_length=120)),
                ('notes', models.TextField(blank=True)),
                ('is_primary', models.BooleanField(db_index=True, default=False)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('party_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'contacts',
                'ordering': ['party_type', 'party_id', '-is_primary', 'kind', 'last_name', 'first_name', 'company_name'],
            },
        ),
        migrations.CreateModel(
            name='Company',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('company_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=200, unique=True)),
                ('tax_no', models.CharField(blank=True, max_length=64)),
                ('fiscal_year_start_month', models.IntegerField(help_text='Month when fiscal year starts (1-12)')),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('primary_contact', models.ForeignKey(blank=True, db_column='primary_contact_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='companies_as_primary', to='floor_app.contact')),
            ],
            options={
                'verbose_name': 'Company',
                'verbose_name_plural': 'Companies',
                'db_table': 'companies',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='Carrier',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('carrier_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('mode', models.CharField(blank=True, max_length=16)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('primary_contact', models.ForeignKey(blank=True, db_column='primary_contact_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='carriers_as_primary', to='floor_app.contact')),
            ],
            options={
                'verbose_name': 'Carrier',
                'verbose_name_plural': 'Carriers',
                'db_table': 'carriers',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='ContactMethod',
            fields=[
                ('method_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('kind', models.CharField(choices=[('email', 'Email'), ('phone', 'Phone')], max_length=16)),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('e164_phone', models.CharField(blank=True, max_length=20, validators=[django.core.validators.RegexValidator('^\\+[1-9]\\d{6,14}$', 'Use E.164 format, e.g., +966512345678')])),
                ('is_whatsapp', models.BooleanField(default=False)),
                ('is_primary', models.BooleanField(default=False)),
                ('label', models.CharField(blank=True, max_length=32)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('contact', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='methods', to='floor_app.contact')),
            ],
            options={
                'db_table': 'contact_methods',
                'ordering': ['contact_id', 'kind', '-is_primary', '-is_whatsapp', 'label'],
            },
        ),
        migrations.CreateModel(
            name='CostCenter',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('cc_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('is_active', models.BooleanField(default=True)),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='cost_centers', to='floor_app.company')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('parent_cc', models.ForeignKey(blank=True, db_column='parent_cc_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='children', to='floor_app.costcenter')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Cost Center',
                'verbose_name_plural': 'Cost Centers',
                'db_table': 'cost_centers',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='Currency',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('currency_code', models.CharField(max_length=3, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=100)),
                ('symbol', models.CharField(max_length=10)),
                ('decimal_places', models.IntegerField(default=2)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Currency',
                'verbose_name_plural': 'Currencies',
                'db_table': 'currencies',
            },
        ),
        migrations.AddField(
            model_name='company',
            name='base_currency',
            field=models.ForeignKey(db_column='base_currency', on_delete=django.db.models.deletion.PROTECT, related_name='companies', to='floor_app.currency'),
        ),
        migrations.CreateModel(
            name='CutterBOM',
            fields=[
                ('ref_doctype', models.CharField(blank=True, db_index=True, max_length=32)),
                ('ref_id', models.BigIntegerField(blank=True, db_index=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('cutter_bom_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('version', models.CharField(db_index=True, max_length=32)),
                ('kind', models.CharField(choices=[('PRODUCTION', 'Production'), ('RETROFIT', 'Retrofit'), ('REPAIR', 'Repair')], default='PRODUCTION', max_length=10)),
                ('is_active', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
                ('baseline_bom', models.ForeignKey(blank=True, db_column='baseline_bom_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='derived_boms', to='floor_app.cutterbom')),
                ('bit_map', models.ForeignKey(db_column='bit_map_id', on_delete=django.db.models.deletion.PROTECT, related_name='cutter_boms', to='floor_app.bitmap')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('parent_bom', models.ForeignKey(blank=True, db_column='parent_bom_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='children', to='floor_app.cutterbom')),
                ('source_evaluation', models.ForeignKey(blank=True, db_column='source_evaluation_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='produced_boms', to='floor_app.bitevaluation')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Cutter BOM',
                'verbose_name_plural': 'Cutter BOMs',
                'db_table': 'cutter_boms',
            },
        ),
        migrations.AddField(
            model_name='bitevaluation',
            name='produced_bom',
            field=models.ForeignKey(blank=True, db_column='produced_bom_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='result_evaluations', to='floor_app.cutterbom'),
        ),
        migrations.AddField(
            model_name='bitevaluation',
            name='reference_bom',
            field=models.ForeignKey(blank=True, db_column='reference_bom_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reference_evaluations', to='floor_app.cutterbom'),
        ),
        migrations.CreateModel(
            name='DocNumberSeries',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('series_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('doc_type', models.CharField(choices=[('WorkOrder', 'Work Order'), ('SalesOrder', 'Sales Order'), ('PurchaseOrder', 'Purchase Order'), ('SalesInvoice', 'Sales Invoice'), ('PurchaseInvoice', 'Purchase Invoice'), ('DeliveryNote', 'Delivery Note'), ('PurchaseReceipt', 'Purchase Receipt'), ('StockEntry', 'Stock Entry'), ('MaterialRequest', 'Material Request'), ('Payment', 'Payment'), ('Shipment', 'Shipment')], max_length=32)),
                ('prefix', models.CharField(max_length=32)),
                ('next_int', models.IntegerField(default=1)),
                ('pad_to', models.IntegerField(default=5)),
                ('active', models.BooleanField(default=True)),
                ('company', models.ForeignKey(blank=True, db_column='company_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='doc_series', to='floor_app.company')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Document Number Series',
                'verbose_name_plural': 'Document Number Series',
                'db_table': 'doc_number_series',
            },
        ),
        migrations.CreateModel(
            name='DocumentApproval',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('approval_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('doc_type', models.CharField(choices=[('WorkOrder', 'Work Order'), ('SalesOrder', 'Sales Order'), ('PurchaseOrder', 'Purchase Order'), ('SalesInvoice', 'Sales Invoice'), ('PurchaseInvoice', 'Purchase Invoice'), ('DeliveryNote', 'Delivery Note'), ('PurchaseReceipt', 'Purchase Receipt'), ('StockEntry', 'Stock Entry'), ('MaterialRequest', 'Material Request'), ('Payment', 'Payment'), ('Shipment', 'Shipment')], max_length=32)),
                ('doc_id', models.BigIntegerField()),
                ('approval_level', models.IntegerField(default=1)),
                ('status', models.CharField(choices=[('Pending', 'Pending'), ('Approved', 'Approved'), ('Rejected', 'Rejected'), ('Cancelled', 'Cancelled')], default='Pending', max_length=16)),
                ('comments', models.TextField(blank=True)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('approver', models.ForeignKey(blank=True, db_column='approver_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='document_approvals', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('template', models.ForeignKey(blank=True, db_column='template_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approvals', to='floor_app.approvaltemplate')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Document Approval',
                'verbose_name_plural': 'Document Approvals',
                'db_table': 'document_approvals',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Employee',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('emp_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('employee_code', models.CharField(max_length=50, unique=True)),
                ('first_name', models.CharField(max_length=100)),
                ('last_name', models.CharField(max_length=100)),
                ('middle_name', models.CharField(blank=True, max_length=100)),
                ('date_of_birth', models.DateField(blank=True, null=True)),
                ('gender', models.CharField(blank=True, max_length=10)),
                ('marital_status', models.CharField(choices=[('single', 'Single'), ('married', 'Married')], db_index=True, default='single', max_length=10)),
                ('allow_admin_login', models.BooleanField(db_index=True, default=False, help_text='If checked, the linked user can sign in to Django admin (sets is_staff).')),
                ('department', models.CharField(blank=True, max_length=100)),
                ('designation', models.CharField(choices=[('grinding_operator', 'Grinding Operator'), ('usr_tech', 'Welder'), ('brazing_tech', 'Brazer'), ('machinist', 'Machinist'), ('qc_inspector', 'QC Inspector'), ('repair_tech', 'Repair Tech'), ('sandblast_operator', 'Sandblast Operator'), ('storekeeper', 'Storekeeper'), ('logistics_coordinator', 'Logistics Coordinator'), ('logistics_supervisor', 'Logistics Supervisor'), ('planner', 'Planner'), ('production_supervisor', 'Production Supervisor'), ('maintenance_tech', 'Maintenance Tech'), ('evaluation_engineer', 'Evaluation Engineer'), ('hse_officer', 'HSE Officer'), ('admin_assistant', 'Admin Assistant'), ('other', 'Other')], db_index=True, default='other', max_length=40)),
                ('email', models.EmailField(blank=True, max_length=254, null=True, unique=True)),
                ('joining_date', models.DateField()),
                ('confirmation_date', models.DateField(blank=True, null=True)),
                ('resignation_date', models.DateField(blank=True, null=True)),
                ('base_salary', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('bank_account', models.CharField(blank=True, max_length=50)),
                ('employment_status', models.CharField(choices=[('Active', 'Active'), ('On Leave', 'On Leave'), ('Resigned', 'Resigned'), ('Terminated', 'Terminated')], default='Active', max_length=32)),
                ('auth_group', models.ForeignKey(blank=True, help_text='Permissions group for this employee.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='employees', to='auth.group')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('salary_currency', models.ForeignKey(db_column='salary_currency', on_delete=django.db.models.deletion.PROTECT, related_name='employees', to='floor_app.currency')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(blank=True, db_column='user_id', help_text='Login account for this employee (auto-created if empty).', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='employee_record', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Employee',
                'verbose_name_plural': 'Employees',
                'db_table': 'employees',
                'ordering': ['employee_code'],
            },
        ),
        migrations.CreateModel(
            name='Attendance',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('att_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('date', models.DateField()),
                ('status', models.CharField(max_length=16)),
                ('minutes_late', models.IntegerField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('emp', models.ForeignKey(db_column='emp_id', on_delete=django.db.models.deletion.CASCADE, related_name='attendance', to='floor_app.employee')),
            ],
            options={
                'verbose_name': 'Attendance Record',
                'verbose_name_plural': 'Attendance Records',
                'db_table': 'attendance',
                'ordering': ['-date', 'emp'],
            },
        ),
        migrations.CreateModel(
            name='ExchangeRate',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('rate_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('rate', models.DecimalField(decimal_places=6, max_digits=18)),
                ('valid_date', models.DateField()),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('from_currency', models.ForeignKey(db_column='from_currency', on_delete=django.db.models.deletion.PROTECT, related_name='rates_from', to='floor_app.currency')),
                ('to_currency', models.ForeignKey(db_column='to_currency', on_delete=django.db.models.deletion.PROTECT, related_name='rates_to', to='floor_app.currency')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Exchange Rate',
                'verbose_name_plural': 'Exchange Rates',
                'db_table': 'exchange_rates',
            },
        ),
        migrations.CreateModel(
            name='ExternalSystemRef',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('extref_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('system', models.CharField(max_length=32)),
                ('doc_type', models.CharField(choices=[('WorkOrder', 'Work Order'), ('SalesOrder', 'Sales Order'), ('PurchaseOrder', 'Purchase Order'), ('SalesInvoice', 'Sales Invoice'), ('PurchaseInvoice', 'Purchase Invoice'), ('DeliveryNote', 'Delivery Note'), ('PurchaseReceipt', 'Purchase Receipt'), ('StockEntry', 'Stock Entry'), ('MaterialRequest', 'Material Request'), ('Payment', 'Payment'), ('Shipment', 'Shipment')], max_length=32)),
                ('local_id', models.BigIntegerField()),
                ('external_id', models.CharField(max_length=128)),
                ('notes', models.CharField(blank=True, max_length=255)),
                ('synced_ts', models.DateTimeField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'External System Reference',
                'verbose_name_plural': 'External System References',
                'db_table': 'external_system_refs',
                'ordering': ['-synced_ts'],
            },
        ),
        migrations.CreateModel(
            name='HRPhone',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('phone_e164', models.CharField(db_index=True, max_length=20, validators=[django.core.validators.RegexValidator('^\\+[1-9]\\d{6,14}$', 'Use E.164 format, e.g., +966512345678')])),
                ('channel', models.CharField(choices=[('CALL', 'Call'), ('WHATSAPP', 'WhatsApp'), ('BOTH', 'Both')], default='BOTH', max_length=8)),
                ('kind', models.CharField(choices=[('MOBILE', 'Mobile'), ('LAND', 'Landline')], default='MOBILE', max_length=8)),
                ('extension', models.CharField(blank=True, max_length=10)),
                ('use', models.CharField(choices=[('PERSONAL', 'Personal'), ('BUSINESS', 'Business')], default='BUSINESS', max_length=8)),
                ('is_primary_hint', models.BooleanField(default=False)),
                ('label', models.CharField(blank=True, default='', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_hr_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_hr_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_phone',
            },
        ),
        migrations.CreateModel(
            name='Incident',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('incident_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('incident_no', models.CharField(max_length=64, unique=True)),
                ('incident_date', models.DateField()),
                ('reported_date', models.DateField()),
                ('incident_type', models.CharField(blank=True, max_length=32)),
                ('severity', models.CharField(blank=True, max_length=16)),
                ('location_text', models.CharField(blank=True, max_length=255)),
                ('description', models.TextField(blank=True)),
                ('root_cause', models.TextField(blank=True)),
                ('corrective_action', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('Reported', 'Reported'), ('Investigating', 'Investigating'), ('Resolved', 'Resolved'), ('Closed', 'Closed')], default='Reported', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('reported_by', models.ForeignKey(blank=True, db_column='reported_by', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='incident_reports', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Incident',
                'verbose_name_plural': 'Incidents',
                'db_table': 'incidents',
                'ordering': ['-incident_date', 'incident_no'],
            },
        ),
        migrations.CreateModel(
            name='Inspection',
            fields=[
                ('ref_doctype', models.CharField(blank=True, db_index=True, max_length=32)),
                ('ref_id', models.BigIntegerField(blank=True, db_index=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('inspection_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('stage', models.CharField(db_index=True, max_length=32)),
                ('status', models.CharField(db_index=True, max_length=32)),
                ('total_nodes', models.IntegerField(blank=True, null=True)),
                ('nodes_ok', models.IntegerField(blank=True, null=True)),
                ('nodes_issue', models.IntegerField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('inspector', models.ForeignKey(blank=True, db_column='inspector_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='inspections', to=settings.AUTH_USER_MODEL)),
                ('map', models.ForeignKey(db_column='map_id', on_delete=django.db.models.deletion.PROTECT, related_name='inspections', to='floor_app.bitmap')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Inspection',
                'verbose_name_plural': 'Inspections',
                'db_table': 'inspections',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='InspectionObservation',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('obs_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('node_id', models.IntegerField(db_column='node_id')),
                ('element_type', models.CharField(blank=True, max_length=32)),
                ('pocket_condition', models.CharField(blank=True, max_length=16)),
                ('cutter_condition', models.CharField(blank=True, max_length=32)),
                ('fin_condition', models.CharField(blank=True, max_length=16)),
                ('severity', models.CharField(default='NONE', max_length=16)),
                ('decision', models.CharField(blank=True, max_length=32)),
                ('decision_params', models.JSONField(blank=True, null=True)),
                ('measures_json', models.JSONField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('grid_code', models.CharField(blank=True, db_index=True, max_length=32)),
                ('blade_no', models.IntegerField(blank=True, null=True)),
                ('row_no', models.IntegerField(blank=True, null=True)),
                ('col_no', models.IntegerField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('inspection', models.ForeignKey(db_column='inspection_id', on_delete=django.db.models.deletion.CASCADE, related_name='observations', to='floor_app.inspection')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Inspection Observation',
                'verbose_name_plural': 'Inspection Observations',
                'db_table': 'inspection_observations',
                'ordering': ['inspection_id', 'node_id'],
            },
        ),
        migrations.CreateModel(
            name='Instruction',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('instruction_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=200)),
                ('trigger_domain', models.CharField(max_length=24)),
                ('trigger_name', models.CharField(max_length=48)),
                ('trigger_phase', models.CharField(default='on', max_length=8)),
                ('time_kind', models.CharField(blank=True, max_length=24)),
                ('time_sec', models.IntegerField(blank=True, null=True)),
                ('enabled', models.BooleanField(default=True)),
                ('priority', models.IntegerField(default=10)),
                ('description', models.TextField(blank=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Instruction',
                'verbose_name_plural': 'Instructions',
                'db_table': 'instructions',
                'ordering': ['priority', 'name'],
            },
        ),
        migrations.CreateModel(
            name='InstructionAction',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('act_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('action_type', models.CharField(max_length=24)),
                ('params_json', models.JSONField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('instruction', models.ForeignKey(db_column='instruction_id', on_delete=django.db.models.deletion.CASCADE, related_name='actions', to='floor_app.instruction')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Instruction Action',
                'verbose_name_plural': 'Instruction Actions',
                'db_table': 'instruction_actions',
                'ordering': ['instruction'],
            },
        ),
        migrations.CreateModel(
            name='InstructionCondition',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('cond_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('group_no', models.IntegerField(default=1)),
                ('joiner', models.CharField(default='AND', max_length=3)),
                ('left_operand', models.CharField(max_length=128)),
                ('operator', models.CharField(max_length=16)),
                ('right_value', models.JSONField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('instruction', models.ForeignKey(db_column='instruction_id', on_delete=django.db.models.deletion.CASCADE, related_name='conditions', to='floor_app.instruction')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Instruction Condition',
                'verbose_name_plural': 'Instruction Conditions',
                'db_table': 'instruction_conditions',
                'ordering': ['instruction', 'group_no'],
            },
        ),
        migrations.CreateModel(
            name='Item',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('item_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('item_code', models.CharField(max_length=120, unique=True)),
                ('item_name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('hs_code', models.CharField(blank=True, max_length=20)),
                ('barcode', models.CharField(blank=True, max_length=128)),
                ('package_size', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('weight', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('dimensions', models.CharField(blank=True, max_length=120)),
                ('brand', models.CharField(blank=True, max_length=120)),
                ('model', models.CharField(blank=True, max_length=120)),
                ('is_stock_item', models.BooleanField(default=True)),
                ('is_purchase_item', models.BooleanField(default=True)),
                ('is_sales_item', models.BooleanField(default=False)),
                ('is_fixed_asset', models.BooleanField(default=False)),
                ('is_batch_tracked', models.BooleanField(default=False)),
                ('is_serial_tracked', models.BooleanField(default=False)),
                ('has_shelf_life', models.BooleanField(default=False)),
                ('shelf_life_days', models.IntegerField(blank=True, null=True)),
                ('min_order_qty', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('reorder_level', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('reorder_qty', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('lead_time_days', models.IntegerField(blank=True, null=True)),
                ('valuation_method', models.CharField(default='FIFO', max_length=16)),
                ('status', models.CharField(choices=[('Active', 'Active'), ('Inactive', 'Inactive'), ('Discontinued', 'Discontinued')], db_index=True, default='Active', max_length=16)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('manufacturer', models.ForeignKey(blank=True, db_column='manufacturer_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='manufactured_items', to='floor_app.company')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Item',
                'verbose_name_plural': 'Items',
                'db_table': 'items',
                'ordering': ['item_code'],
            },
        ),
        migrations.CreateModel(
            name='CutterBOMMap',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('bom_map_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('decision', models.CharField(choices=[('OKAY', 'Okay'), ('REPLACE', 'Replace'), ('ROTATE', 'Rotate')], default='OKAY', max_length=7)),
                ('rotate_stage', models.IntegerField(blank=True, null=True)),
                ('cutter_variant', models.CharField(blank=True, choices=[('NEW', 'New'), ('ENO', 'ENO'), ('ADT_RECLAIM', 'ADT Reclaim'), ('LSTK_RECLAIM', 'LSTK Reclaim')], max_length=12)),
                ('required_spec_json', models.JSONField(blank=True, null=True)),
                ('qty', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('cutter_bom', models.ForeignKey(db_column='cutter_bom_id', on_delete=django.db.models.deletion.CASCADE, related_name='pocket_lines', to='floor_app.cutterbom')),
                ('pocket', models.ForeignKey(db_column='pocket_id', on_delete=django.db.models.deletion.PROTECT, related_name='bom_mappings', to='floor_app.bitpocket')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('original_item', models.ForeignKey(blank=True, db_column='original_item_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='original_mappings', to='floor_app.item')),
                ('replacement_item', models.ForeignKey(blank=True, db_column='replacement_item_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='replacement_mappings', to='floor_app.item')),
            ],
            options={
                'verbose_name': 'Cutter BOM Mapping',
                'verbose_name_plural': 'Cutter BOM Mappings',
                'db_table': 'cutter_bom_map',
            },
        ),
        migrations.CreateModel(
            name='BOMSubstitute',
            fields=[
                ('bom_sub_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('priority', models.IntegerField(default=10, help_text='Lower number = higher priority')),
                ('condition_expr', models.CharField(blank=True, max_length=255)),
                ('notes', models.CharField(blank=True, max_length=255)),
                ('bom_item', models.ForeignKey(db_column='bom_item_id', on_delete=django.db.models.deletion.CASCADE, related_name='substitutes', to='floor_app.bomitem')),
                ('substitute_item', models.ForeignKey(db_column='substitute_item_id', on_delete=django.db.models.deletion.PROTECT, related_name='bom_substitutes', to='floor_app.item')),
            ],
            options={
                'verbose_name': 'BOM Substitute',
                'verbose_name_plural': 'BOM Substitutes',
                'db_table': 'bom_substitutes',
                'ordering': ['bom_item', 'priority'],
            },
        ),
        migrations.AddField(
            model_name='bomitem',
            name='component_item',
            field=models.ForeignKey(db_column='component_item_id', on_delete=django.db.models.deletion.PROTECT, related_name='used_in_boms', to='floor_app.item'),
        ),
        migrations.AddField(
            model_name='bom',
            name='item',
            field=models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='boms', to='floor_app.item'),
        ),
        migrations.CreateModel(
            name='Batch',
            fields=[
                ('batch_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('batch_code', models.CharField(max_length=120, unique=True)),
                ('mfg_date', models.DateField(blank=True, null=True)),
                ('exp_date', models.DateField(blank=True, null=True)),
                ('supplier_batch', models.CharField(blank=True, max_length=120)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='batches', to='floor_app.item')),
            ],
            options={
                'verbose_name': 'Batch',
                'verbose_name_plural': 'Batches',
                'db_table': 'batches',
                'ordering': ['batch_code'],
            },
        ),
        migrations.CreateModel(
            name='ItemAttribute',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('attr_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('data_type', models.CharField(default='text', max_length=16)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Item Attribute',
                'verbose_name_plural': 'Item Attributes',
                'db_table': 'item_attributes',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='ItemAttributeValue',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('attr_val_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('value', models.CharField(max_length=120)),
                ('sort_order', models.IntegerField(blank=True, null=True)),
                ('attr', models.ForeignKey(db_column='attr_id', on_delete=django.db.models.deletion.CASCADE, related_name='values', to='floor_app.itemattribute')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Item Attribute Value',
                'verbose_name_plural': 'Item Attribute Values',
                'db_table': 'item_attribute_values',
                'ordering': ['attr', 'sort_order', 'value'],
            },
        ),
        migrations.CreateModel(
            name='ItemGroup',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('item_group_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=64, unique=True)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('path', models.CharField(blank=True, max_length=512)),
                ('depth', models.IntegerField(default=0)),
                ('is_serialized', models.BooleanField(default=False)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('parent', models.ForeignKey(blank=True, db_column='parent_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='children', to='floor_app.itemgroup')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Item Group',
                'verbose_name_plural': 'Item Groups',
                'db_table': 'item_groups',
                'ordering': ['path', 'code'],
            },
        ),
        migrations.AddField(
            model_name='item',
            name='item_group',
            field=models.ForeignKey(blank=True, db_column='item_group_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='items', to='floor_app.itemgroup'),
        ),
        migrations.CreateModel(
            name='ItemSubstitute',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('subs_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('reason', models.CharField(blank=True, max_length=200)),
                ('is_approved', models.BooleanField(default=True)),
                ('effective_from', models.DateField(blank=True, null=True)),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.CASCADE, related_name='substitutes', to='floor_app.item')),
                ('substitute_item', models.ForeignKey(db_column='substitute_item_id', on_delete=django.db.models.deletion.PROTECT, related_name='substitute_for', to='floor_app.item')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Item Substitute',
                'verbose_name_plural': 'Item Substitutes',
                'db_table': 'item_substitutes',
                'ordering': ['item_id', 'effective_from'],
            },
        ),
        migrations.CreateModel(
            name='JobCard',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('job_card_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('job_card_no', models.CharField(max_length=64, unique=True)),
                ('qty_to_process', models.DecimalField(decimal_places=6, max_digits=18)),
                ('qty_good', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('qty_reject', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('scheduled_start', models.DateTimeField(blank=True, null=True)),
                ('scheduled_end', models.DateTimeField(blank=True, null=True)),
                ('actual_start', models.DateTimeField(blank=True, null=True)),
                ('actual_end', models.DateTimeField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Pending', 'Pending'), ('In Progress', 'In Progress'), ('Completed', 'Completed'), ('On Hold', 'On Hold')], db_index=True, default='Draft', max_length=16)),
                ('priority', models.IntegerField(default=3)),
                ('assigned_to', models.ForeignKey(blank=True, db_column='assigned_to', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='job_cards', to=settings.AUTH_USER_MODEL)),
                ('company', models.ForeignKey(blank=True, db_column='company_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='job_cards', to='floor_app.company')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Job Card',
                'verbose_name_plural': 'Job Cards',
                'db_table': 'job_cards',
                'ordering': ['-created_at', 'job_card_no'],
            },
        ),
        migrations.CreateModel(
            name='JobCardTime',
            fields=[
                ('jct_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('start_ts', models.DateTimeField()),
                ('end_ts', models.DateTimeField(blank=True, null=True)),
                ('minutes', models.IntegerField(blank=True, null=True)),
                ('job_card', models.ForeignKey(db_column='job_card_id', on_delete=django.db.models.deletion.CASCADE, related_name='times', to='floor_app.jobcard')),
                ('user', models.ForeignKey(blank=True, db_column='user_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='job_card_times', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Job Card Time',
                'verbose_name_plural': 'Job Card Times',
                'db_table': 'job_card_times',
            },
        ),
        migrations.CreateModel(
            name='Journal',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('jv_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('jv_no', models.CharField(max_length=64, unique=True)),
                ('posting_date', models.DateField()),
                ('memo', models.CharField(blank=True, max_length=255)),
                ('total_debit', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('total_credit', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Posted', 'Posted'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='journals', to='floor_app.company')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Journal Entry',
                'verbose_name_plural': 'Journal Entries',
                'db_table': 'journals',
                'ordering': ['-posting_date', 'jv_no'],
            },
        ),
        migrations.CreateModel(
            name='JournalLine',
            fields=[
                ('ref_doctype', models.CharField(blank=True, db_index=True, max_length=32)),
                ('ref_id', models.BigIntegerField(blank=True, db_index=True, null=True)),
                ('jv_line_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('debit', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('credit', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('account', models.ForeignKey(db_column='account_id', on_delete=django.db.models.deletion.PROTECT, related_name='journal_lines', to='floor_app.account')),
                ('cost_center', models.ForeignKey(blank=True, db_column='cost_center_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='journal_lines', to='floor_app.costcenter')),
                ('jv', models.ForeignKey(db_column='jv_id', on_delete=django.db.models.deletion.CASCADE, related_name='lines', to='floor_app.journal')),
            ],
            options={
                'verbose_name': 'Journal Line',
                'verbose_name_plural': 'Journal Lines',
                'db_table': 'journal_lines',
                'ordering': ['jv', 'jv_line_id'],
            },
        ),
        migrations.CreateModel(
            name='KPIDefinition',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('kpi_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('kpi_code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=200, unique=True)),
                ('category', models.CharField(blank=True, max_length=64)),
                ('formula_text', models.TextField(blank=True)),
                ('target_value', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('uom', models.CharField(blank=True, max_length=32)),
                ('frequency', models.CharField(blank=True, max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('owner', models.ForeignKey(blank=True, db_column='owner_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='owned_kpis', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'KPI Definition',
                'verbose_name_plural': 'KPI Definitions',
                'db_table': 'kpi_definitions',
                'ordering': ['category', 'kpi_code'],
            },
        ),
        migrations.CreateModel(
            name='KPIValue',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('kpi_val_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('period_date', models.DateField()),
                ('value_num', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('target_value', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('variance', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('kpi', models.ForeignKey(db_column='kpi_id', on_delete=django.db.models.deletion.CASCADE, related_name='values', to='floor_app.kpidefinition')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'KPI Value',
                'verbose_name_plural': 'KPI Values',
                'db_table': 'kpi_values',
                'ordering': ['-period_date'],
            },
        ),
        migrations.CreateModel(
            name='Leave',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('leave_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('from_date', models.DateField()),
                ('to_date', models.DateField()),
                ('leave_type', models.CharField(max_length=32)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Approved', 'Approved'), ('Rejected', 'Rejected'), ('Cancelled', 'Cancelled')], default='Draft', max_length=16)),
                ('approved_by', models.ForeignKey(blank=True, db_column='approved_by', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='leave_approvals', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('emp', models.ForeignKey(db_column='emp_id', on_delete=django.db.models.deletion.CASCADE, related_name='leaves', to='floor_app.employee')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Leave Request',
                'verbose_name_plural': 'Leave Requests',
                'db_table': 'leaves',
                'ordering': ['-from_date'],
            },
        ),
        migrations.CreateModel(
            name='MaintenanceRequest',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('maint_req_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('request_no', models.CharField(max_length=64, unique=True)),
                ('request_date', models.DateField()),
                ('severity', models.CharField(blank=True, max_length=16)),
                ('issue_type', models.CharField(blank=True, max_length=32)),
                ('description', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('Open', 'Open'), ('In Progress', 'In Progress'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], default='Open', max_length=32)),
                ('asset', models.ForeignKey(blank=True, db_column='asset_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='maintenance_requests', to='floor_app.asset')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('reported_by', models.ForeignKey(blank=True, db_column='reported_by', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='maintenance_reports', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Maintenance Request',
                'verbose_name_plural': 'Maintenance Requests',
                'db_table': 'maintenance_requests',
                'ordering': ['-request_date', 'request_no'],
            },
        ),
        migrations.CreateModel(
            name='MaterialRequest',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('mr_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('mr_no', models.CharField(max_length=64, unique=True)),
                ('purpose', models.CharField(max_length=16)),
                ('schedule_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Ordered', 'Ordered'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('requested_by', models.ForeignKey(blank=True, db_column='requested_by', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='material_requests', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Material Request',
                'verbose_name_plural': 'Material Requests',
                'db_table': 'material_requests',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NonConformance',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('ncr_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('source_doc_type', models.CharField(max_length=32)),
                ('source_doc_id', models.BigIntegerField(blank=True, null=True)),
                ('defect_code', models.CharField(blank=True, max_length=64)),
                ('description', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Open', 'Open'), ('In Progress', 'In Progress'), ('Closed', 'Closed'), ('Cancelled', 'Cancelled')], default='Draft', max_length=16)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('raised_by', models.ForeignKey(blank=True, db_column='raised_by', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='non_conformances', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Non-Conformance Report',
                'verbose_name_plural': 'Non-Conformance Reports',
                'db_table': 'non_conformances',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NotificationSubscription',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('sub_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('topic', models.CharField(max_length=64)),
                ('channel', models.CharField(blank=True, max_length=32)),
                ('filter_expr', models.JSONField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('role', models.ForeignKey(blank=True, db_column='role_id', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notification_subscriptions', to='auth.group')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(blank=True, db_column='user_id', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notification_subscriptions', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Notification Subscription',
                'verbose_name_plural': 'Notification Subscriptions',
                'db_table': 'notification_subscriptions',
                'ordering': ['topic'],
            },
        ),
        migrations.CreateModel(
            name='Operation',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('operation_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=64, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('std_time_min', models.IntegerField(blank=True, help_text='Standard time in minutes', null=True)),
                ('std_setup_min', models.IntegerField(blank=True, help_text='Standard setup time in minutes', null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Operation',
                'verbose_name_plural': 'Operations',
                'db_table': 'operations',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('ref_doctype', models.CharField(blank=True, db_index=True, max_length=32)),
                ('ref_id', models.BigIntegerField(blank=True, db_index=True, null=True)),
                ('party_object_id', models.BigIntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('pay_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('payment_no', models.CharField(max_length=64, unique=True)),
                ('payment_date', models.DateField()),
                ('method', models.CharField(blank=True, max_length=32)),
                ('reference', models.CharField(blank=True, max_length=100)),
                ('conversion_rate', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('amount', models.DecimalField(decimal_places=6, max_digits=18)),
                ('amount_base', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Cleared', 'Cleared'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='payments', to='floor_app.currency')),
                ('party_content_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='%(app_label)s_%(class)s_party_ct', to='contenttypes.contenttype')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Payment',
                'verbose_name_plural': 'Payments',
                'db_table': 'payments',
                'ordering': ['-payment_date', 'payment_no'],
            },
        ),
        migrations.CreateModel(
            name='PickList',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('pick_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('pick_no', models.CharField(max_length=64, unique=True)),
                ('order_type', models.CharField(max_length=32)),
                ('order_id', models.BigIntegerField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Open', 'Open'), ('In Progress', 'In Progress'), ('Completed', 'Completed')], default='Draft', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('picker', models.ForeignKey(blank=True, db_column='picker_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pick_lists', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Pick List',
                'verbose_name_plural': 'Pick Lists',
                'db_table': 'pick_lists',
                'ordering': ['-created_at', 'pick_no'],
            },
        ),
        migrations.CreateModel(
            name='PMSchedule',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('pm_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('schedule_name', models.CharField(max_length=120)),
                ('schedule_type', models.CharField(max_length=16)),
                ('interval_days', models.IntegerField(blank=True, null=True)),
                ('interval_hours', models.IntegerField(blank=True, null=True)),
                ('last_done_date', models.DateField(blank=True, null=True)),
                ('next_due_date', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('asset', models.ForeignKey(db_column='asset_id', on_delete=django.db.models.deletion.CASCADE, related_name='pm_schedules', to='floor_app.asset')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'PM Schedule',
                'verbose_name_plural': 'PM Schedules',
                'db_table': 'pm_schedules',
                'ordering': ['asset', 'next_due_date'],
            },
        ),
        migrations.CreateModel(
            name='MaintenanceWorkorder',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('mwo_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('mwo_no', models.CharField(max_length=64, unique=True)),
                ('planned_start', models.DateTimeField(blank=True, null=True)),
                ('planned_end', models.DateTimeField(blank=True, null=True)),
                ('actual_start', models.DateTimeField(blank=True, null=True)),
                ('actual_end', models.DateTimeField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Pending', 'Pending'), ('In Progress', 'In Progress'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], default='Pending', max_length=32)),
                ('notes', models.TextField(blank=True)),
                ('asset', models.ForeignKey(blank=True, db_column='asset_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='workorders', to='floor_app.asset')),
                ('assigned_to', models.ForeignKey(blank=True, db_column='assigned_to', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='maintenance_assignments', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('maint_req', models.ForeignKey(blank=True, db_column='maint_req_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='workorders', to='floor_app.maintenancerequest')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('pm', models.ForeignKey(blank=True, db_column='pm_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='workorders', to='floor_app.pmschedule')),
            ],
            options={
                'verbose_name': 'Maintenance Work Order',
                'verbose_name_plural': 'Maintenance Work Orders',
                'db_table': 'maintenance_workorders',
                'ordering': ['-created_at', 'mwo_no'],
            },
        ),
        migrations.CreateModel(
            name='Position',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('position_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=64, unique=True)),
                ('title', models.CharField(max_length=200)),
                ('department', models.CharField(blank=True, max_length=120)),
                ('grade', models.CharField(blank=True, max_length=32)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('reports_to', models.ForeignKey(blank=True, db_column='reports_to_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subordinates', to='floor_app.position')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Position',
                'verbose_name_plural': 'Positions',
                'db_table': 'positions',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='PPEType',
            fields=[
                ('ppe_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('ppe_code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('category', models.CharField(blank=True, max_length=64)),
                ('standard_ref', models.CharField(blank=True, max_length=120)),
                ('replacement_days', models.IntegerField(blank=True, help_text='Standard replacement interval in days', null=True)),
            ],
            options={
                'verbose_name': 'PPE Type',
                'verbose_name_plural': 'PPE Types',
                'db_table': 'ppe_types',
                'ordering': ['ppe_code'],
                'constraints': [models.CheckConstraint(condition=models.Q(('replacement_days__isnull', True), ('replacement_days__gt', 0), _connector='OR'), name='ck_ppe_replacement_days_pos')],
            },
        ),
        migrations.CreateModel(
            name='PPEIssuance',
            fields=[
                ('ppe_issue_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('issue_date', models.DateField()),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('return_date', models.DateField(blank=True, null=True)),
                ('condition_on_return', models.CharField(blank=True, max_length=32)),
                ('notes', models.TextField(blank=True)),
                ('user', models.ForeignKey(blank=True, db_column='user_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ppe_issuances', to=settings.AUTH_USER_MODEL)),
                ('ppe', models.ForeignKey(blank=True, db_column='ppe_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='issuances', to='floor_app.ppetype')),
            ],
            options={
                'verbose_name': 'PPE Issuance',
                'verbose_name_plural': 'PPE Issuances',
                'db_table': 'ppe_issuance',
                'ordering': ['-issue_date'],
            },
        ),
        migrations.CreateModel(
            name='PriceList',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('price_list_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('selling', models.BooleanField(default=True)),
                ('buying', models.BooleanField(default=False)),
                ('enabled', models.BooleanField(default=True)),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='price_lists', to='floor_app.company')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='price_lists', to='floor_app.currency')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Price List',
                'verbose_name_plural': 'Price Lists',
                'db_table': 'price_lists',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Customer',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('customer_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=200, unique=True)),
                ('tax_no', models.CharField(blank=True, max_length=64)),
                ('credit_limit', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('payment_terms', models.IntegerField(blank=True, help_text='Payment terms in days', null=True)),
                ('status', models.CharField(choices=[('Active', 'Active'), ('Inactive', 'Inactive'), ('Suspended', 'Suspended')], default='Active', max_length=32)),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='customers', to='floor_app.company')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='customers', to='floor_app.currency')),
                ('primary_contact', models.ForeignKey(blank=True, db_column='primary_contact_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='customers_as_primary', to='floor_app.contact')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('price_list', models.ForeignKey(blank=True, db_column='price_list_id', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='customers', to='floor_app.pricelist')),
            ],
            options={
                'verbose_name': 'Customer',
                'verbose_name_plural': 'Customers',
                'db_table': 'customers',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='PurchaseOrder',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('po_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('po_no', models.CharField(max_length=64, unique=True)),
                ('revision', models.IntegerField(default=0)),
                ('po_date', models.DateField()),
                ('required_date', models.DateField(blank=True, null=True)),
                ('conversion_rate', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('net_total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('tax_total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('grand_total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Confirmed', 'Confirmed'), ('Invoiced', 'Invoiced'), ('In Progress', 'In Progress'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], db_index=True, default='Draft', max_length=16)),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='purchase_orders', to='floor_app.company')),
                ('cost_center', models.ForeignKey(blank=True, db_column='cost_center_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='purchase_orders', to='floor_app.costcenter')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='purchase_orders', to='floor_app.currency')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Purchase Order',
                'verbose_name_plural': 'Purchase Orders',
                'db_table': 'purchase_orders',
                'ordering': ['-po_date', 'po_no'],
            },
        ),
        migrations.CreateModel(
            name='PurchaseOrderItem',
            fields=[
                ('poi_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('received_qty', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('rate', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('amount', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('need_by_date', models.DateField(blank=True, null=True)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='po_items', to='floor_app.item')),
                ('po', models.ForeignKey(db_column='po_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.purchaseorder')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='po_items', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Purchase Order Item',
                'verbose_name_plural': 'Purchase Order Items',
                'db_table': 'purchase_order_items',
            },
        ),
        migrations.CreateModel(
            name='PurchaseReceipt',
            fields=[
                ('posting_ts', models.DateTimeField(db_index=True, default=django.utils.timezone.now)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('pr_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('receipt_no', models.CharField(max_length=64, unique=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('po', models.ForeignKey(blank=True, db_column='po_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='receipts', to='floor_app.purchaseorder')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Purchase Receipt',
                'verbose_name_plural': 'Purchase Receipts',
                'db_table': 'purchase_receipts',
            },
        ),
        migrations.CreateModel(
            name='PurchaseInvoice',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('pi_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('pi_no', models.CharField(max_length=64, unique=True)),
                ('posting_date', models.DateField()),
                ('due_date', models.DateField(blank=True, null=True)),
                ('conversion_rate', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('tax', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('grand_total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('grand_total_base', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('outstanding_amount', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Paid', 'Paid'), ('Partially Paid', 'Partially Paid'), ('Overdue', 'Overdue'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='purchase_invoices', to='floor_app.currency')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('pr', models.ForeignKey(blank=True, db_column='pr_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='invoices', to='floor_app.purchasereceipt')),
            ],
            options={
                'verbose_name': 'Purchase Invoice',
                'verbose_name_plural': 'Purchase Invoices',
                'db_table': 'purchase_invoices',
                'ordering': ['-posting_date', 'pi_no'],
            },
        ),
        migrations.CreateModel(
            name='QCPlan',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('qc_plan_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('doc_type_target', models.CharField(choices=[('WorkOrder', 'Work Order'), ('SalesOrder', 'Sales Order'), ('PurchaseOrder', 'Purchase Order'), ('SalesInvoice', 'Sales Invoice'), ('PurchaseInvoice', 'Purchase Invoice'), ('DeliveryNote', 'Delivery Note'), ('PurchaseReceipt', 'Purchase Receipt'), ('StockEntry', 'Stock Entry'), ('MaterialRequest', 'Material Request'), ('Payment', 'Payment'), ('Shipment', 'Shipment')], max_length=32)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('item_group', models.ForeignKey(blank=True, db_column='item_group_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='qc_plans', to='floor_app.itemgroup')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'QC Plan',
                'verbose_name_plural': 'QC Plans',
                'db_table': 'qc_plans',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='QCInspection',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('qci_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('inspection_no', models.CharField(max_length=64, unique=True)),
                ('doc_type', models.CharField(max_length=32)),
                ('doc_id', models.BigIntegerField()),
                ('inspection_date', models.DateField()),
                ('sample_size', models.IntegerField(blank=True, null=True)),
                ('passed_qty', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('rejected_qty', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('In Progress', 'In Progress'), ('Completed', 'Completed'), ('Approved', 'Approved'), ('Rejected', 'Rejected')], db_index=True, default='Draft', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('inspector', models.ForeignKey(blank=True, db_column='inspector_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='qc_inspections', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('qc_plan', models.ForeignKey(blank=True, db_column='qc_plan_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='inspections', to='floor_app.qcplan')),
            ],
            options={
                'verbose_name': 'QC Inspection',
                'verbose_name_plural': 'QC Inspections',
                'db_table': 'qc_inspections',
                'ordering': ['-inspection_date', 'inspection_no'],
            },
        ),
        migrations.CreateModel(
            name='QCCheck',
            fields=[
                ('qc_check_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('check_name', models.CharField(max_length=200)),
                ('check_type', models.CharField(max_length=32)),
                ('method', models.CharField(blank=True, max_length=120)),
                ('tol_min', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('tol_max', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('target_value', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('sample_size', models.IntegerField(blank=True, null=True)),
                ('qc_plan', models.ForeignKey(db_column='qc_plan_id', on_delete=django.db.models.deletion.CASCADE, related_name='checks', to='floor_app.qcplan')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='qc_checks', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'QC Check',
                'verbose_name_plural': 'QC Checks',
                'db_table': 'qc_checks',
                'ordering': ['qc_plan', 'check_name'],
            },
        ),
        migrations.CreateModel(
            name='QCResult',
            fields=[
                ('qcr_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('sample_no', models.IntegerField(blank=True, null=True)),
                ('measured_value', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('text_result', models.CharField(blank=True, max_length=255)),
                ('passed', models.BooleanField(default=False)),
                ('notes', models.CharField(blank=True, max_length=255)),
                ('qc_check', models.ForeignKey(db_column='qc_check_id', on_delete=django.db.models.deletion.PROTECT, related_name='results', to='floor_app.qccheck')),
                ('qci', models.ForeignKey(db_column='qci_id', on_delete=django.db.models.deletion.CASCADE, related_name='results', to='floor_app.qcinspection')),
            ],
            options={
                'verbose_name': 'QC Result',
                'verbose_name_plural': 'QC Results',
                'db_table': 'qc_results',
                'ordering': ['qci', 'qc_check', 'sample_no'],
            },
        ),
        migrations.CreateModel(
            name='Qualification',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('qual_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('description', models.TextField(blank=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Qualification',
                'verbose_name_plural': 'Qualifications',
                'db_table': 'qualifications',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='EmployeeQualification',
            fields=[
                ('emp_qual_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('valid_from', models.DateField()),
                ('valid_to', models.DateField(blank=True, null=True)),
                ('emp', models.ForeignKey(db_column='emp_id', on_delete=django.db.models.deletion.CASCADE, related_name='qualifications', to='floor_app.employee')),
                ('qual', models.ForeignKey(db_column='qual_id', on_delete=django.db.models.deletion.PROTECT, related_name='employees', to='floor_app.qualification')),
            ],
            options={
                'verbose_name': 'Employee Qualification',
                'verbose_name_plural': 'Employee Qualifications',
                'db_table': 'employee_qualifications',
                'ordering': ['emp', '-valid_from'],
            },
        ),
        migrations.CreateModel(
            name='Responsibility',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('responsibility_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=100, unique=True)),
                ('description', models.TextField(blank=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Responsibility',
                'verbose_name_plural': 'Responsibilities',
                'db_table': 'responsibilities',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='RiskAssessment',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('ra_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('ra_code', models.CharField(max_length=64, unique=True)),
                ('area_or_process', models.CharField(max_length=200)),
                ('hazard', models.CharField(max_length=200)),
                ('risk_before', models.CharField(blank=True, max_length=32)),
                ('likelihood', models.IntegerField(blank=True, null=True)),
                ('severity', models.IntegerField(blank=True, null=True)),
                ('risk_score', models.IntegerField(blank=True, null=True)),
                ('controls', models.TextField(blank=True)),
                ('risk_after', models.CharField(blank=True, max_length=32)),
                ('review_date', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Risk Assessment',
                'verbose_name_plural': 'Risk Assessments',
                'db_table': 'risk_assessments',
                'ordering': ['-created_at', 'ra_code'],
            },
        ),
        migrations.CreateModel(
            name='Route',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('route_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(blank=True, db_column='item_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='routes', to='floor_app.item')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Route',
                'verbose_name_plural': 'Routes',
                'db_table': 'routes',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='SafetyTraining',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('training_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('training_code', models.CharField(max_length=32, unique=True)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('training_type', models.CharField(blank=True, max_length=32)),
                ('valid_months', models.IntegerField(blank=True, help_text='Number of months this training is valid for', null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('required_for_group', models.ForeignKey(blank=True, db_column='required_for_group_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='required_trainings', to='auth.group')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Safety Training',
                'verbose_name_plural': 'Safety Training',
                'db_table': 'safety_training',
                'ordering': ['training_code'],
            },
        ),
        migrations.CreateModel(
            name='SalesInvoice',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('si_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('si_no', models.CharField(max_length=64, unique=True)),
                ('posting_date', models.DateField()),
                ('due_date', models.DateField(blank=True, null=True)),
                ('conversion_rate', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('tax', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('grand_total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('grand_total_base', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('outstanding_amount', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Paid', 'Paid'), ('Partially Paid', 'Partially Paid'), ('Overdue', 'Overdue'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='sales_invoices', to='floor_app.currency')),
                ('customer', models.ForeignKey(db_column='customer_id', on_delete=django.db.models.deletion.PROTECT, related_name='invoices', to='floor_app.customer')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Sales Invoice',
                'verbose_name_plural': 'Sales Invoices',
                'db_table': 'sales_invoices',
                'ordering': ['-posting_date', 'si_no'],
            },
        ),
        migrations.CreateModel(
            name='PaymentAllocation',
            fields=[
                ('alloc_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('allocated_amount', models.DecimalField(decimal_places=6, max_digits=18)),
                ('pay', models.ForeignKey(db_column='pay_id', on_delete=django.db.models.deletion.CASCADE, related_name='allocations', to='floor_app.payment')),
                ('pi', models.ForeignKey(blank=True, db_column='pi_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payment_allocations', to='floor_app.purchaseinvoice')),
                ('si', models.ForeignKey(blank=True, db_column='si_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payment_allocations', to='floor_app.salesinvoice')),
            ],
            options={
                'verbose_name': 'Payment Allocation',
                'verbose_name_plural': 'Payment Allocations',
                'db_table': 'payment_allocations',
                'ordering': ['pay'],
            },
        ),
        migrations.CreateModel(
            name='SalesOrder',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('so_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('so_no', models.CharField(max_length=64, unique=True)),
                ('revision', models.IntegerField(default=0)),
                ('so_date', models.DateField()),
                ('delivery_date', models.DateField(blank=True, null=True)),
                ('conversion_rate', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('net_total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('tax_total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('grand_total', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Confirmed', 'Confirmed'), ('Invoiced', 'Invoiced'), ('In Progress', 'In Progress'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], db_index=True, default='Draft', max_length=16)),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='sales_orders', to='floor_app.company')),
                ('cost_center', models.ForeignKey(blank=True, db_column='cost_center_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sales_orders', to='floor_app.costcenter')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='sales_orders', to='floor_app.currency')),
                ('customer', models.ForeignKey(db_column='customer_id', on_delete=django.db.models.deletion.PROTECT, related_name='sales_orders', to='floor_app.customer')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Sales Order',
                'verbose_name_plural': 'Sales Orders',
                'db_table': 'sales_orders',
                'ordering': ['-so_date', 'so_no'],
            },
        ),
        migrations.AddField(
            model_name='salesinvoice',
            name='so',
            field=models.ForeignKey(blank=True, db_column='so_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='invoices', to='floor_app.salesorder'),
        ),
        migrations.CreateModel(
            name='DeliveryNote',
            fields=[
                ('posting_ts', models.DateTimeField(db_index=True, default=django.utils.timezone.now)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('dn_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('dn_no', models.CharField(max_length=64, unique=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Delivered', 'Delivered'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('customer', models.ForeignKey(db_column='customer_id', on_delete=django.db.models.deletion.PROTECT, related_name='deliveries', to='floor_app.customer')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('so', models.ForeignKey(blank=True, db_column='so_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deliveries', to='floor_app.salesorder')),
            ],
            options={
                'verbose_name': 'Delivery Note',
                'verbose_name_plural': 'Delivery Notes',
                'db_table': 'delivery_notes',
            },
        ),
        migrations.CreateModel(
            name='SalesOrderItem',
            fields=[
                ('soi_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('delivered_qty', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('rate', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('amount', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('promised_date', models.DateField(blank=True, null=True)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='so_items', to='floor_app.item')),
                ('so', models.ForeignKey(db_column='so_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.salesorder')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='so_items', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Sales Order Item',
                'verbose_name_plural': 'Sales Order Items',
                'db_table': 'sales_order_items',
            },
        ),
        migrations.CreateModel(
            name='Serial',
            fields=[
                ('serial_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('serial_no', models.CharField(max_length=120, unique=True)),
                ('status', models.CharField(blank=True, max_length=32)),
                ('warranty_date', models.DateField(blank=True, null=True)),
                ('batch', models.ForeignKey(blank=True, db_column='batch_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='serials', to='floor_app.batch')),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='serials', to='floor_app.item')),
            ],
            options={
                'verbose_name': 'Serial Number',
                'verbose_name_plural': 'Serial Numbers',
                'db_table': 'serials',
                'ordering': ['serial_no'],
            },
        ),
        migrations.CreateModel(
            name='Shipment',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('ship_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('shipment_no', models.CharField(max_length=64, unique=True)),
                ('doc_type', models.CharField(choices=[('WorkOrder', 'Work Order'), ('SalesOrder', 'Sales Order'), ('PurchaseOrder', 'Purchase Order'), ('SalesInvoice', 'Sales Invoice'), ('PurchaseInvoice', 'Purchase Invoice'), ('DeliveryNote', 'Delivery Note'), ('PurchaseReceipt', 'Purchase Receipt'), ('StockEntry', 'Stock Entry'), ('MaterialRequest', 'Material Request'), ('Payment', 'Payment'), ('Shipment', 'Shipment')], max_length=32)),
                ('doc_id', models.BigIntegerField(blank=True, null=True)),
                ('tracking_no', models.CharField(blank=True, max_length=120)),
                ('ship_date', models.DateField(blank=True, null=True)),
                ('est_delivery_date', models.DateField(blank=True, null=True)),
                ('actual_delivery_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Ready', 'Ready'), ('In Transit', 'In Transit'), ('Delivered', 'Delivered'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('carrier', models.ForeignKey(blank=True, db_column='carrier_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='shipments', to='floor_app.carrier')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('ship_from_addr', models.ForeignKey(blank=True, db_column='ship_from_addr_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='shipments_from', to='floor_app.address')),
                ('ship_to_addr', models.ForeignKey(blank=True, db_column='ship_to_addr_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='shipments_to', to='floor_app.address')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Shipment',
                'verbose_name_plural': 'Shipments',
                'db_table': 'shipments',
                'ordering': ['-ship_date', 'shipment_no'],
            },
        ),
        migrations.CreateModel(
            name='StockEntry',
            fields=[
                ('posting_ts', models.DateTimeField(db_index=True, default=django.utils.timezone.now)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('se_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('se_no', models.CharField(max_length=64, unique=True)),
                ('purpose', models.CharField(choices=[('Material Issue', 'Material Issue'), ('Material Receipt', 'Material Receipt'), ('Material Transfer', 'Material Transfer'), ('Manufacturing', 'Manufacturing'), ('Adjustment', 'Adjustment')], max_length=24)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Submitted', 'Submitted'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], default='Draft', max_length=32)),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='stock_entries', to='floor_app.company')),
                ('cost_center', models.ForeignKey(blank=True, db_column='cost_center_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_entries', to='floor_app.costcenter')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Stock Entry',
                'verbose_name_plural': 'Stock Entries',
                'db_table': 'stock_entries',
            },
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('supplier_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=200, unique=True)),
                ('tax_no', models.CharField(blank=True, max_length=64)),
                ('credit_limit', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('payment_terms', models.IntegerField(blank=True, help_text='Payment terms in days', null=True)),
                ('status', models.CharField(choices=[('Active', 'Active'), ('Inactive', 'Inactive'), ('Suspended', 'Suspended')], default='Active', max_length=32)),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='suppliers', to='floor_app.company')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='suppliers', to='floor_app.currency')),
                ('primary_contact', models.ForeignKey(blank=True, db_column='primary_contact_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='suppliers_as_primary', to='floor_app.contact')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Supplier',
                'verbose_name_plural': 'Suppliers',
                'db_table': 'suppliers',
                'ordering': ['code'],
            },
        ),
        migrations.AddField(
            model_name='purchasereceipt',
            name='supplier',
            field=models.ForeignKey(db_column='supplier_id', on_delete=django.db.models.deletion.PROTECT, related_name='receipts', to='floor_app.supplier'),
        ),
        migrations.AddField(
            model_name='purchaseorder',
            name='supplier',
            field=models.ForeignKey(db_column='supplier_id', on_delete=django.db.models.deletion.PROTECT, related_name='purchase_orders', to='floor_app.supplier'),
        ),
        migrations.AddField(
            model_name='purchaseinvoice',
            name='supplier',
            field=models.ForeignKey(db_column='supplier_id', on_delete=django.db.models.deletion.PROTECT, related_name='invoices', to='floor_app.supplier'),
        ),
        migrations.AddField(
            model_name='item',
            name='default_supplier',
            field=models.ForeignKey(blank=True, db_column='default_supplier_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='default_items', to='floor_app.supplier'),
        ),
        migrations.CreateModel(
            name='Tax',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('tax_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('rate_pct', models.DecimalField(decimal_places=3, help_text='Tax rate as percentage (e.g., 15.000 for 15%)', max_digits=6)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Tax',
                'verbose_name_plural': 'Taxes',
                'db_table': 'taxes',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='DocTax',
            fields=[
                ('doc_tax_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('doc_type', models.CharField(choices=[('WorkOrder', 'Work Order'), ('SalesOrder', 'Sales Order'), ('PurchaseOrder', 'Purchase Order'), ('SalesInvoice', 'Sales Invoice'), ('PurchaseInvoice', 'Purchase Invoice'), ('DeliveryNote', 'Delivery Note'), ('PurchaseReceipt', 'Purchase Receipt'), ('StockEntry', 'Stock Entry'), ('MaterialRequest', 'Material Request'), ('Payment', 'Payment'), ('Shipment', 'Shipment')], max_length=32)),
                ('doc_id', models.BigIntegerField()),
                ('base_amount', models.DecimalField(decimal_places=6, max_digits=18)),
                ('tax_amount', models.DecimalField(decimal_places=6, max_digits=18)),
                ('currency_code', models.ForeignKey(db_column='currency_code', on_delete=django.db.models.deletion.PROTECT, related_name='doc_taxes', to='floor_app.currency')),
                ('tax', models.ForeignKey(db_column='tax_id', on_delete=django.db.models.deletion.PROTECT, related_name='document_taxes', to='floor_app.tax')),
            ],
            options={
                'verbose_name': 'Document Tax',
                'verbose_name_plural': 'Document Taxes',
                'db_table': 'doc_taxes',
                'ordering': ['doc_type', 'doc_id'],
            },
        ),
        migrations.CreateModel(
            name='Timer',
            fields=[
                ('ref_doctype', models.CharField(blank=True, db_index=True, max_length=32)),
                ('ref_id', models.BigIntegerField(blank=True, db_index=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('timer_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('topic', models.CharField(max_length=64)),
                ('due_ts', models.DateTimeField(db_index=True)),
                ('payload_json', models.JSONField(blank=True, null=True)),
                ('status', models.CharField(choices=[('PENDING', 'PENDING'), ('FIRED', 'FIRED'), ('EXPIRED', 'EXPIRED'), ('CANCELLED', 'CANCELLED')], default='PENDING', max_length=16)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Timer',
                'verbose_name_plural': 'Timers',
                'db_table': 'timers',
                'ordering': ['due_ts'],
            },
        ),
        migrations.CreateModel(
            name='ShipmentItem',
            fields=[
                ('ref_doctype', models.CharField(blank=True, db_index=True, max_length=32)),
                ('ref_id', models.BigIntegerField(blank=True, db_index=True, null=True)),
                ('ship_item_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('batch', models.ForeignKey(blank=True, db_column='batch_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='shipment_items', to='floor_app.batch')),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='shipment_items', to='floor_app.item')),
                ('serial', models.ForeignKey(blank=True, db_column='serial_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='shipment_items', to='floor_app.serial')),
                ('ship', models.ForeignKey(db_column='ship_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.shipment')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='shipment_items', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Shipment Item',
                'verbose_name_plural': 'Shipment Items',
                'db_table': 'shipment_items',
                'ordering': ['ship', 'ship_item_id'],
            },
        ),
        migrations.CreateModel(
            name='SalesInvoiceItem',
            fields=[
                ('sii_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('rate', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('amount', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='invoice_items', to='floor_app.item')),
                ('si', models.ForeignKey(db_column='si_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.salesinvoice')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='invoice_items', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Sales Invoice Item',
                'verbose_name_plural': 'Sales Invoice Items',
                'db_table': 'sales_invoice_items',
                'ordering': ['si', 'sii_id'],
            },
        ),
        migrations.CreateModel(
            name='PickListItem',
            fields=[
                ('pick_item_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty_requested', models.DecimalField(decimal_places=6, max_digits=18)),
                ('qty_picked', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('batch', models.ForeignKey(blank=True, db_column='batch_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pick_items', to='floor_app.batch')),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='pick_items', to='floor_app.item')),
                ('loc', models.ForeignKey(db_column='loc_id', on_delete=django.db.models.deletion.PROTECT, related_name='pick_items', to='floor_app.location')),
                ('pick', models.ForeignKey(db_column='pick_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.picklist')),
                ('serial', models.ForeignKey(blank=True, db_column='serial_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pick_items', to='floor_app.serial')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pick_items', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Pick List Item',
                'verbose_name_plural': 'Pick List Items',
                'db_table': 'pick_list_items',
                'ordering': ['pick', 'pick_item_id'],
            },
        ),
        migrations.CreateModel(
            name='MaterialRequestItem',
            fields=[
                ('mri_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('ordered_qty', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('required_date', models.DateField(blank=True, null=True)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='mr_items', to='floor_app.item')),
                ('mr', models.ForeignKey(db_column='mr_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.materialrequest')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='mr_items', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Material Request Item',
                'verbose_name_plural': 'Material Request Items',
                'db_table': 'material_request_items',
            },
        ),
        migrations.CreateModel(
            name='JobCardMaterial',
            fields=[
                ('jcm_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='job_card_materials', to='floor_app.item')),
                ('job_card', models.ForeignKey(db_column='job_card_id', on_delete=django.db.models.deletion.CASCADE, related_name='materials', to='floor_app.jobcard')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='job_card_materials', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Job Card Material',
                'verbose_name_plural': 'Job Card Materials',
                'db_table': 'job_card_materials',
            },
        ),
        migrations.CreateModel(
            name='ItemUOM',
            fields=[
                ('item_uom_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('conversion_factor', models.DecimalField(decimal_places=6, default=1, max_digits=18)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.CASCADE, related_name='uom_conversions', to='floor_app.item')),
                ('uom_code', models.ForeignKey(db_column='uom_code', on_delete=django.db.models.deletion.PROTECT, related_name='item_conversions', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Item UOM Conversion',
                'verbose_name_plural': 'Item UOM Conversions',
                'db_table': 'item_uom',
            },
        ),
        migrations.CreateModel(
            name='ItemPrice',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('item_price_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('rate', models.DecimalField(decimal_places=6, max_digits=18)),
                ('valid_from', models.DateField(blank=True, null=True)),
                ('valid_to', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.CASCADE, related_name='prices', to='floor_app.item')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('price_list', models.ForeignKey(db_column='price_list_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.pricelist')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prices', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Item Price',
                'verbose_name_plural': 'Item Prices',
                'db_table': 'item_prices',
            },
        ),
        migrations.CreateModel(
            name='ItemAttrData',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('iad_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('value_num', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('value_text', models.CharField(blank=True, max_length=255)),
                ('value_date', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.CASCADE, related_name='attributes', to='floor_app.item')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('attr', models.ForeignKey(db_column='attr_id', on_delete=django.db.models.deletion.CASCADE, related_name='item_data', to='floor_app.itemattribute')),
                ('attr_val', models.ForeignKey(blank=True, db_column='attr_val_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='item_data', to='floor_app.itemattributevalue')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='attr_data', to='floor_app.uom')),
            ],
            options={
                'verbose_name': 'Item Attribute Data',
                'verbose_name_plural': 'Item Attribute Data',
                'db_table': 'item_attr_data',
            },
        ),
        migrations.AddField(
            model_name='item',
            name='package_uom',
            field=models.ForeignKey(blank=True, db_column='package_uom', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='package_items', to='floor_app.uom'),
        ),
        migrations.AddField(
            model_name='item',
            name='uom_code',
            field=models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='items', to='floor_app.uom'),
        ),
        migrations.AddField(
            model_name='item',
            name='weight_uom',
            field=models.ForeignKey(blank=True, db_column='weight_uom', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='weight_items', to='floor_app.uom'),
        ),
        migrations.AddField(
            model_name='bomitem',
            name='uom_code',
            field=models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bom_items', to='floor_app.uom'),
        ),
        migrations.AddField(
            model_name='bom',
            name='uom_code',
            field=models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='boms', to='floor_app.uom'),
        ),
        migrations.CreateModel(
            name='UserAvailability',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('avail_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('date', models.DateField()),
                ('available', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('emp', models.ForeignKey(db_column='emp_id', on_delete=django.db.models.deletion.CASCADE, related_name='availability', to='floor_app.employee')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User Availability',
                'verbose_name_plural': 'User Availability',
                'db_table': 'user_availability',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='UserCertificate',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('cert_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('cert_code', models.CharField(max_length=64)),
                ('cert_name', models.CharField(max_length=200)),
                ('issuing_authority', models.CharField(blank=True, max_length=200)),
                ('issue_date', models.DateField()),
                ('expiry_date', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='certificates', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User Certificate',
                'verbose_name_plural': 'User Certificates',
                'db_table': 'user_certificates',
                'ordering': ['-issue_date'],
            },
        ),
        migrations.CreateModel(
            name='UserKPI',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('user_kpi_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('period', models.CharField(help_text='Format: YYYY-MM', max_length=7)),
                ('kpi_name', models.CharField(max_length=120)),
                ('kpi_value', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('emp', models.ForeignKey(db_column='emp_id', on_delete=django.db.models.deletion.CASCADE, related_name='kpis', to='floor_app.employee')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User KPI',
                'verbose_name_plural': 'User KPIs',
                'db_table': 'user_kpi',
                'ordering': ['-period', 'emp'],
            },
        ),
        migrations.CreateModel(
            name='UserResponsibility',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('is_primary', models.BooleanField(default=False)),
                ('assigned_date', models.DateField()),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('responsibility', models.ForeignKey(db_column='responsibility_id', on_delete=django.db.models.deletion.CASCADE, related_name='users', to='floor_app.responsibility')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='responsibilities', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User Responsibility',
                'verbose_name_plural': 'User Responsibilities',
                'db_table': 'user_responsibilities',
                'ordering': ['-is_primary', 'assigned_date'],
            },
        ),
        migrations.CreateModel(
            name='UserTraining',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('user_training_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('training_date', models.DateField()),
                ('expiry_date', models.DateField(blank=True, null=True)),
                ('score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('certificate_no', models.CharField(blank=True, max_length=100)),
                ('status', models.CharField(choices=[('Scheduled', 'Scheduled'), ('Completed', 'Completed'), ('Expired', 'Expired'), ('Failed', 'Failed')], default='Completed', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('training', models.ForeignKey(db_column='training_id', on_delete=django.db.models.deletion.CASCADE, related_name='user_trainings', to='floor_app.safetytraining')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='trainings', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User Training',
                'verbose_name_plural': 'User Training Records',
                'db_table': 'user_training',
                'ordering': ['-training_date'],
            },
        ),
        migrations.CreateModel(
            name='Vehicle',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('vehicle_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('plate_no', models.CharField(max_length=32, unique=True)),
                ('vehicle_type', models.CharField(blank=True, max_length=64)),
                ('make_model', models.CharField(blank=True, max_length=100)),
                ('year', models.IntegerField(blank=True, null=True)),
                ('color', models.CharField(blank=True, max_length=32)),
                ('capacity_kg', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('capacity_volume', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('capacity_passengers', models.PositiveSmallIntegerField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Available', 'Available'), ('In Use', 'In Use'), ('Maintenance', 'Maintenance'), ('Out of Service', 'Out of Service')], default='Available', max_length=32)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Vehicle',
                'verbose_name_plural': 'Vehicles',
                'db_table': 'vehicles',
                'ordering': ['plate_no'],
            },
        ),
        migrations.CreateModel(
            name='Warehouse',
            fields=[
                ('wh_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('warehouse_code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('warehouse_type', models.CharField(blank=True, max_length=32)),
                ('is_active', models.BooleanField(default=True)),
                ('address', models.ForeignKey(blank=True, db_column='address_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='warehouses', to='floor_app.address')),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='warehouses', to='floor_app.company')),
                ('parent_wh', models.ForeignKey(blank=True, db_column='parent_wh_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sub_warehouses', to='floor_app.warehouse')),
            ],
            options={
                'verbose_name': 'Warehouse',
                'verbose_name_plural': 'Warehouses',
                'db_table': 'warehouses',
                'ordering': ['warehouse_code'],
            },
        ),
        migrations.CreateModel(
            name='StockReservation',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('res_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('demand_doctype', models.CharField(blank=True, max_length=32)),
                ('demand_id', models.BigIntegerField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Reserved', 'Reserved'), ('Released', 'Released'), ('Cancelled', 'Cancelled')], default='Draft', max_length=16)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='reservations', to='floor_app.item')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reservations', to='floor_app.uom')),
                ('wh', models.ForeignKey(db_column='wh_id', on_delete=django.db.models.deletion.PROTECT, related_name='reservations', to='floor_app.warehouse')),
            ],
            options={
                'verbose_name': 'Stock Reservation',
                'verbose_name_plural': 'Stock Reservations',
                'db_table': 'stock_reservations',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StockLedger',
            fields=[
                ('ref_doctype', models.CharField(blank=True, db_index=True, max_length=32)),
                ('ref_id', models.BigIntegerField(blank=True, db_index=True, null=True)),
                ('posting_ts', models.DateTimeField(db_index=True, default=django.utils.timezone.now)),
                ('sle_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty_in', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('qty_out', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('balance_qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('rate', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('value', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('batch', models.ForeignKey(blank=True, db_column='batch_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_ledger_entries', to='floor_app.batch')),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='stock_ledger_entries', to='floor_app.company')),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='stock_ledger_entries', to='floor_app.item')),
                ('loc', models.ForeignKey(blank=True, db_column='loc_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_ledger_entries', to='floor_app.location')),
                ('serial', models.ForeignKey(blank=True, db_column='serial_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_ledger_entries', to='floor_app.serial')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_ledger_entries', to='floor_app.uom')),
                ('wh', models.ForeignKey(db_column='wh_id', on_delete=django.db.models.deletion.PROTECT, related_name='stock_ledger_entries', to='floor_app.warehouse')),
            ],
            options={
                'verbose_name': 'Stock Ledger Entry',
                'verbose_name_plural': 'Stock Ledger Entries',
                'db_table': 'stock_ledger',
            },
        ),
        migrations.CreateModel(
            name='StockEntryItem',
            fields=[
                ('sei_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('basic_rate', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('basic_amount', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('batch', models.ForeignKey(blank=True, db_column='batch_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_entry_items', to='floor_app.batch')),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='stock_entry_items', to='floor_app.item')),
                ('s_location', models.ForeignKey(blank=True, db_column='s_location_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='source_entries', to='floor_app.location')),
                ('se', models.ForeignKey(db_column='se_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.stockentry')),
                ('serial', models.ForeignKey(blank=True, db_column='serial_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_entry_items', to='floor_app.serial')),
                ('t_location', models.ForeignKey(blank=True, db_column='t_location_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='target_entries', to='floor_app.location')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_entry_items', to='floor_app.uom')),
                ('s_warehouse', models.ForeignKey(blank=True, db_column='s_warehouse_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='source_entries', to='floor_app.warehouse')),
                ('t_warehouse', models.ForeignKey(blank=True, db_column='t_warehouse_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='target_entries', to='floor_app.warehouse')),
            ],
            options={
                'verbose_name': 'Stock Entry Item',
                'verbose_name_plural': 'Stock Entry Items',
                'db_table': 'stock_entry_items',
            },
        ),
        migrations.CreateModel(
            name='PurchaseReceiptItem',
            fields=[
                ('pri_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('accepted_qty', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('rejected_qty', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('batch', models.ForeignKey(blank=True, db_column='batch_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='receipt_items', to='floor_app.batch')),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='receipt_items', to='floor_app.item')),
                ('loc', models.ForeignKey(db_column='loc_id', on_delete=django.db.models.deletion.PROTECT, related_name='receipt_items', to='floor_app.location')),
                ('poi', models.ForeignKey(blank=True, db_column='poi_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='receipts', to='floor_app.purchaseorderitem')),
                ('pr', models.ForeignKey(db_column='pr_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.purchasereceipt')),
                ('serial', models.ForeignKey(blank=True, db_column='serial_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='receipt_items', to='floor_app.serial')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='receipt_items', to='floor_app.uom')),
                ('wh', models.ForeignKey(db_column='wh_id', on_delete=django.db.models.deletion.PROTECT, related_name='receipt_items', to='floor_app.warehouse')),
            ],
            options={
                'verbose_name': 'Purchase Receipt Item',
                'verbose_name_plural': 'Purchase Receipt Items',
                'db_table': 'purchase_receipt_items',
            },
        ),
        migrations.AddField(
            model_name='picklist',
            name='source_wh',
            field=models.ForeignKey(db_column='source_wh_id', on_delete=django.db.models.deletion.PROTECT, related_name='pick_lists', to='floor_app.warehouse'),
        ),
        migrations.AddField(
            model_name='location',
            name='wh',
            field=models.ForeignKey(db_column='wh_id', on_delete=django.db.models.deletion.PROTECT, related_name='locations', to='floor_app.warehouse'),
        ),
        migrations.AddField(
            model_name='item',
            name='default_warehouse',
            field=models.ForeignKey(blank=True, db_column='default_wh_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='default_items', to='floor_app.warehouse'),
        ),
        migrations.CreateModel(
            name='InventoryBalance',
            fields=[
                ('invbal_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty_on_hand', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('qty_reserved', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('qty_available', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('batch', models.ForeignKey(blank=True, db_column='batch_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='balances', to='floor_app.batch')),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.CASCADE, related_name='balances', to='floor_app.item')),
                ('loc', models.ForeignKey(db_column='loc_id', on_delete=django.db.models.deletion.CASCADE, related_name='balances', to='floor_app.location')),
                ('serial', models.ForeignKey(blank=True, db_column='serial_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='balances', to='floor_app.serial')),
                ('wh', models.ForeignKey(db_column='wh_id', on_delete=django.db.models.deletion.CASCADE, related_name='balances', to='floor_app.warehouse')),
            ],
            options={
                'verbose_name': 'Inventory Balance',
                'verbose_name_plural': 'Inventory Balances',
                'db_table': 'inventory_balances',
            },
        ),
        migrations.CreateModel(
            name='DeliveryNoteItem',
            fields=[
                ('dni_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('qty', models.DecimalField(decimal_places=6, max_digits=18)),
                ('batch', models.ForeignKey(blank=True, db_column='batch_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='delivery_items', to='floor_app.batch')),
                ('dn', models.ForeignKey(db_column='dn_id', on_delete=django.db.models.deletion.CASCADE, related_name='items', to='floor_app.deliverynote')),
                ('item', models.ForeignKey(db_column='item_id', on_delete=django.db.models.deletion.PROTECT, related_name='delivery_items', to='floor_app.item')),
                ('loc', models.ForeignKey(db_column='loc_id', on_delete=django.db.models.deletion.PROTECT, related_name='delivery_items', to='floor_app.location')),
                ('soi', models.ForeignKey(blank=True, db_column='soi_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deliveries', to='floor_app.salesorderitem')),
                ('serial', models.ForeignKey(blank=True, db_column='serial_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='delivery_items', to='floor_app.serial')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='delivery_items', to='floor_app.uom')),
                ('wh', models.ForeignKey(db_column='wh_id', on_delete=django.db.models.deletion.PROTECT, related_name='delivery_items', to='floor_app.warehouse')),
            ],
            options={
                'verbose_name': 'Delivery Note Item',
                'verbose_name_plural': 'Delivery Note Items',
                'db_table': 'delivery_note_items',
            },
        ),
        migrations.CreateModel(
            name='WOOperation',
            fields=[
                ('wo_op_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('op_seq', models.IntegerField()),
                ('op_code', models.CharField(blank=True, max_length=64)),
                ('op_name', models.CharField(blank=True, max_length=200)),
                ('planned_start', models.DateTimeField(blank=True, null=True)),
                ('planned_end', models.DateTimeField(blank=True, null=True)),
                ('actual_start', models.DateTimeField(blank=True, null=True)),
                ('actual_end', models.DateTimeField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Pending', 'Pending'), ('Scheduled', 'Scheduled'), ('In Progress', 'In Progress'), ('On Hold', 'On Hold'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], default='Pending', max_length=32)),
                ('qty_completed', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('qty_rejected', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('operation', models.ForeignKey(blank=True, db_column='operation_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='wo_operations', to='floor_app.operation')),
            ],
            options={
                'verbose_name': 'Work Order Operation',
                'verbose_name_plural': 'Work Order Operations',
                'db_table': 'wo_operations',
            },
        ),
        migrations.CreateModel(
            name='TimeLog',
            fields=[
                ('time_log_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('start_ts', models.DateTimeField()),
                ('end_ts', models.DateTimeField(blank=True, null=True)),
                ('minutes', models.IntegerField(blank=True, null=True)),
                ('activity', models.CharField(blank=True, max_length=32)),
                ('remark', models.CharField(blank=True, max_length=255)),
                ('user', models.ForeignKey(blank=True, db_column='user_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='time_logs', to=settings.AUTH_USER_MODEL)),
                ('wo_op', models.ForeignKey(db_column='wo_op_id', on_delete=django.db.models.deletion.CASCADE, related_name='time_logs', to='floor_app.wooperation')),
            ],
            options={
                'verbose_name': 'Time Log',
                'verbose_name_plural': 'Time Logs',
                'db_table': 'time_logs',
                'ordering': ['-start_ts'],
            },
        ),
        migrations.AddField(
            model_name='jobcard',
            name='wo_op',
            field=models.ForeignKey(db_column='wo_op_id', on_delete=django.db.models.deletion.CASCADE, related_name='job_cards', to='floor_app.wooperation'),
        ),
        migrations.CreateModel(
            name='WorkOrder',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('wo_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('wo_no', models.CharField(max_length=64, unique=True)),
                ('revision', models.IntegerField(default=0)),
                ('qty_to_make', models.DecimalField(decimal_places=6, help_text='Target quantity to manufacture in this work order', max_digits=18)),
                ('qty_completed', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('qty_rejected', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('start_date', models.DateField(blank=True, null=True)),
                ('due_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('Released', 'Released'), ('In Progress', 'In Progress'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled')], db_index=True, default='Draft', max_length=16)),
                ('bom', models.ForeignKey(db_column='bom_id', on_delete=django.db.models.deletion.PROTECT, related_name='work_orders', to='floor_app.bom')),
                ('company', models.ForeignKey(db_column='company_id', on_delete=django.db.models.deletion.PROTECT, related_name='work_orders', to='floor_app.company')),
                ('cost_center', models.ForeignKey(blank=True, db_column='cost_center_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='work_orders', to='floor_app.costcenter')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('fg_item', models.ForeignKey(db_column='fg_item_id', on_delete=django.db.models.deletion.PROTECT, related_name='work_orders', to='floor_app.item')),
                ('route', models.ForeignKey(blank=True, db_column='route_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='work_orders', to='floor_app.route')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Work Order',
                'verbose_name_plural': 'Work Orders',
                'db_table': 'work_orders',
                'ordering': ['-created_at', 'wo_no'],
            },
        ),
        migrations.AddField(
            model_name='wooperation',
            name='wo',
            field=models.ForeignKey(db_column='wo_id', on_delete=django.db.models.deletion.CASCADE, related_name='operations', to='floor_app.workorder'),
        ),
        migrations.CreateModel(
            name='WOMaterial',
            fields=[
                ('wo_mat_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('required_qty', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('issued_qty', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('consumed_qty', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('returned_qty', models.DecimalField(decimal_places=6, default=0, max_digits=18)),
                ('component_item', models.ForeignKey(db_column='component_item_id', on_delete=django.db.models.deletion.PROTECT, related_name='wo_materials', to='floor_app.item')),
                ('uom_code', models.ForeignKey(blank=True, db_column='uom_code', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='wo_materials', to='floor_app.uom')),
                ('used_substitute_item', models.ForeignKey(blank=True, db_column='used_substitute_item_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='wo_substitutes', to='floor_app.item')),
                ('wo', models.ForeignKey(db_column='wo_id', on_delete=django.db.models.deletion.CASCADE, related_name='materials', to='floor_app.workorder')),
            ],
            options={
                'verbose_name': 'Work Order Material',
                'verbose_name_plural': 'Work Order Materials',
                'db_table': 'wo_materials',
            },
        ),
        migrations.AddField(
            model_name='stockentry',
            name='wo',
            field=models.ForeignKey(blank=True, db_column='wo_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='stock_entries', to='floor_app.workorder'),
        ),
        migrations.CreateModel(
            name='ReworkOrder',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('rw_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('action_plan', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('Draft', 'Draft'), ('InProgress', 'In Progress'), ('Done', 'Done'), ('Canceled', 'Canceled')], default='Draft', max_length=16)),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('ncr', models.ForeignKey(db_column='ncr_id', on_delete=django.db.models.deletion.CASCADE, related_name='rework_orders', to='floor_app.nonconformance')),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('wo', models.ForeignKey(blank=True, db_column='wo_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='rework_orders', to='floor_app.workorder')),
            ],
            options={
                'verbose_name': 'Rework Order',
                'verbose_name_plural': 'Rework Orders',
                'db_table': 'rework_orders',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Workstation',
            fields=[
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.TextField(blank=True, default='')),
                ('workstation_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('code', models.CharField(max_length=32, unique=True)),
                ('name', models.CharField(max_length=120, unique=True)),
                ('dept', models.CharField(blank=True, max_length=120)),
                ('capacity_per_shift', models.IntegerField(blank=True, null=True)),
                ('hour_rate', models.DecimalField(blank=True, decimal_places=6, max_digits=18, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('cost_center', models.ForeignKey(blank=True, db_column='cost_center_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='workstations', to='floor_app.costcenter')),
                ('created_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Workstation',
                'verbose_name_plural': 'Workstations',
                'db_table': 'workstations',
                'ordering': ['code'],
            },
        ),
        migrations.AddField(
            model_name='wooperation',
            name='workstation',
            field=models.ForeignKey(db_column='workstation_id', on_delete=django.db.models.deletion.PROTECT, related_name='wo_operations', to='floor_app.workstation'),
        ),
        migrations.CreateModel(
            name='RouteOperation',
            fields=[
                ('route_op_id', models.BigAutoField(primary_key=True, serialize=False)),
                ('op_seq', models.IntegerField(help_text='Operation sequence number within the route')),
                ('std_time_min', models.IntegerField(blank=True, help_text='Standard processing time per unit in minutes', null=True)),
                ('std_setup_min', models.IntegerField(blank=True, help_text='Standard setup time in minutes', null=True)),
                ('operation', models.ForeignKey(blank=True, db_column='operation_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='route_operations', to='floor_app.operation')),
                ('route', models.ForeignKey(db_column='route_id', on_delete=django.db.models.deletion.CASCADE, related_name='operations', to='floor_app.route')),
                ('workstation', models.ForeignKey(db_column='workstation_id', on_delete=django.db.models.deletion.PROTECT, related_name='route_operations', to='floor_app.workstation')),
            ],
            options={
                'verbose_name': 'Route Operation',
                'verbose_name_plural': 'Route Operations',
                'db_table': 'route_operations',
                'ordering': ['route', 'op_seq'],
            },
        ),
        migrations.AddField(
            model_name='operation',
            name='default_workstation',
            field=models.ForeignKey(blank=True, db_column='default_workstation_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='default_operations', to='floor_app.workstation'),
        ),
        migrations.AddField(
            model_name='jobcard',
            name='workstation',
            field=models.ForeignKey(blank=True, db_column='workstation_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='job_cards', to='floor_app.workstation'),
        ),
        migrations.AddField(
            model_name='asset',
            name='workstation',
            field=models.ForeignKey(blank=True, db_column='workstation_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assets', to='floor_app.workstation'),
        ),
        migrations.AddIndex(
            model_name='address',
            index=models.Index(fields=['country_code', 'region', 'city'], name='ix_addr_cc_region_city'),
        ),
        migrations.AddIndex(
            model_name='address',
            index=models.Index(fields=['neighborhood'], name='ix_addr_neighborhood'),
        ),
        migrations.AddIndex(
            model_name='address',
            index=models.Index(fields=['postal_code'], name='ix_addr_postal'),
        ),
        migrations.AddIndex(
            model_name='address',
            index=models.Index(fields=['fingerprint'], name='ix_addr_fingerprint'),
        ),
        migrations.AddConstraint(
            model_name='address',
            constraint=models.UniqueConstraint(fields=('country_code', 'region', 'city', 'neighborhood', 'street_name', 'building_no', 'additional_no', 'unit_no', 'postal_code', 'line1', 'line2', 'po_box'), name='uq_addr_exact_tuple'),
        ),
        migrations.AddIndex(
            model_name='addresslink',
            index=models.Index(fields=['owner_content_type', 'owner_object_id', 'type'], name='ix_addr_owner_type'),
        ),
        migrations.AddConstraint(
            model_name='addresslink',
            constraint=models.UniqueConstraint(fields=('owner_content_type', 'owner_object_id', 'address'), name='uq_addr_link_owner_address'),
        ),
        migrations.AddConstraint(
            model_name='addresslink',
            constraint=models.UniqueConstraint(condition=models.Q(('is_primary', True)), fields=('owner_content_type', 'owner_object_id', 'type'), name='uq_addr_primary_per_owner_type'),
        ),
        migrations.AddConstraint(
            model_name='approvaltemplate',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('approver_role__isnull', False), ('approver_user__isnull', True)), models.Q(('approver_role__isnull', True), ('approver_user__isnull', False)), _connector='OR'), name='ck_approval_template_one_approver'),
        ),
        migrations.AddConstraint(
            model_name='approvaltemplate',
            constraint=models.CheckConstraint(condition=models.Q(('approval_level__gte', 1)), name='ck_approval_level_pos'),
        ),
        migrations.AddIndex(
            model_name='attachment',
            index=models.Index(fields=['table_name', 'record_id'], name='ix_attachment_doc'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['table_name', 'record_id'], name='ix_audit_table_record'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['user'], name='ix_audit_user'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['timestamp'], name='ix_audit_timestamp'),
        ),
        migrations.AddIndex(
            model_name='bitfin',
            index=models.Index(fields=['map', 'blade_no', 'row_label'], name='ix_bitfin_scope'),
        ),
        migrations.AddConstraint(
            model_name='bitfin',
            constraint=models.UniqueConstraint(fields=('map', 'blade_no', 'row_label', 'fin_seq'), name='uq_bitfin_map_blade_row_seq'),
        ),
        migrations.AddConstraint(
            model_name='bitfin',
            constraint=models.CheckConstraint(condition=models.Q(('fin_seq__gte', 1)), name='ck_bitfin_seq_pos'),
        ),
        migrations.AddIndex(
            model_name='bitpocket',
            index=models.Index(fields=['map', 'blade_no', 'row_no', 'pocket_seq_blade_row'], name='ix_pocket_map_blade_row_seq'),
        ),
        migrations.AddConstraint(
            model_name='bitpocket',
            constraint=models.UniqueConstraint(fields=('map', 'code'), name='uq_pocket_map_code'),
        ),
        migrations.AddConstraint(
            model_name='bitpocket',
            constraint=models.UniqueConstraint(fields=('map', 'blade_no', 'pocket_seq_blade'), name='uq_pocket_map_blade_seq'),
        ),
        migrations.AddConstraint(
            model_name='bitpocket',
            constraint=models.UniqueConstraint(fields=('map', 'blade_no', 'row_no', 'pocket_seq_blade_row'), name='uq_pocket_map_blade_row_seq'),
        ),
        migrations.AddIndex(
            model_name='contact',
            index=models.Index(fields=['party_type', 'party_id', 'is_primary'], name='ix_contact_party_primary'),
        ),
        migrations.AddIndex(
            model_name='contact',
            index=models.Index(fields=['kind', 'last_name', 'first_name'], name='ix_contact_person_name'),
        ),
        migrations.AddIndex(
            model_name='contact',
            index=models.Index(fields=['kind', 'company_name'], name='ix_contact_company_name'),
        ),
        migrations.AddConstraint(
            model_name='contact',
            constraint=models.UniqueConstraint(condition=models.Q(('is_primary', True)), fields=('party_type', 'party_id'), name='uq_contact_primary_per_party'),
        ),
        migrations.AddIndex(
            model_name='contactmethod',
            index=models.Index(fields=['contact', 'kind'], name='contact_met_contact_b55bd2_idx'),
        ),
        migrations.AddIndex(
            model_name='contactmethod',
            index=models.Index(fields=['kind'], name='contact_met_kind_63ae89_idx'),
        ),
        migrations.AddConstraint(
            model_name='contactmethod',
            constraint=models.UniqueConstraint(condition=models.Q(('is_primary', True)), fields=('contact', 'kind'), name='uq_contactmethod_primary_per_kind'),
        ),
        migrations.AddConstraint(
            model_name='contactmethod',
            constraint=models.UniqueConstraint(fields=('contact', 'kind', 'e164_phone', 'email'), name='uq_contactmethod_unique_value'),
        ),
        migrations.AddConstraint(
            model_name='currency',
            constraint=models.CheckConstraint(condition=models.Q(('decimal_places__gte', 0), ('decimal_places__lte', 6)), name='ck_currency_decimals_range'),
        ),
        migrations.AddConstraint(
            model_name='company',
            constraint=models.CheckConstraint(condition=models.Q(('fiscal_year_start_month__gte', 1), ('fiscal_year_start_month__lte', 12)), name='ck_company_fy_month_1_12'),
        ),
        migrations.AddConstraint(
            model_name='cutterbom',
            constraint=models.UniqueConstraint(fields=('bit_map', 'version'), name='uq_cutter_bom_map_version'),
        ),
        migrations.AddConstraint(
            model_name='docnumberseries',
            constraint=models.UniqueConstraint(fields=('company', 'doc_type', 'prefix'), name='uq_doc_series_company_type_prefix'),
        ),
        migrations.AddConstraint(
            model_name='docnumberseries',
            constraint=models.CheckConstraint(condition=models.Q(('next_int__gte', 1)), name='ck_docseries_nextint_ge_1'),
        ),
        migrations.AddConstraint(
            model_name='docnumberseries',
            constraint=models.CheckConstraint(condition=models.Q(('pad_to__gte', 1)), name='ck_docseries_padto_ge_1'),
        ),
        migrations.AddIndex(
            model_name='documentapproval',
            index=models.Index(fields=['doc_type', 'doc_id'], name='ix_doc_approval'),
        ),
        migrations.AddIndex(
            model_name='documentapproval',
            index=models.Index(fields=['status'], name='ix_approval_status'),
        ),
        migrations.AddIndex(
            model_name='documentapproval',
            index=models.Index(fields=['approver', 'status'], name='ix_approval_approver_status'),
        ),
        migrations.AddIndex(
            model_name='employee',
            index=models.Index(fields=['employment_status'], name='ix_employee_status'),
        ),
        migrations.AddConstraint(
            model_name='employee',
            constraint=models.CheckConstraint(condition=models.Q(('base_salary__gt', 0), ('base_salary__isnull', True), _connector='OR'), name='ck_emp_salary_pos'),
        ),
        migrations.AddConstraint(
            model_name='employee',
            constraint=models.CheckConstraint(condition=models.Q(('confirmation_date__isnull', True), ('confirmation_date__gte', models.F('joining_date')), _connector='OR'), name='ck_emp_confirm_ge_join'),
        ),
        migrations.AddConstraint(
            model_name='employee',
            constraint=models.CheckConstraint(condition=models.Q(('resignation_date__isnull', True), ('resignation_date__gte', models.F('joining_date')), _connector='OR'), name='ck_emp_resign_ge_join'),
        ),
        migrations.AddIndex(
            model_name='attendance',
            index=models.Index(fields=['emp', 'date'], name='ix_att_emp_date'),
        ),
        migrations.AddIndex(
            model_name='attendance',
            index=models.Index(fields=['date', 'status'], name='ix_att_date_status'),
        ),
        migrations.AddConstraint(
            model_name='attendance',
            constraint=models.UniqueConstraint(fields=('emp', 'date'), name='uq_att_emp_date'),
        ),
        migrations.AddConstraint(
            model_name='attendance',
            constraint=models.CheckConstraint(condition=models.Q(('minutes_late__isnull', True), ('minutes_late__gte', 0), _connector='OR'), name='ck_att_minutes_late_nonneg'),
        ),
        migrations.AddIndex(
            model_name='exchangerate',
            index=models.Index(fields=['valid_date'], name='ix_exchange_rate_date'),
        ),
        migrations.AddConstraint(
            model_name='exchangerate',
            constraint=models.UniqueConstraint(fields=('from_currency', 'to_currency', 'valid_date'), name='uq_exchange_rate_currencies_date'),
        ),
        migrations.AddConstraint(
            model_name='exchangerate',
            constraint=models.CheckConstraint(condition=models.Q(('rate__gt', 0)), name='ck_fx_rate_pos'),
        ),
        migrations.AddConstraint(
            model_name='exchangerate',
            constraint=models.CheckConstraint(condition=models.Q(('from_currency', models.F('to_currency')), _negated=True), name='ck_fx_currency_pair_distinct'),
        ),
        migrations.AddIndex(
            model_name='externalsystemref',
            index=models.Index(fields=['doc_type', 'local_id'], name='ix_extref_doctype_local'),
        ),
        migrations.AddConstraint(
            model_name='externalsystemref',
            constraint=models.UniqueConstraint(fields=('system', 'doc_type', 'external_id'), name='uq_extref_system_type_id'),
        ),
        migrations.AddConstraint(
            model_name='hrphone',
            constraint=models.CheckConstraint(condition=models.Q(('kind', 'LAND'), ('extension', ''), _connector='OR'), name='ck_hr_phone_ext_only_for_land'),
        ),
        migrations.AddConstraint(
            model_name='hrphone',
            constraint=models.UniqueConstraint(fields=('phone_e164', 'extension'), name='uq_hr_phone_number_ext'),
        ),
        migrations.AddConstraint(
            model_name='incident',
            constraint=models.CheckConstraint(condition=models.Q(('reported_date__gte', models.F('incident_date'))), name='ck_incident_reported_ge_occurred'),
        ),
        migrations.AddIndex(
            model_name='inspection',
            index=models.Index(fields=['stage', 'status'], name='ix_inspection_stage_status'),
        ),
        migrations.AddIndex(
            model_name='inspection',
            index=models.Index(fields=['map'], name='ix_inspection_map'),
        ),
        migrations.AddIndex(
            model_name='inspectionobservation',
            index=models.Index(fields=['element_type', 'grid_code'], name='ix_obs_element_grid'),
        ),
        migrations.AddIndex(
            model_name='instruction',
            index=models.Index(fields=['trigger_domain', 'trigger_phase', 'trigger_name'], name='ix_instruction_trigger'),
        ),
        migrations.AddIndex(
            model_name='instruction',
            index=models.Index(fields=['enabled', 'priority'], name='ix_instr_en_pr'),
        ),
        migrations.AddConstraint(
            model_name='instruction',
            constraint=models.CheckConstraint(condition=models.Q(('time_sec__isnull', True), ('time_sec__gt', 0), _connector='OR'), name='ck_instruction_time_pos'),
        ),
        migrations.AddConstraint(
            model_name='cutterbommap',
            constraint=models.UniqueConstraint(fields=('cutter_bom', 'pocket_id'), name='uq_cutter_bom_map'),
        ),
        migrations.AddConstraint(
            model_name='cutterbommap',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gte', 0)), name='ck_cutter_bom_map_qty_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='cutterbommap',
            constraint=models.CheckConstraint(condition=models.Q(('rotate_stage__range', (0, 2)), ('rotate_stage__isnull', True), _connector='OR'), name='ck_rotate_stage_0_2'),
        ),
        migrations.AddIndex(
            model_name='bomsubstitute',
            index=models.Index(fields=['bom_item', 'priority'], name='ix_bomsub_bomitem_priority'),
        ),
        migrations.AddConstraint(
            model_name='bomsubstitute',
            constraint=models.UniqueConstraint(fields=('bom_item', 'substitute_item'), name='uq_bom_substitute'),
        ),
        migrations.AddConstraint(
            model_name='bomsubstitute',
            constraint=models.CheckConstraint(condition=models.Q(('priority__range', (1, 100))), name='ck_bomsub_priority_range'),
        ),
        migrations.AddIndex(
            model_name='batch',
            index=models.Index(fields=['item'], name='ix_batch_item'),
        ),
        migrations.AddIndex(
            model_name='batch',
            index=models.Index(fields=['exp_date'], name='ix_batch_exp'),
        ),
        migrations.AddConstraint(
            model_name='batch',
            constraint=models.CheckConstraint(condition=models.Q(('exp_date__gte', models.F('mfg_date')), ('exp_date__isnull', True), ('mfg_date__isnull', True), _connector='OR'), name='ck_batch_exp_ge_mfg'),
        ),
        migrations.AddConstraint(
            model_name='itemattributevalue',
            constraint=models.UniqueConstraint(fields=('attr', 'value'), name='uq_item_attr_value'),
        ),
        migrations.AddIndex(
            model_name='itemgroup',
            index=models.Index(fields=['path'], name='ix_item_group_path'),
        ),
        migrations.AddConstraint(
            model_name='itemsubstitute',
            constraint=models.UniqueConstraint(fields=('item', 'substitute_item'), name='uq_item_substitute'),
        ),
        migrations.AddConstraint(
            model_name='itemsubstitute',
            constraint=models.CheckConstraint(condition=models.Q(('effective_to__isnull', True), ('effective_from__isnull', True), ('effective_to__gte', models.F('effective_from')), _connector='OR'), name='ck_itemsub_to_ge_from'),
        ),
        migrations.AddConstraint(
            model_name='jobcardtime',
            constraint=models.CheckConstraint(condition=models.Q(('end_ts__isnull', True), ('end_ts__gte', models.F('start_ts')), _connector='OR'), name='ck_jct_end_ge_start'),
        ),
        migrations.AddConstraint(
            model_name='jobcardtime',
            constraint=models.CheckConstraint(condition=models.Q(('minutes__isnull', True), ('minutes__gte', 0), _connector='OR'), name='ck_jct_minutes_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='journalline',
            constraint=models.CheckConstraint(condition=models.Q(('debit__gte', 0), ('credit__gte', 0)), name='ck_jl_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='journalline',
            constraint=models.CheckConstraint(condition=models.Q(('debit', 0), ('credit', 0), _connector='OR'), name='ck_jl_one_side_zero'),
        ),
        migrations.AddConstraint(
            model_name='journalline',
            constraint=models.CheckConstraint(condition=models.Q(('debit__gt', 0), ('credit__gt', 0), _connector='OR'), name='ck_jl_nonzero'),
        ),
        migrations.AddIndex(
            model_name='kpivalue',
            index=models.Index(fields=['period_date'], name='ix_kpi_value_period'),
        ),
        migrations.AddIndex(
            model_name='kpivalue',
            index=models.Index(models.F('kpi'), models.OrderBy(models.F('period_date'), descending=True), name='ix_kpi_value_kpi_period'),
        ),
        migrations.AddConstraint(
            model_name='kpivalue',
            constraint=models.UniqueConstraint(fields=('kpi', 'period_date'), name='uq_kpi_value'),
        ),
        migrations.AddIndex(
            model_name='leave',
            index=models.Index(fields=['emp', 'status'], name='ix_leave_emp_status'),
        ),
        migrations.AddConstraint(
            model_name='leave',
            constraint=models.CheckConstraint(condition=models.Q(('to_date__gte', models.F('from_date'))), name='ck_leave_to_ge_from'),
        ),
        migrations.AddIndex(
            model_name='nonconformance',
            index=models.Index(fields=['source_doc_type', 'source_doc_id'], name='ix_ncr_source'),
        ),
        migrations.AddIndex(
            model_name='nonconformance',
            index=models.Index(fields=['status'], name='ix_ncr_status'),
        ),
        migrations.AddConstraint(
            model_name='nonconformance',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('source_doc_id__isnull', True), ('source_doc_type', '')), models.Q(('source_doc_id__isnull', False), models.Q(('source_doc_type', ''), _negated=True)), _connector='OR'), name='ck_ncr_source_pair'),
        ),
        migrations.AddConstraint(
            model_name='notificationsubscription',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('user__isnull', False), ('role__isnull', True)), models.Q(('user__isnull', True), ('role__isnull', False)), _connector='OR'), name='ck_sub_exactly_one_principal'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['payment_date'], name='ix_payment_date'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['status'], name='ix_payment_status'),
        ),
        migrations.AddConstraint(
            model_name='payment',
            constraint=models.CheckConstraint(condition=models.Q(('amount__gt', 0)), name='ck_pay_amount_pos'),
        ),
        migrations.AddConstraint(
            model_name='payment',
            constraint=models.CheckConstraint(condition=models.Q(('conversion_rate__gt', 0)), name='ck_pay_rate_pos'),
        ),
        migrations.AddConstraint(
            model_name='pmschedule',
            constraint=models.CheckConstraint(condition=models.Q(('interval_days__isnull', True), ('interval_days__gt', 0), _connector='OR'), name='ck_pm_interval_days_pos'),
        ),
        migrations.AddConstraint(
            model_name='pmschedule',
            constraint=models.CheckConstraint(condition=models.Q(('interval_hours__isnull', True), ('interval_hours__gt', 0), _connector='OR'), name='ck_pm_interval_hours_pos'),
        ),
        migrations.AddConstraint(
            model_name='pmschedule',
            constraint=models.CheckConstraint(condition=models.Q(('next_due_date__isnull', True), ('last_done_date__isnull', True), ('next_due_date__gte', models.F('last_done_date')), _connector='OR'), name='ck_pm_next_ge_last'),
        ),
        migrations.AddConstraint(
            model_name='maintenanceworkorder',
            constraint=models.CheckConstraint(condition=models.Q(('planned_end__isnull', True), models.Q(('planned_start__isnull', False), ('planned_end__gte', models.F('planned_start'))), _connector='OR'), name='ck_mwo_planned_end_ge_start'),
        ),
        migrations.AddConstraint(
            model_name='maintenanceworkorder',
            constraint=models.CheckConstraint(condition=models.Q(('actual_end__isnull', True), models.Q(('actual_start__isnull', False), ('actual_end__gte', models.F('actual_start'))), _connector='OR'), name='ck_mwo_actual_end_ge_start'),
        ),
        migrations.AddConstraint(
            model_name='ppeissuance',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_ppe_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='ppeissuance',
            constraint=models.CheckConstraint(condition=models.Q(('return_date__gte', models.F('issue_date')), ('return_date__isnull', True), _connector='OR'), name='ck_ppe_return_ge_issue'),
        ),
        migrations.AddConstraint(
            model_name='pricelist',
            constraint=models.CheckConstraint(condition=models.Q(('selling', True), ('buying', True), _connector='OR'), name='ck_pricelist_has_role'),
        ),
        migrations.AddConstraint(
            model_name='customer',
            constraint=models.CheckConstraint(condition=models.Q(('credit_limit__gte', 0), ('credit_limit__isnull', True), _connector='OR'), name='ck_customer_credit_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='customer',
            constraint=models.CheckConstraint(condition=models.Q(('payment_terms__gte', 0), ('payment_terms__isnull', True), _connector='OR'), name='ck_customer_terms_nonneg'),
        ),
        migrations.AddIndex(
            model_name='qcinspection',
            index=models.Index(fields=['status'], name='ix_qci_status'),
        ),
        migrations.AddIndex(
            model_name='qcinspection',
            index=models.Index(fields=['inspector'], name='ix_qci_inspector'),
        ),
        migrations.AddIndex(
            model_name='qcinspection',
            index=models.Index(fields=['doc_type', 'doc_id'], name='ix_qci_doc'),
        ),
        migrations.AddConstraint(
            model_name='qcinspection',
            constraint=models.CheckConstraint(condition=models.Q(('sample_size__isnull', True), ('sample_size__gt', 0), _connector='OR'), name='ck_qci_sample_size_pos'),
        ),
        migrations.AddConstraint(
            model_name='qcinspection',
            constraint=models.CheckConstraint(condition=models.Q(('passed_qty__isnull', True), ('passed_qty__gte', 0), _connector='OR'), name='ck_qci_passed_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='qcinspection',
            constraint=models.CheckConstraint(condition=models.Q(('rejected_qty__isnull', True), ('rejected_qty__gte', 0), _connector='OR'), name='ck_qci_rejected_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='qcinspection',
            constraint=models.CheckConstraint(condition=models.Q(('sample_size__isnull', True), ('passed_qty__isnull', True), ('rejected_qty__isnull', True), ('sample_size', models.ExpressionWrapper(django.db.models.expressions.CombinedExpression(models.F('passed_qty'), '+', models.F('rejected_qty')), output_field=models.DecimalField(decimal_places=6, max_digits=18))), _connector='OR'), name='ck_qci_passed_plus_rejected_eq_sample'),
        ),
        migrations.AddConstraint(
            model_name='employeequalification',
            constraint=models.UniqueConstraint(fields=('emp', 'qual'), name='uq_employee_qualification'),
        ),
        migrations.AddConstraint(
            model_name='employeequalification',
            constraint=models.CheckConstraint(condition=models.Q(('valid_to__isnull', True), ('valid_to__gte', models.F('valid_from')), _connector='OR'), name='ck_empqual_to_ge_from'),
        ),
        migrations.AddConstraint(
            model_name='riskassessment',
            constraint=models.CheckConstraint(condition=models.Q(('likelihood__isnull', True), ('likelihood__range', (1, 5)), _connector='OR'), name='ck_ra_likelihood_1_5'),
        ),
        migrations.AddConstraint(
            model_name='riskassessment',
            constraint=models.CheckConstraint(condition=models.Q(('severity__isnull', True), ('severity__range', (1, 5)), _connector='OR'), name='ck_ra_severity_1_5'),
        ),
        migrations.AddConstraint(
            model_name='riskassessment',
            constraint=models.CheckConstraint(condition=models.Q(('risk_score__isnull', True), ('risk_score__gte', 0), _connector='OR'), name='ck_ra_score_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='safetytraining',
            constraint=models.CheckConstraint(condition=models.Q(('valid_months__isnull', True), ('valid_months__gt', 0), _connector='OR'), name='ck_training_valid_months_pos'),
        ),
        migrations.AddConstraint(
            model_name='paymentallocation',
            constraint=models.CheckConstraint(condition=models.Q(('allocated_amount__gt', Decimal('0'))), name='ck_pa_amount_pos'),
        ),
        migrations.AddConstraint(
            model_name='paymentallocation',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('pi__isnull', True), ('si__isnull', False)), models.Q(('pi__isnull', False), ('si__isnull', True)), _connector='OR'), name='ck_pa_exactly_one_target'),
        ),
        migrations.AddIndex(
            model_name='salesorder',
            index=models.Index(fields=['status', 'so_date'], name='ix_so_status_date'),
        ),
        migrations.AddIndex(
            model_name='salesorder',
            index=models.Index(fields=['customer'], name='ix_so_customer'),
        ),
        migrations.AddIndex(
            model_name='salesorder',
            index=models.Index(models.F('customer'), models.F('status'), models.OrderBy(models.F('so_date'), descending=True), name='ix_so_cust_status_date'),
        ),
        migrations.AddConstraint(
            model_name='salesorder',
            constraint=models.CheckConstraint(condition=models.Q(('conversion_rate__gt', 0)), name='ck_so_rate_pos'),
        ),
        migrations.AddConstraint(
            model_name='salesorder',
            constraint=models.CheckConstraint(condition=models.Q(('grand_total__gte', 0), ('grand_total__isnull', True), _connector='OR'), name='ck_so_gt_nonneg'),
        ),
        migrations.AddIndex(
            model_name='salesinvoice',
            index=models.Index(fields=['customer', 'posting_date'], name='ix_si_customer_date'),
        ),
        migrations.AddIndex(
            model_name='salesinvoice',
            index=models.Index(fields=['status'], name='ix_si_status'),
        ),
        migrations.AddConstraint(
            model_name='salesinvoice',
            constraint=models.CheckConstraint(condition=models.Q(('conversion_rate__gt', 0)), name='ck_si_rate_pos'),
        ),
        migrations.AddConstraint(
            model_name='salesinvoice',
            constraint=models.CheckConstraint(condition=models.Q(('grand_total__gte', 0), ('grand_total__isnull', True), _connector='OR'), name='ck_si_gt_nonneg'),
        ),
        migrations.AddIndex(
            model_name='serial',
            index=models.Index(fields=['item'], name='ix_serial_item'),
        ),
        migrations.AddIndex(
            model_name='serial',
            index=models.Index(fields=['status'], name='ix_serial_status'),
        ),
        migrations.AddIndex(
            model_name='shipment',
            index=models.Index(fields=['tracking_no'], name='ix_shipment_tracking'),
        ),
        migrations.AddIndex(
            model_name='shipment',
            index=models.Index(fields=['status'], name='ix_shipment_status'),
        ),
        migrations.AddConstraint(
            model_name='shipment',
            constraint=models.CheckConstraint(condition=models.Q(('est_delivery_date__isnull', True), models.Q(('ship_date__isnull', False), ('est_delivery_date__gte', models.F('ship_date'))), _connector='OR'), name='ck_ship_est_ge_shipdate'),
        ),
        migrations.AddConstraint(
            model_name='shipment',
            constraint=models.CheckConstraint(condition=models.Q(('actual_delivery_date__isnull', True), models.Q(('ship_date__isnull', False), ('actual_delivery_date__gte', models.F('ship_date'))), _connector='OR'), name='ck_ship_actual_ge_shipdate'),
        ),
        migrations.AddConstraint(
            model_name='supplier',
            constraint=models.CheckConstraint(condition=models.Q(('credit_limit__gte', 0), ('credit_limit__isnull', True), _connector='OR'), name='ck_supplier_credit_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='supplier',
            constraint=models.CheckConstraint(condition=models.Q(('payment_terms__gte', 0), ('payment_terms__isnull', True), _connector='OR'), name='ck_supplier_terms_nonneg'),
        ),
        migrations.AddIndex(
            model_name='purchaseorder',
            index=models.Index(fields=['status', 'po_date'], name='ix_po_status_date'),
        ),
        migrations.AddIndex(
            model_name='purchaseorder',
            index=models.Index(fields=['supplier'], name='ix_po_supplier'),
        ),
        migrations.AddIndex(
            model_name='purchaseorder',
            index=models.Index(models.F('supplier'), models.F('status'), models.OrderBy(models.F('po_date'), descending=True), name='ix_po_supp_status_date'),
        ),
        migrations.AddConstraint(
            model_name='purchaseorder',
            constraint=models.CheckConstraint(condition=models.Q(('conversion_rate__gt', 0)), name='ck_po_rate_pos'),
        ),
        migrations.AddConstraint(
            model_name='purchaseorder',
            constraint=models.CheckConstraint(condition=models.Q(('grand_total__gte', 0), ('grand_total__isnull', True), _connector='OR'), name='ck_po_gt_nonneg'),
        ),
        migrations.AddIndex(
            model_name='purchaseinvoice',
            index=models.Index(fields=['supplier', 'posting_date'], name='ix_pi_supplier_date'),
        ),
        migrations.AddIndex(
            model_name='purchaseinvoice',
            index=models.Index(fields=['status'], name='ix_pi_status'),
        ),
        migrations.AddConstraint(
            model_name='purchaseinvoice',
            constraint=models.CheckConstraint(condition=models.Q(('conversion_rate__gt', 0)), name='ck_pi_rate_pos'),
        ),
        migrations.AddConstraint(
            model_name='purchaseinvoice',
            constraint=models.CheckConstraint(condition=models.Q(('grand_total__gte', 0), ('grand_total__isnull', True), _connector='OR'), name='ck_pi_gt_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='tax',
            constraint=models.CheckConstraint(condition=models.Q(('rate_pct__gte', 0), ('rate_pct__lte', 100)), name='ck_tax_rate_0_100'),
        ),
        migrations.AddIndex(
            model_name='doctax',
            index=models.Index(fields=['doc_type', 'doc_id'], name='ix_doctax_doc'),
        ),
        migrations.AddConstraint(
            model_name='doctax',
            constraint=models.CheckConstraint(condition=models.Q(('base_amount__gte', 0)), name='ck_doctax_base_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='doctax',
            constraint=models.CheckConstraint(condition=models.Q(('tax_amount__gte', 0)), name='ck_doctax_tax_nonneg'),
        ),
        migrations.AddIndex(
            model_name='timer',
            index=models.Index(fields=['due_ts', 'status'], name='ix_timer_due_status'),
        ),
        migrations.AddConstraint(
            model_name='shipmentitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_shipitem_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='salesorderitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_soi_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='salesorderitem',
            constraint=models.CheckConstraint(condition=models.Q(('rate__gte', 0), ('rate__isnull', True), _connector='OR'), name='ck_soi_rate_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='salesorderitem',
            constraint=models.CheckConstraint(condition=models.Q(('delivered_qty__gte', 0)), name='ck_soi_delivered_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='salesorderitem',
            constraint=models.CheckConstraint(condition=models.Q(('delivered_qty__lte', models.F('qty'))), name='ck_soi_delivered_le_qty'),
        ),
        migrations.AddConstraint(
            model_name='salesinvoiceitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_sii_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='salesinvoiceitem',
            constraint=models.CheckConstraint(condition=models.Q(('rate__gte', 0), ('rate__isnull', True), _connector='OR'), name='ck_sii_rate_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='qccheck',
            constraint=models.CheckConstraint(condition=models.Q(('tol_min__lte', models.F('tol_max')), ('tol_min__isnull', True), ('tol_max__isnull', True), _connector='OR'), name='ck_qc_tol_min_le_max'),
        ),
        migrations.AddConstraint(
            model_name='qccheck',
            constraint=models.CheckConstraint(condition=models.Q(('sample_size__isnull', True), ('sample_size__gt', 0), _connector='OR'), name='ck_qc_sample_size_pos'),
        ),
        migrations.AddConstraint(
            model_name='purchaseorderitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_poi_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='purchaseorderitem',
            constraint=models.CheckConstraint(condition=models.Q(('rate__gte', 0), ('rate__isnull', True), _connector='OR'), name='ck_poi_rate_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='purchaseorderitem',
            constraint=models.CheckConstraint(condition=models.Q(('received_qty__gte', 0)), name='ck_poi_received_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='purchaseorderitem',
            constraint=models.CheckConstraint(condition=models.Q(('received_qty__lte', models.F('qty'))), name='ck_poi_received_le_qty'),
        ),
        migrations.AddConstraint(
            model_name='picklistitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty_requested__gt', 0)), name='ck_pick_qtyreq_pos'),
        ),
        migrations.AddConstraint(
            model_name='picklistitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty_picked__gte', 0)), name='ck_pick_qtypicked_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='picklistitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty_picked__lte', models.F('qty_requested'))), name='ck_pick_picked_le_requested'),
        ),
        migrations.AddConstraint(
            model_name='picklistitem',
            constraint=models.UniqueConstraint(fields=('pick', 'item', 'loc', 'batch', 'serial'), name='uq_pick_item_unique_combo'),
        ),
        migrations.AddConstraint(
            model_name='materialrequestitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_mri_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='materialrequestitem',
            constraint=models.CheckConstraint(condition=models.Q(('ordered_qty__gte', 0)), name='ck_mri_ordered_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='materialrequestitem',
            constraint=models.CheckConstraint(condition=models.Q(('ordered_qty__lte', models.F('qty'))), name='ck_mri_ordered_le_qty'),
        ),
        migrations.AddConstraint(
            model_name='jobcardmaterial',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_jcm_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='itemuom',
            constraint=models.UniqueConstraint(fields=('item', 'uom_code'), name='uq_item_uom'),
        ),
        migrations.AddConstraint(
            model_name='itemuom',
            constraint=models.CheckConstraint(condition=models.Q(('conversion_factor__gt', 0)), name='ck_item_uom_factor_pos'),
        ),
        migrations.AddConstraint(
            model_name='itemprice',
            constraint=models.UniqueConstraint(fields=('item', 'price_list', 'uom_code'), name='uq_item_price'),
        ),
        migrations.AddConstraint(
            model_name='itemprice',
            constraint=models.UniqueConstraint(condition=models.Q(('uom_code__isnull', True)), fields=('item', 'price_list'), name='uq_item_price_null_uom'),
        ),
        migrations.AddConstraint(
            model_name='itemprice',
            constraint=models.CheckConstraint(condition=models.Q(('rate__gte', 0)), name='ck_item_price_rate_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='itemattrdata',
            constraint=models.UniqueConstraint(fields=('item', 'attr'), name='uq_item_attr_data'),
        ),
        migrations.AddConstraint(
            model_name='itemattrdata',
            constraint=models.CheckConstraint(condition=models.Q(('attr_val_id__isnull', False), ('value_num__isnull', False), models.Q(('value_text', ''), _negated=True), ('value_date__isnull', False), _connector='OR'), name='ck_iad_has_some_value'),
        ),
        migrations.AddConstraint(
            model_name='bomitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_bomitem_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='bomitem',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('scrap_pct__gte', 0), ('scrap_pct__lte', 100)), ('scrap_pct__isnull', True), _connector='OR'), name='ck_bomitem_scrap_pct'),
        ),
        migrations.AddIndex(
            model_name='bom',
            index=models.Index(fields=['item', 'is_active'], name='ix_bom_item_active'),
        ),
        migrations.AddConstraint(
            model_name='bom',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_bom_qty_pos'),
        ),
        migrations.AddIndex(
            model_name='useravailability',
            index=models.Index(fields=['emp', 'date'], name='ix_avail_emp_date'),
        ),
        migrations.AddConstraint(
            model_name='useravailability',
            constraint=models.UniqueConstraint(fields=('emp', 'date'), name='uq_avail_emp_date'),
        ),
        migrations.AddConstraint(
            model_name='usercertificate',
            constraint=models.UniqueConstraint(fields=('user', 'cert_code'), name='uq_user_certificate'),
        ),
        migrations.AddConstraint(
            model_name='usercertificate',
            constraint=models.CheckConstraint(condition=models.Q(('expiry_date__gte', models.F('issue_date')), ('expiry_date__isnull', True), _connector='OR'), name='ck_user_cert_expiry_ge_issue'),
        ),
        migrations.AddIndex(
            model_name='userkpi',
            index=models.Index(fields=['emp', 'period'], name='ix_kpi_emp_period'),
        ),
        migrations.AddConstraint(
            model_name='userkpi',
            constraint=models.UniqueConstraint(fields=('emp', 'period', 'kpi_name'), name='uq_userkpi_emp_period_name'),
        ),
        migrations.AddConstraint(
            model_name='userresponsibility',
            constraint=models.UniqueConstraint(fields=('user', 'responsibility'), name='uq_user_responsibility'),
        ),
        migrations.AddConstraint(
            model_name='usertraining',
            constraint=models.UniqueConstraint(fields=('user', 'training'), name='uq_user_training'),
        ),
        migrations.AddConstraint(
            model_name='usertraining',
            constraint=models.CheckConstraint(condition=models.Q(('expiry_date__gte', models.F('training_date')), ('expiry_date__isnull', True), _connector='OR'), name='ck_user_training_expiry_ge_training'),
        ),
        migrations.AddConstraint(
            model_name='usertraining',
            constraint=models.CheckConstraint(condition=models.Q(('score__isnull', True), models.Q(('score__gte', 0), ('score__lte', 100)), _connector='OR'), name='ck_training_score_0_100'),
        ),
        migrations.AddConstraint(
            model_name='vehicle',
            constraint=models.CheckConstraint(condition=models.Q(('year__isnull', True), ('year__gte', 1886), _connector='OR'), name='ck_vehicle_year_valid'),
        ),
        migrations.AddConstraint(
            model_name='vehicle',
            constraint=models.CheckConstraint(condition=models.Q(('capacity_kg__isnull', True), ('capacity_kg__gt', 0), _connector='OR'), name='ck_vehicle_capacitykg_pos'),
        ),
        migrations.AddConstraint(
            model_name='vehicle',
            constraint=models.CheckConstraint(condition=models.Q(('capacity_volume__isnull', True), ('capacity_volume__gt', 0), _connector='OR'), name='ck_vehicle_capacityvol_pos'),
        ),
        migrations.AddConstraint(
            model_name='vehicle',
            constraint=models.CheckConstraint(condition=models.Q(('capacity_passengers__isnull', True), ('capacity_passengers__gt', 0), _connector='OR'), name='ck_vehicle_capacitypass_pos'),
        ),
        migrations.AddIndex(
            model_name='stockreservation',
            index=models.Index(fields=['demand_doctype', 'demand_id'], name='ix_reservation_demand'),
        ),
        migrations.AddIndex(
            model_name='stockreservation',
            index=models.Index(fields=['item', 'wh', 'status'], name='ix_reservation_item_wh_status'),
        ),
        migrations.AddConstraint(
            model_name='stockreservation',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_res_qty_pos'),
        ),
        migrations.AddIndex(
            model_name='stockledger',
            index=models.Index(fields=['item', 'wh', 'posting_ts'], name='ix_sle_item_wh_date'),
        ),
        migrations.AddIndex(
            model_name='stockledger',
            index=models.Index(fields=['posting_ts'], name='ix_sle_posting'),
        ),
        migrations.AddConstraint(
            model_name='stockledger',
            constraint=models.CheckConstraint(condition=models.Q(('qty_in__gte', 0), ('qty_out__gte', 0)), name='ck_sle_qty_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='stockledger',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('qty_in__gt', 0), ('qty_out', 0)), models.Q(('qty_out__gt', 0), ('qty_in', 0)), _connector='OR'), name='ck_sle_one_direction_only'),
        ),
        migrations.AddConstraint(
            model_name='stockentryitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_sei_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='stockentryitem',
            constraint=models.CheckConstraint(condition=models.Q(('basic_rate__gte', 0), ('basic_rate__isnull', True), _connector='OR'), name='ck_sei_rate_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='stockentryitem',
            constraint=models.CheckConstraint(condition=models.Q(('s_warehouse__isnull', False), ('t_warehouse__isnull', False), _connector='OR'), name='ck_sei_source_or_target_present'),
        ),
        migrations.AddConstraint(
            model_name='purchasereceiptitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_pri_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='purchasereceiptitem',
            constraint=models.CheckConstraint(condition=models.Q(('accepted_qty__gte', 0), ('accepted_qty__isnull', True), _connector='OR'), name='ck_pri_accepted_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='purchasereceiptitem',
            constraint=models.CheckConstraint(condition=models.Q(('rejected_qty__gte', 0), ('rejected_qty__isnull', True), _connector='OR'), name='ck_pri_rejected_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='purchasereceiptitem',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('accepted_qty__isnull', True), ('rejected_qty__isnull', True)), ('qty__gte', django.db.models.expressions.CombinedExpression(models.F('accepted_qty'), '+', models.F('rejected_qty'))), _connector='OR'), name='ck_pri_sum_le_qty'),
        ),
        migrations.AddConstraint(
            model_name='location',
            constraint=models.UniqueConstraint(fields=('wh', 'code'), name='uq_location_wh_code'),
        ),
        migrations.AddIndex(
            model_name='item',
            index=models.Index(fields=['status', 'item_group'], name='ix_item_status_group'),
        ),
        migrations.AddConstraint(
            model_name='item',
            constraint=models.CheckConstraint(condition=models.Q(('lead_time_days__gte', 0), ('lead_time_days__isnull', True), _connector='OR'), name='ck_item_lead_time_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='item',
            constraint=models.CheckConstraint(condition=models.Q(('shelf_life_days__gt', 0), ('shelf_life_days__isnull', True), _connector='OR'), name='ck_item_shelf_life_pos'),
        ),
        migrations.AddConstraint(
            model_name='item',
            constraint=models.CheckConstraint(condition=models.Q(('package_size__gt', 0), ('package_size__isnull', True), _connector='OR'), name='ck_item_package_size_pos'),
        ),
        migrations.AddIndex(
            model_name='inventorybalance',
            index=models.Index(fields=['item', 'wh', 'loc'], name='ix_invbal_item_wh_loc'),
        ),
        migrations.AddConstraint(
            model_name='inventorybalance',
            constraint=models.UniqueConstraint(fields=('item', 'wh', 'loc', 'batch', 'serial'), name='uq_invbal_item_wh_loc_batch_serial'),
        ),
        migrations.AddConstraint(
            model_name='inventorybalance',
            constraint=models.CheckConstraint(condition=models.Q(('qty_on_hand__gte', 0)), name='ck_invbal_qty_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='inventorybalance',
            constraint=models.CheckConstraint(condition=models.Q(('qty_reserved__lte', models.F('qty_on_hand'))), name='ck_invbal_reserved_le_onhand'),
        ),
        migrations.AddConstraint(
            model_name='inventorybalance',
            constraint=models.CheckConstraint(condition=models.Q(('qty_available', django.db.models.expressions.CombinedExpression(models.F('qty_on_hand'), '-', models.F('qty_reserved')))), name='ck_invbal_avail_eq_onhand_minus_reserved'),
        ),
        migrations.AddConstraint(
            model_name='deliverynoteitem',
            constraint=models.CheckConstraint(condition=models.Q(('qty__gt', 0)), name='ck_dni_qty_pos'),
        ),
        migrations.AddIndex(
            model_name='timelog',
            index=models.Index(fields=['user'], name='ix_time_log_user'),
        ),
        migrations.AddIndex(
            model_name='timelog',
            index=models.Index(fields=['wo_op'], name='ix_time_log_wo_op'),
        ),
        migrations.AddConstraint(
            model_name='timelog',
            constraint=models.CheckConstraint(condition=models.Q(('end_ts__isnull', True), ('end_ts__gte', models.F('start_ts')), _connector='OR'), name='ck_timelog_end_ge_start'),
        ),
        migrations.AddConstraint(
            model_name='timelog',
            constraint=models.CheckConstraint(condition=models.Q(('minutes__isnull', True), ('minutes__gte', 0), _connector='OR'), name='ck_timelog_minutes_nonneg'),
        ),
        migrations.AddIndex(
            model_name='workorder',
            index=models.Index(fields=['status', 'due_date'], name='ix_wo_status_due'),
        ),
        migrations.AddIndex(
            model_name='workorder',
            index=models.Index(models.F('company'), models.F('status'), models.OrderBy(models.F('created_at'), descending=True), name='ix_wo_company_status_date'),
        ),
        migrations.AddConstraint(
            model_name='workorder',
            constraint=models.CheckConstraint(condition=models.Q(('qty_to_make__gt', 0)), name='ck_wo_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='workorder',
            constraint=models.CheckConstraint(condition=models.Q(('qty_completed__gte', 0)), name='ck_wo_completed_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='workorder',
            constraint=models.CheckConstraint(condition=models.Q(('qty_rejected__gte', 0)), name='ck_wo_rejected_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='workorder',
            constraint=models.CheckConstraint(condition=models.Q(('qty_to_make__gte', models.ExpressionWrapper(django.db.models.expressions.CombinedExpression(models.F('qty_completed'), '+', models.F('qty_rejected')), output_field=models.DecimalField(decimal_places=6, max_digits=18)))), name='ck_wo_outcome_le_to_make'),
        ),
        migrations.AddConstraint(
            model_name='womaterial',
            constraint=models.UniqueConstraint(fields=('wo', 'component_item'), name='uq_womat_wo_component'),
        ),
        migrations.AddConstraint(
            model_name='womaterial',
            constraint=models.CheckConstraint(condition=models.Q(('required_qty__gte', 0)), name='ck_womat_required_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='womaterial',
            constraint=models.CheckConstraint(condition=models.Q(('issued_qty__gte', 0)), name='ck_womat_issued_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='womaterial',
            constraint=models.CheckConstraint(condition=models.Q(('consumed_qty__gte', 0)), name='ck_womat_consumed_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='womaterial',
            constraint=models.CheckConstraint(condition=models.Q(('returned_qty__gte', 0)), name='ck_womat_returned_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='womaterial',
            constraint=models.CheckConstraint(condition=models.Q(('issued_qty__gte', models.F('consumed_qty'))), name='ck_womat_issued_ge_consumed'),
        ),
        migrations.AddConstraint(
            model_name='womaterial',
            constraint=models.CheckConstraint(condition=models.Q(('issued_qty__gte', models.F('returned_qty'))), name='ck_womat_issued_ge_returned'),
        ),
        migrations.AddConstraint(
            model_name='womaterial',
            constraint=models.CheckConstraint(condition=models.Q(('issued_qty__gte', django.db.models.expressions.CombinedExpression(models.F('consumed_qty'), '+', models.F('returned_qty')))), name='ck_womat_consumed_plus_returned_le_issued'),
        ),
        migrations.AddIndex(
            model_name='reworkorder',
            index=models.Index(fields=['ncr'], name='ix_rw_ncr'),
        ),
        migrations.AddIndex(
            model_name='reworkorder',
            index=models.Index(fields=['status'], name='ix_rw_status'),
        ),
        migrations.AddIndex(
            model_name='reworkorder',
            index=models.Index(fields=['wo'], name='ix_rw_wo'),
        ),
        migrations.AddConstraint(
            model_name='workstation',
            constraint=models.CheckConstraint(condition=models.Q(('capacity_per_shift__isnull', True), ('capacity_per_shift__gte', 0), _connector='OR'), name='ck_ws_capacity_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='workstation',
            constraint=models.CheckConstraint(condition=models.Q(('hour_rate__isnull', True), ('hour_rate__gte', 0), _connector='OR'), name='ck_ws_hour_rate_nonneg'),
        ),
        migrations.AddIndex(
            model_name='wooperation',
            index=models.Index(fields=['status'], name='ix_wo_op_status'),
        ),
        migrations.AddConstraint(
            model_name='wooperation',
            constraint=models.UniqueConstraint(fields=('wo', 'op_seq'), name='uq_wo_op_wo_seq'),
        ),
        migrations.AddConstraint(
            model_name='wooperation',
            constraint=models.CheckConstraint(condition=models.Q(('op_seq__gte', 1)), name='ck_woop_seq_ge_1'),
        ),
        migrations.AddConstraint(
            model_name='wooperation',
            constraint=models.CheckConstraint(condition=models.Q(('qty_completed__gte', 0)), name='ck_wo_op_completed_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='wooperation',
            constraint=models.CheckConstraint(condition=models.Q(('qty_rejected__gte', 0)), name='ck_wo_op_rejected_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='wooperation',
            constraint=models.CheckConstraint(condition=models.Q(('planned_end__isnull', True), models.Q(('planned_start__isnull', False), ('planned_end__gte', models.F('planned_start'))), _connector='OR'), name='ck_woop_planned_end_ge_start'),
        ),
        migrations.AddConstraint(
            model_name='wooperation',
            constraint=models.CheckConstraint(condition=models.Q(('actual_end__isnull', True), models.Q(('actual_start__isnull', False), ('actual_end__gte', models.F('actual_start'))), _connector='OR'), name='ck_woop_actual_end_ge_start'),
        ),
        migrations.AddIndex(
            model_name='routeoperation',
            index=models.Index(fields=['route', 'op_seq'], name='ix_route_op_route_seq'),
        ),
        migrations.AddIndex(
            model_name='routeoperation',
            index=models.Index(fields=['workstation'], name='ix_route_op_workstation'),
        ),
        migrations.AddConstraint(
            model_name='routeoperation',
            constraint=models.UniqueConstraint(fields=('route', 'op_seq'), name='uq_route_op_route_seq'),
        ),
        migrations.AddConstraint(
            model_name='routeoperation',
            constraint=models.CheckConstraint(condition=models.Q(('op_seq__gte', 1)), name='ck_route_op_seq_ge_1'),
        ),
        migrations.AddConstraint(
            model_name='routeoperation',
            constraint=models.CheckConstraint(condition=models.Q(('std_time_min__gt', 0), ('std_time_min__isnull', True), _connector='OR'), name='ck_route_op_time_pos'),
        ),
        migrations.AddConstraint(
            model_name='routeoperation',
            constraint=models.CheckConstraint(condition=models.Q(('std_setup_min__gte', 0), ('std_setup_min__isnull', True), _connector='OR'), name='ck_route_op_setup_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='operation',
            constraint=models.CheckConstraint(condition=models.Q(('std_time_min__gt', 0), ('std_time_min__isnull', True), _connector='OR'), name='ck_op_time_pos'),
        ),
        migrations.AddConstraint(
            model_name='operation',
            constraint=models.CheckConstraint(condition=models.Q(('std_setup_min__gte', 0), ('std_setup_min__isnull', True), _connector='OR'), name='ck_op_setup_nonneg'),
        ),
        migrations.AddIndex(
            model_name='jobcard',
            index=models.Index(fields=['status'], name='ix_job_card_status'),
        ),
        migrations.AddIndex(
            model_name='jobcard',
            index=models.Index(fields=['assigned_to'], name='ix_job_card_assigned'),
        ),
        migrations.AddIndex(
            model_name='jobcard',
            index=models.Index(fields=['status', 'assigned_to'], name='ix_job_card_status_assigned'),
        ),
        migrations.AddConstraint(
            model_name='jobcard',
            constraint=models.CheckConstraint(condition=models.Q(('qty_to_process__gt', 0)), name='ck_jc_qty_pos'),
        ),
        migrations.AddConstraint(
            model_name='jobcard',
            constraint=models.CheckConstraint(condition=models.Q(('qty_good__gte', 0)), name='ck_jc_good_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='jobcard',
            constraint=models.CheckConstraint(condition=models.Q(('qty_reject__gte', 0)), name='ck_jc_reject_nonneg'),
        ),
        migrations.AddConstraint(
            model_name='jobcard',
            constraint=models.CheckConstraint(condition=models.Q(('qty_to_process__gte', django.db.models.expressions.CombinedExpression(models.F('qty_good'), '+', models.F('qty_reject')))), name='ck_jc_outcome_le_to_process'),
        ),
        migrations.AddConstraint(
            model_name='jobcard',
            constraint=models.CheckConstraint(condition=models.Q(('scheduled_end__isnull', True), models.Q(('scheduled_start__isnull', False), ('scheduled_end__gte', models.F('scheduled_start'))), _connector='OR'), name='ck_jc_scheduled_end_ge_start'),
        ),
        migrations.AddConstraint(
            model_name='jobcard',
            constraint=models.CheckConstraint(condition=models.Q(('actual_end__isnull', True), models.Q(('actual_start__isnull', False), ('actual_end__gte', models.F('actual_start'))), _connector='OR'), name='ck_jc_actual_end_ge_start'),
        ),
    ]
