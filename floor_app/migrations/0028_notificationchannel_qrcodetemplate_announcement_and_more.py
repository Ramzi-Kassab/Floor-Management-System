# Generated by Django 5.2.6 on 2025-11-19 04:02

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('contenttypes', '0002_remove_content_type_name'),
        ('floor_app', '0027_camera_cameraassignment_candidate_chatmessage_and_more'),
        ('hr', '0004_alter_leavepolicy_leave_type_attendanceconfiguration_and_more'),
        ('inventory', '0004_rollerconebearing_rollerconebittype_rollerconeseal_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='NotificationChannel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('channel_type', models.CharField(choices=[('WHATSAPP', 'WhatsApp'), ('EMAIL', 'Email'), ('SMS', 'SMS'), ('PUSH', 'Push Notification'), ('IN_APP', 'In-App Notification'), ('TELEGRAM', 'Telegram')], max_length=20, unique=True)),
                ('is_enabled', models.BooleanField(default=True, help_text='Is this channel enabled globally?')),
                ('configuration', models.JSONField(default=dict, help_text='Channel-specific configuration (API keys, endpoints, etc.)')),
                ('priority', models.PositiveIntegerField(default=100, help_text='Delivery priority (lower = higher priority)')),
                ('max_per_hour', models.PositiveIntegerField(blank=True, help_text='Max messages per hour (null = unlimited)', null=True)),
                ('max_per_day', models.PositiveIntegerField(blank=True, help_text='Max messages per day (null = unlimited)', null=True)),
            ],
            options={
                'db_table': 'notifications_channel',
                'ordering': ['priority', 'channel_type'],
            },
        ),
        migrations.CreateModel(
            name='QRCodeTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('qr_type', models.CharField(choices=[('CUTTER', 'Cutter (Serial Unit)'), ('BIT', 'PDC Bit (Finished Product)'), ('LOCATION', 'Storage Location'), ('EMPLOYEE', 'Employee ID Badge'), ('JOB_CARD', 'Job Card / Work Order'), ('DELIVERY', 'Delivery / Shipment'), ('PACKAGE', 'Package / Container'), ('EQUIPMENT', 'Equipment / Tool'), ('BOM', 'Bill of Materials'), ('CUSTOM', 'Custom')], help_text='Default QR type for this template', max_length=20)),
                ('width_mm', models.FloatField(help_text='Label width in mm')),
                ('height_mm', models.FloatField(help_text='Label height in mm')),
                ('qr_size_mm', models.FloatField(help_text='QR code size in mm')),
                ('layout_config', models.JSONField(default=dict, help_text='Layout configuration (margins, padding, fonts, etc.)')),
                ('template_file', models.FileField(blank=True, help_text='Custom template file (HTML/PDF)', null=True, upload_to='qr_templates/')),
                ('preview_image', models.ImageField(blank=True, null=True, upload_to='qr_templates/previews/')),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'qr_codes_template',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Announcement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('is_deleted', models.BooleanField(db_index=True, default=False, editable=False)),
                ('deleted_at', models.DateTimeField(blank=True, editable=False, null=True)),
                ('title', models.CharField(max_length=200)),
                ('message', models.TextField()),
                ('priority', models.CharField(choices=[('LOW', 'Low'), ('NORMAL', 'Normal'), ('HIGH', 'High'), ('URGENT', 'Urgent')], default='NORMAL', max_length=10)),
                ('image', models.ImageField(blank=True, null=True, upload_to='announcements/images/')),
                ('attachments', models.JSONField(default=list, help_text='List of attachment URLs/paths')),
                ('target_type', models.CharField(choices=[('ALL', 'All Users'), ('DEPARTMENT', 'Specific Department'), ('ROLE', 'Specific Role'), ('LOCATION', 'Specific Location'), ('CUSTOM', 'Custom User List')], default='ALL', max_length=20)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SCHEDULED', 'Scheduled'), ('PUBLISHED', 'Published'), ('ARCHIVED', 'Archived')], default='DRAFT', max_length=20)),
                ('publish_at', models.DateTimeField(blank=True, help_text='When to publish (null = publish immediately)', null=True)),
                ('expires_at', models.DateTimeField(blank=True, help_text='When announcement expires', null=True)),
                ('send_notification', models.BooleanField(default=False, help_text='Send as notification to targeted users?')),
                ('notification_channels', models.JSONField(default=list, help_text='Channels to send notification on')),
                ('action_url', models.CharField(blank=True, help_text='URL for action button', max_length=500)),
                ('action_label', models.CharField(blank=True, help_text='Label for action button', max_length=50)),
                ('is_pinned', models.BooleanField(default=False, help_text='Pin to top of announcement board?')),
                ('author', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='announcements_created', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('target_departments', models.ManyToManyField(blank=True, related_name='announcements', to='hr.department')),
                ('target_locations', models.ManyToManyField(blank=True, related_name='announcements', to='inventory.location')),
                ('target_users', models.ManyToManyField(blank=True, related_name='targeted_announcements', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'notifications_announcement',
                'ordering': ['-is_pinned', '-publish_at'],
            },
        ),
        migrations.CreateModel(
            name='AnnouncementRead',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('read_at', models.DateTimeField(auto_now_add=True)),
                ('announcement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reads', to='floor_app.announcement')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='announcements_read', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'notifications_announcement_read',
            },
        ),
        migrations.CreateModel(
            name='ApprovalDelegation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('workflow_types', models.JSONField(default=list, help_text='List of workflow types to delegate (empty = all)')),
                ('start_date', models.DateTimeField()),
                ('end_date', models.DateTimeField()),
                ('reason', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('delegate', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='delegations_received', to=settings.AUTH_USER_MODEL)),
                ('delegator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='delegations_made', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'approvals_delegation',
            },
        ),
        migrations.CreateModel(
            name='ApprovalLevel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('level_number', models.PositiveIntegerField(help_text='Level in sequence (1, 2, 3, ...)')),
                ('name', models.CharField(help_text="Level name (e.g., 'Manager Approval', 'Director Approval')", max_length=100)),
                ('approval_mode', models.CharField(choices=[('SEQUENTIAL', 'Sequential (one after another)'), ('PARALLEL', 'Parallel (all at same time)'), ('ANY_ONE', 'Any One (first to approve)'), ('MAJORITY', 'Majority (>50% must approve)'), ('ALL', 'All (everyone must approve)')], default='SEQUENTIAL', max_length=20)),
                ('approver_roles', models.JSONField(default=list, help_text='List of role names who can approve at this level')),
                ('skip_if_requester_is_approver', models.BooleanField(default=True, help_text='Skip this level if requester is in approvers list?')),
                ('required_conditions', models.JSONField(default=dict, help_text="Conditions to activate this level (e.g., {'amount_greater_than': 5000})")),
                ('sla_hours', models.PositiveIntegerField(blank=True, help_text='Hours to approve before escalation', null=True)),
                ('approver_departments', models.ManyToManyField(blank=True, help_text='Specific departments who can approve', to='hr.department')),
                ('approver_users', models.ManyToManyField(blank=True, help_text='Specific users who can approve', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'approvals_level',
                'ordering': ['workflow', 'level_number'],
            },
        ),
        migrations.CreateModel(
            name='ApprovalRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('object_id', models.PositiveIntegerField()),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('IN_PROGRESS', 'In Progress'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('CANCELLED', 'Cancelled'), ('ESCALATED', 'Escalated')], default='DRAFT', max_length=20)),
                ('current_level', models.PositiveIntegerField(default=1, help_text='Current approval level')),
                ('submitted_at', models.DateTimeField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('due_at', models.DateTimeField(blank=True, help_text='When approval is needed by', null=True)),
                ('visible_to_all', models.BooleanField(default=False, help_text='Visible to all users?')),
                ('request_data', models.JSONField(default=dict, help_text='Additional data about the request')),
                ('priority', models.CharField(choices=[('LOW', 'Low'), ('NORMAL', 'Normal'), ('HIGH', 'High'), ('URGENT', 'Urgent')], default='NORMAL', max_length=10)),
                ('attachments', models.JSONField(default=list, help_text='List of attachment paths/URLs')),
                ('content_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('requester', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approval_requests_made', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('visible_to_departments', models.ManyToManyField(blank=True, related_name='visible_approval_requests', to='hr.department')),
                ('visible_to_users', models.ManyToManyField(blank=True, related_name='visible_approval_requests', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'approvals_request',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ApprovalStep',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('SKIPPED', 'Skipped'), ('DELEGATED', 'Delegated')], default='PENDING', max_length=20)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('rejected_at', models.DateTimeField(blank=True, null=True)),
                ('comments', models.TextField(blank=True)),
                ('delegated_at', models.DateTimeField(blank=True, null=True)),
                ('delegation_reason', models.TextField(blank=True)),
                ('due_at', models.DateTimeField(blank=True, help_text='When this step is due', null=True)),
                ('is_overdue', models.BooleanField(default=False)),
                ('approver', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='approval_steps', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('delegated_to', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='delegated_approval_steps', to=settings.AUTH_USER_MODEL)),
                ('level', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='floor_app.approvallevel')),
                ('request', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='steps', to='floor_app.approvalrequest')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'approvals_step',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='ApprovalHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action_type', models.CharField(choices=[('CREATED', 'Created'), ('SUBMITTED', 'Submitted'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('DELEGATED', 'Delegated'), ('ESCALATED', 'Escalated'), ('CANCELLED', 'Cancelled'), ('COMMENTED', 'Commented'), ('MODIFIED', 'Modified')], max_length=20)),
                ('action_at', models.DateTimeField(auto_now_add=True)),
                ('comments', models.TextField(blank=True)),
                ('metadata', models.JSONField(default=dict, help_text='Additional action metadata')),
                ('is_internal', models.BooleanField(default=False, help_text='Internal note (not visible to requester)')),
                ('action_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('request', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='history', to='floor_app.approvalrequest')),
                ('step', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='history', to='floor_app.approvalstep')),
            ],
            options={
                'verbose_name_plural': 'Approval histories',
                'db_table': 'approvals_history',
                'ordering': ['-action_at'],
            },
        ),
        migrations.CreateModel(
            name='ApprovalWorkflow',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('workflow_type', models.CharField(choices=[('BOM_MODIFICATION', 'BOM Modification'), ('CUTTER_SUBSTITUTION', 'Cutter Substitution'), ('PURCHASE_REQUEST', 'Purchase Request'), ('JOB_CARD_CREATION', 'Job Card Creation'), ('REWORK_REQUEST', 'Rework Request'), ('SCRAP_APPROVAL', 'Scrap Approval'), ('STOCK_ADJUSTMENT', 'Stock Adjustment'), ('DESIGN_CHANGE', 'Design Change'), ('PRICE_CHANGE', 'Price Change'), ('CUSTOMER_COMPLAINT', 'Customer Complaint'), ('LEAVE_REQUEST', 'Leave Request'), ('OVERTIME_REQUEST', 'Overtime Request'), ('CUSTOM', 'Custom Workflow')], max_length=50, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('auto_approve_conditions', models.JSONField(default=dict, help_text="Conditions for auto-approval (e.g., {'amount_less_than': 1000})")),
                ('escalation_enabled', models.BooleanField(default=False)),
                ('escalation_hours', models.PositiveIntegerField(default=24, help_text='Hours before escalation')),
                ('notify_requester_on_approval', models.BooleanField(default=True)),
                ('notify_requester_on_rejection', models.BooleanField(default=True)),
                ('notify_all_approvers', models.BooleanField(default=False, help_text='Notify all approvers when request is submitted?')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'approvals_workflow',
                'ordering': ['workflow_type'],
            },
        ),
        migrations.AddField(
            model_name='approvalrequest',
            name='workflow',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='requests', to='floor_app.approvalworkflow'),
        ),
        migrations.AddField(
            model_name='approvallevel',
            name='workflow',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='levels', to='floor_app.approvalworkflow'),
        ),
        migrations.CreateModel(
            name='EmployeeDevice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('device_id', models.CharField(db_index=True, help_text='Unique device identifier (IMEI, UUID, etc.)', max_length=255, unique=True)),
                ('device_name', models.CharField(blank=True, help_text="User-friendly device name (e.g., 'Ahmed's iPhone')", max_length=200)),
                ('device_type', models.CharField(choices=[('ANDROID', 'Android Phone/Tablet'), ('IOS', 'iOS (iPhone/iPad)'), ('WEB', 'Web Browser'), ('DESKTOP', 'Desktop Application')], max_length=20)),
                ('device_model', models.CharField(blank=True, help_text="Device model (e.g., 'iPhone 13 Pro', 'Samsung Galaxy S21')", max_length=100)),
                ('os_version', models.CharField(blank=True, help_text='Operating system version', max_length=50)),
                ('app_version', models.CharField(blank=True, help_text='Mobile app version', max_length=50)),
                ('registered_at', models.DateTimeField(auto_now_add=True)),
                ('last_seen_at', models.DateTimeField(auto_now=True, help_text='Last time device was seen (auto-updated)')),
                ('is_primary_device', models.BooleanField(default=False, help_text="Is this the employee's primary device?")),
                ('is_trusted', models.BooleanField(default=False, help_text='Is this device trusted for sensitive operations?')),
                ('is_active', models.BooleanField(default=True, help_text='Is this device currently active?')),
                ('fcm_token', models.CharField(blank=True, help_text='Firebase Cloud Messaging token for push notifications', max_length=255)),
                ('push_enabled', models.BooleanField(default=True, help_text='Are push notifications enabled on this device?')),
                ('deactivated_at', models.DateTimeField(blank=True, null=True)),
                ('deactivation_reason', models.TextField(blank=True)),
                ('metadata', models.JSONField(default=dict, help_text='Additional device metadata')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deactivated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deactivated_devices', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='devices', to='hr.hremployee')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='devices', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'device_tracking_employee_device',
                'ordering': ['-is_primary_device', '-last_seen_at'],
            },
        ),
        migrations.CreateModel(
            name='EmployeeActivity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('activity_type', models.CharField(choices=[('LOGIN', 'Login'), ('LOGOUT', 'Logout'), ('CLOCK_IN', 'Clock In'), ('CLOCK_OUT', 'Clock Out'), ('SCAN_QR', 'QR Code Scan'), ('GPS_CHECK', 'GPS Location Check'), ('NOTIFICATION_READ', 'Notification Read'), ('APPROVAL_ACTION', 'Approval Action'), ('MAP_UPDATE', 'Map Update'), ('INVENTORY_ACTION', 'Inventory Action'), ('JOB_CARD_VIEW', 'Job Card View'), ('PHOTO_CAPTURE', 'Photo Capture'), ('CUSTOM', 'Custom Activity')], db_index=True, max_length=30)),
                ('activity_description', models.CharField(blank=True, help_text='Human-readable description of activity', max_length=500)),
                ('activity_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('gps_accuracy_meters', models.FloatField(blank=True, null=True)),
                ('metadata', models.JSONField(default=dict, help_text='Additional activity metadata')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='activities', to='hr.hremployee')),
                ('device', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='activities', to='floor_app.employeedevice')),
            ],
            options={
                'verbose_name_plural': 'Employee activities',
                'db_table': 'device_tracking_employee_activity',
                'ordering': ['-activity_at'],
            },
        ),
        migrations.CreateModel(
            name='DeviceSession',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('session_token', models.CharField(help_text='Session token (JWT or similar)', max_length=255, unique=True)),
                ('started_at', models.DateTimeField(auto_now_add=True)),
                ('ended_at', models.DateTimeField(blank=True, null=True)),
                ('last_activity_at', models.DateTimeField(auto_now=True)),
                ('start_latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('start_longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='device_sessions', to='hr.hremployee')),
                ('device', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sessions', to='floor_app.employeedevice')),
            ],
            options={
                'db_table': 'device_tracking_session',
                'ordering': ['-started_at'],
            },
        ),
        migrations.CreateModel(
            name='DeviceNotificationPreference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('enable_approval_notifications', models.BooleanField(default=True)),
                ('enable_job_notifications', models.BooleanField(default=True)),
                ('enable_inventory_notifications', models.BooleanField(default=True)),
                ('enable_qc_notifications', models.BooleanField(default=True)),
                ('enable_system_notifications', models.BooleanField(default=True)),
                ('enable_sound', models.BooleanField(default=True)),
                ('enable_vibration', models.BooleanField(default=True)),
                ('quiet_hours_enabled', models.BooleanField(default=False)),
                ('quiet_hours_start', models.TimeField(blank=True, null=True)),
                ('quiet_hours_end', models.TimeField(blank=True, null=True)),
                ('device', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='notification_preference', to='floor_app.employeedevice')),
            ],
            options={
                'db_table': 'device_tracking_notification_preference',
            },
        ),
        migrations.CreateModel(
            name='EmployeePresence',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(db_index=True)),
                ('clock_in_time', models.DateTimeField(blank=True, null=True)),
                ('clock_in_latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('clock_in_longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('clock_out_time', models.DateTimeField(blank=True, null=True)),
                ('clock_out_latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('clock_out_longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('total_hours', models.DecimalField(blank=True, decimal_places=2, help_text='Total hours worked', max_digits=5, null=True)),
                ('status', models.CharField(choices=[('PRESENT', 'Present'), ('ABSENT', 'Absent'), ('LATE', 'Late'), ('LEFT_EARLY', 'Left Early'), ('ON_LEAVE', 'On Leave'), ('OFF_DAY', 'Off Day')], default='PRESENT', max_length=20)),
                ('is_verified', models.BooleanField(default=False, help_text='Has presence been verified by supervisor?')),
                ('verified_at', models.DateTimeField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('clock_in_device', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clock_ins', to='floor_app.employeedevice')),
                ('clock_out_device', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clock_outs', to='floor_app.employeedevice')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='presence_records', to='hr.hremployee')),
                ('verified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_presence_records', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'device_tracking_employee_presence',
                'ordering': ['-date', 'employee'],
            },
        ),
        migrations.CreateModel(
            name='GeofenceDefinition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, unique=True)),
                ('geofence_type', models.CharField(choices=[('WAREHOUSE', 'Warehouse'), ('RECEIVING_DOCK', 'Receiving Dock'), ('SHIPPING_DOCK', 'Shipping Dock'), ('PRODUCTION_FLOOR', 'Production Floor'), ('QC_LAB', 'QC Laboratory'), ('OFFICE', 'Office'), ('CUSTOMER_SITE', 'Customer Site'), ('CUSTOM', 'Custom Location')], max_length=30)),
                ('description', models.TextField(blank=True)),
                ('shape', models.CharField(choices=[('CIRCLE', 'Circle (center + radius)'), ('POLYGON', 'Polygon (multiple points)')], default='CIRCLE', max_length=20)),
                ('center_latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('center_longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('radius_meters', models.PositiveIntegerField(default=100, help_text='Geofence radius in meters')),
                ('polygon_points', models.JSONField(default=list, help_text='List of lat/lon points for polygon')),
                ('address', models.CharField(blank=True, max_length=500)),
                ('is_active', models.BooleanField(default=True)),
                ('location', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='geofences', to='inventory.location')),
            ],
            options={
                'db_table': 'gps_geofence_definition',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='GPSTrackingLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('object_id', models.PositiveIntegerField(blank=True, null=True)),
                ('latitude', models.DecimalField(decimal_places=6, max_digits=9)),
                ('longitude', models.DecimalField(decimal_places=6, max_digits=9)),
                ('accuracy_meters', models.FloatField(blank=True, null=True)),
                ('altitude_meters', models.FloatField(blank=True, null=True)),
                ('speed_mps', models.FloatField(blank=True, help_text='Speed in meters per second', null=True)),
                ('heading_degrees', models.FloatField(blank=True, help_text='Heading in degrees (0-360)', null=True)),
                ('recorded_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('device_info', models.JSONField(default=dict)),
                ('address', models.CharField(blank=True, max_length=500)),
                ('content_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype')),
                ('tracked_employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='gps_tracking_logs', to='hr.hremployee')),
                ('tracked_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='gps_tracking_logs', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'gps_tracking_log',
                'ordering': ['-recorded_at'],
            },
        ),
        migrations.CreateModel(
            name='LocationVerification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('verification_type', models.CharField(choices=[('DELIVERY', 'Delivery Confirmation'), ('RECEIVING', 'Receiving Dock'), ('SHIPPING', 'Shipping Dock'), ('INVENTORY_CHECK', 'Inventory Stock Check'), ('ASSET_LOCATION', 'Asset Location'), ('EMPLOYEE_CHECKIN', 'Employee Check-in'), ('QC_CHECKPOINT', 'QC Checkpoint'), ('PRODUCTION_STATION', 'Production Station'), ('CUSTOM', 'Custom')], max_length=30)),
                ('object_id', models.PositiveIntegerField(blank=True, null=True)),
                ('expected_latitude', models.DecimalField(decimal_places=6, help_text='Expected GPS latitude', max_digits=9)),
                ('expected_longitude', models.DecimalField(decimal_places=6, help_text='Expected GPS longitude', max_digits=9)),
                ('expected_address', models.CharField(blank=True, help_text='Expected address', max_length=500)),
                ('geofence_radius_meters', models.PositiveIntegerField(default=100, help_text='Geofence radius in meters (default 100m)')),
                ('actual_latitude', models.DecimalField(blank=True, decimal_places=6, help_text='Actual GPS latitude', max_digits=9, null=True)),
                ('actual_longitude', models.DecimalField(blank=True, decimal_places=6, help_text='Actual GPS longitude', max_digits=9, null=True)),
                ('actual_address', models.CharField(blank=True, help_text='Reverse-geocoded actual address', max_length=500)),
                ('gps_accuracy_meters', models.FloatField(blank=True, help_text='GPS accuracy in meters (from device)', null=True)),
                ('distance_meters', models.FloatField(blank=True, help_text='Calculated distance in meters', null=True)),
                ('is_within_geofence', models.BooleanField(default=False, help_text='Is actual location within geofence?')),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('VERIFIED', 'Verified (within geofence)'), ('WARNING', 'Warning (outside geofence but close)'), ('FAILED', 'Failed (too far)'), ('OVERRIDDEN', 'Overridden (manual approval)')], default='PENDING', max_length=20)),
                ('verified_at', models.DateTimeField(blank=True, null=True)),
                ('device_info', models.JSONField(default=dict, help_text='Device information')),
                ('override_allowed', models.BooleanField(default=True, help_text='Can this verification be overridden?')),
                ('is_overridden', models.BooleanField(default=False, help_text='Was this verification manually overridden?')),
                ('override_reason', models.TextField(blank=True, help_text='Reason for override')),
                ('overridden_at', models.DateTimeField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('content_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('overridden_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='location_verification_overrides', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('verified_by_employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='location_verifications', to='hr.hremployee')),
                ('verified_by_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='location_verifications', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'gps_location_verification',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('title', models.CharField(max_length=200)),
                ('message', models.TextField()),
                ('priority', models.CharField(choices=[('LOW', 'Low'), ('NORMAL', 'Normal'), ('HIGH', 'High'), ('URGENT', 'Urgent')], default='NORMAL', max_length=10)),
                ('template_variables', models.JSONField(default=dict, help_text='Variables used to render template')),
                ('object_id', models.PositiveIntegerField(blank=True, null=True)),
                ('channels_to_send', models.JSONField(default=list, help_text="Channels to deliver on (e.g., ['WHATSAPP', 'EMAIL'])")),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('SENT', 'Sent'), ('DELIVERED', 'Delivered'), ('READ', 'Read'), ('FAILED', 'Failed')], default='PENDING', max_length=20)),
                ('sent_at', models.DateTimeField(blank=True, null=True)),
                ('delivered_at', models.DateTimeField(blank=True, null=True)),
                ('read_at', models.DateTimeField(blank=True, null=True)),
                ('failed_at', models.DateTimeField(blank=True, null=True)),
                ('failure_reason', models.TextField(blank=True)),
                ('action_url', models.CharField(blank=True, help_text='URL for action button (e.g., approve, view details)', max_length=500)),
                ('action_label', models.CharField(blank=True, help_text='Label for action button', max_length=50)),
                ('expires_at', models.DateTimeField(blank=True, help_text='Expiry date for time-sensitive notifications', null=True)),
                ('content_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='floor_notifications', to='contenttypes.contenttype')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('recipient_employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications_received', to='hr.hremployee')),
                ('recipient_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notifications_received', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'notifications_notification',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NotificationDelivery',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('SENDING', 'Sending'), ('SENT', 'Sent'), ('DELIVERED', 'Delivered'), ('FAILED', 'Failed'), ('BOUNCED', 'Bounced')], default='PENDING', max_length=20)),
                ('sent_at', models.DateTimeField(blank=True, null=True)),
                ('delivered_at', models.DateTimeField(blank=True, null=True)),
                ('failed_at', models.DateTimeField(blank=True, null=True)),
                ('failure_reason', models.TextField(blank=True)),
                ('provider_message_id', models.CharField(blank=True, help_text='Message ID from provider (WhatsApp, email server, etc.)', max_length=200)),
                ('provider_response', models.JSONField(default=dict, help_text='Full response from provider')),
                ('retry_count', models.PositiveIntegerField(default=0)),
                ('last_retry_at', models.DateTimeField(blank=True, null=True)),
                ('channel', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='floor_app.notificationchannel')),
                ('notification', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='deliveries', to='floor_app.notification')),
            ],
            options={
                'db_table': 'notifications_delivery',
            },
        ),
        migrations.CreateModel(
            name='NotificationPreference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('enable_whatsapp', models.BooleanField(default=True)),
                ('enable_email', models.BooleanField(default=True)),
                ('enable_sms', models.BooleanField(default=False)),
                ('enable_push', models.BooleanField(default=True)),
                ('enable_in_app', models.BooleanField(default=True)),
                ('enable_telegram', models.BooleanField(default=False)),
                ('whatsapp_number', models.CharField(blank=True, help_text='WhatsApp number (international format)', max_length=20)),
                ('telegram_chat_id', models.CharField(blank=True, max_length=50)),
                ('notification_types', models.JSONField(default=dict, help_text='Per-type channel preferences')),
                ('quiet_hours_enabled', models.BooleanField(default=False)),
                ('quiet_hours_start', models.TimeField(blank=True, null=True)),
                ('quiet_hours_end', models.TimeField(blank=True, null=True)),
                ('enable_daily_digest', models.BooleanField(default=False)),
                ('digest_time', models.TimeField(blank=True, null=True)),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='notification_preferences', to='hr.hremployee')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notification_preferences', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'notifications_preference',
            },
        ),
        migrations.CreateModel(
            name='NotificationTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('template_type', models.CharField(choices=[('APPROVAL_REQUEST', 'Approval Request'), ('APPROVAL_APPROVED', 'Approval Approved'), ('APPROVAL_REJECTED', 'Approval Rejected'), ('JOB_CREATED', 'Job Created'), ('JOB_COMPLETED', 'Job Completed'), ('STAGE_COMPLETED', 'Stage Completed'), ('VALIDATION_FAILED', 'Validation Failed'), ('LOW_STOCK', 'Low Stock Alert'), ('OUT_OF_STOCK', 'Out of Stock Alert'), ('CUTTER_SUBSTITUTION', 'Cutter Substitution'), ('QC_REQUIRED', 'QC Required'), ('NDT_REQUIRED', 'NDT Required'), ('REWORK_REQUIRED', 'Rework Required'), ('CUSTOM', 'Custom Message')], max_length=50)),
                ('name', models.CharField(help_text='Template name', max_length=200)),
                ('whatsapp_template', models.TextField(blank=True, help_text='WhatsApp message template')),
                ('email_subject', models.CharField(blank=True, help_text='Email subject line', max_length=200)),
                ('email_template', models.TextField(blank=True, help_text='Email body template (supports HTML)')),
                ('sms_template', models.TextField(blank=True, help_text='SMS template (160 chars recommended)')),
                ('push_title', models.CharField(blank=True, help_text='Push notification title', max_length=100)),
                ('push_body', models.TextField(blank=True, help_text='Push notification body')),
                ('in_app_title', models.CharField(blank=True, help_text='In-app notification title', max_length=200)),
                ('in_app_message', models.TextField(blank=True, help_text='In-app notification message')),
                ('available_variables', models.JSONField(default=list, help_text='List of available template variables')),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'notifications_template',
            },
        ),
        migrations.AddField(
            model_name='notification',
            name='template',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='floor_app.notificationtemplate'),
        ),
        migrations.CreateModel(
            name='PageFeaturePreference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('page_identifier', models.CharField(help_text="Unique identifier for the page (e.g., 'dashboard', 'employee_detail')", max_length=100)),
                ('visible_features', models.JSONField(default=list, help_text='List of visible feature/widget identifiers')),
                ('hidden_features', models.JSONField(blank=True, default=list, help_text='List of hidden feature/widget identifiers')),
                ('feature_configs', models.JSONField(blank=True, default=dict, help_text='Configuration for each feature {feature_id: {config}}')),
                ('layout_config', models.JSONField(blank=True, default=dict, help_text='Page layout configuration (grid positions, sizes, etc.)')),
                ('widget_settings', models.JSONField(blank=True, default=dict, help_text='Widget-specific settings {widget_id: {settings}}')),
                ('pinned_actions', models.JSONField(blank=True, default=list, help_text='Pinned quick actions for this page')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(help_text='User who owns these preferences', on_delete=django.db.models.deletion.CASCADE, related_name='page_preferences', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Page Feature Preference',
                'verbose_name_plural': 'Page Feature Preferences',
                'db_table': 'page_feature_preferences',
                'ordering': ['user__username', 'page_identifier'],
            },
        ),
        migrations.CreateModel(
            name='QRBatch',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('batch_number', models.CharField(help_text='Batch number for tracking', max_length=50, unique=True)),
                ('qr_type', models.CharField(choices=[('CUTTER', 'Cutter (Serial Unit)'), ('BIT', 'PDC Bit (Finished Product)'), ('LOCATION', 'Storage Location'), ('EMPLOYEE', 'Employee ID Badge'), ('JOB_CARD', 'Job Card / Work Order'), ('DELIVERY', 'Delivery / Shipment'), ('PACKAGE', 'Package / Container'), ('EQUIPMENT', 'Equipment / Tool'), ('BOM', 'Bill of Materials'), ('CUSTOM', 'Custom')], max_length=20)),
                ('quantity', models.PositiveIntegerField(help_text='Number of QR codes in this batch')),
                ('generated_count', models.PositiveIntegerField(default=0, help_text='Number of QR codes actually generated')),
                ('purpose', models.TextField(blank=True, help_text='Purpose of this batch')),
                ('is_complete', models.BooleanField(default=False, help_text='Has batch generation completed?')),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('is_printed', models.BooleanField(default=False, help_text='Has this batch been printed?')),
                ('printed_at', models.DateTimeField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'QR Batches',
                'db_table': 'qr_codes_batch',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='QRCode',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('code', models.CharField(db_index=True, help_text='The QR code value (unique identifier)', max_length=200, unique=True)),
                ('qr_type', models.CharField(choices=[('CUTTER', 'Cutter (Serial Unit)'), ('BIT', 'PDC Bit (Finished Product)'), ('LOCATION', 'Storage Location'), ('EMPLOYEE', 'Employee ID Badge'), ('JOB_CARD', 'Job Card / Work Order'), ('DELIVERY', 'Delivery / Shipment'), ('PACKAGE', 'Package / Container'), ('EQUIPMENT', 'Equipment / Tool'), ('BOM', 'Bill of Materials'), ('CUSTOM', 'Custom')], db_index=True, max_length=20)),
                ('object_id', models.PositiveIntegerField()),
                ('qr_image', models.ImageField(blank=True, help_text='Generated QR code image', null=True, upload_to='qr_codes/%Y/%m/')),
                ('qr_size', models.PositiveIntegerField(default=300, help_text='QR code image size in pixels')),
                ('title', models.CharField(blank=True, help_text='Human-readable title for this QR code', max_length=200)),
                ('description', models.TextField(blank=True, help_text='Description of what this QR code is for')),
                ('scan_count', models.PositiveIntegerField(default=0, help_text='Total number of scans')),
                ('last_scanned_at', models.DateTimeField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Is this QR code active?')),
                ('expires_at', models.DateTimeField(blank=True, help_text='Expiry date (optional, for time-limited QR codes)', null=True)),
                ('deactivated_at', models.DateTimeField(blank=True, null=True)),
                ('deactivation_reason', models.TextField(blank=True)),
                ('version', models.PositiveIntegerField(default=1, help_text='QR code version (increments on regeneration)')),
                ('print_count', models.PositiveIntegerField(default=0, help_text='Number of times this QR code has been printed')),
                ('last_printed_at', models.DateTimeField(blank=True, null=True)),
                ('content_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('last_scanned_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='last_scanned_qr_codes', to=settings.AUTH_USER_MODEL)),
                ('previous_version', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='next_versions', to='floor_app.qrcode')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'qr_codes_qrcode',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='QRCodePrintJob',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('print_format', models.CharField(choices=[('LABEL_SMALL', 'Small Label (40mm x 40mm)'), ('LABEL_MEDIUM', 'Medium Label (70mm x 70mm)'), ('LABEL_LARGE', 'Large Label (100mm x 100mm)'), ('SHEET_A4', 'A4 Sheet (multiple QR codes)'), ('SHEET_LETTER', 'Letter Sheet (multiple QR codes)'), ('BADGE', 'ID Badge Format'), ('CUSTOM', 'Custom Format')], max_length=20)),
                ('copies', models.PositiveIntegerField(default=1, help_text='Number of copies printed')),
                ('printed_at', models.DateTimeField(auto_now_add=True)),
                ('purpose', models.TextField(blank=True, help_text='Why these QR codes were printed')),
                ('pdf_file', models.FileField(blank=True, help_text='Generated PDF file', null=True, upload_to='qr_prints/%Y/%m/')),
                ('batch', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='print_jobs', to='floor_app.qrbatch')),
                ('printed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('qr_codes', models.ManyToManyField(related_name='print_jobs', to='floor_app.qrcode')),
            ],
            options={
                'db_table': 'qr_codes_printjob',
                'ordering': ['-printed_at'],
            },
        ),
        migrations.CreateModel(
            name='QRScanLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('scanned_at', models.DateTimeField(auto_now_add=True)),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, help_text='GPS latitude', max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, help_text='GPS longitude', max_digits=9, null=True)),
                ('gps_accuracy_meters', models.FloatField(blank=True, help_text='GPS accuracy in meters', null=True)),
                ('location_address', models.CharField(blank=True, help_text='Reverse-geocoded address', max_length=500)),
                ('scan_context', models.CharField(choices=[('RECEIVING', 'Receiving / Incoming Inspection'), ('PRODUCTION', 'Production / Assembly'), ('QC', 'Quality Control'), ('NDT', 'NDT Inspection'), ('REWORK', 'Rework'), ('SHIPPING', 'Shipping / Outgoing'), ('INVENTORY_CHECK', 'Inventory Stock Check'), ('LOCATION_VERIFY', 'Location Verification'), ('EMPLOYEE_CHECKIN', 'Employee Check-in'), ('DELIVERY', 'Delivery Confirmation'), ('TRANSFER', 'Stock Transfer'), ('INFO', 'Information Lookup'), ('OTHER', 'Other')], default='INFO', max_length=30)),
                ('device_info', models.JSONField(default=dict, help_text='Device information (model, OS, app version, etc.)')),
                ('metadata', models.JSONField(default=dict, help_text='Additional scan metadata')),
                ('notes', models.TextField(blank=True, help_text='Optional notes about this scan')),
                ('action_taken', models.CharField(blank=True, help_text="What action was taken after scanning (e.g., 'Added to map cell', 'Verified location')", max_length=100)),
                ('qr_code', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='scan_logs', to='floor_app.qrcode')),
                ('scanned_by_employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='qr_scans', to='hr.hremployee')),
                ('scanned_by_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='qr_scans', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'qr_codes_scanlog',
                'ordering': ['-scanned_at'],
            },
        ),
        migrations.CreateModel(
            name='QuickFilter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('name', models.CharField(help_text='Name of the quick filter', max_length=100)),
                ('table_identifier', models.CharField(help_text='Table this filter applies to', max_length=100)),
                ('filter_config', models.JSONField(default=dict, help_text='Filter configuration')),
                ('icon', models.CharField(blank=True, help_text='Icon identifier for this filter', max_length=50)),
                ('color', models.CharField(blank=True, help_text='Color tag for this filter', max_length=20)),
                ('is_pinned', models.BooleanField(default=False, help_text='Pin to quick access bar')),
                ('usage_count', models.IntegerField(default=0, help_text='Number of times this filter has been used')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(help_text='User who owns this filter', on_delete=django.db.models.deletion.CASCADE, related_name='quick_filters', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Quick Filter',
                'verbose_name_plural': 'Quick Filters',
                'db_table': 'quick_filters',
                'ordering': ['user__username', '-is_pinned', '-usage_count'],
            },
        ),
        migrations.CreateModel(
            name='RecentActivity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('activity_type', models.CharField(choices=[('VIEW', 'Viewed Record'), ('EDIT', 'Edited Record'), ('CREATE', 'Created Record'), ('DELETE', 'Deleted Record'), ('SEARCH', 'Search Query'), ('REPORT', 'Generated Report'), ('EXPORT', 'Exported Data')], help_text='Type of activity', max_length=20)),
                ('entity_type', models.CharField(help_text='Type of entity (model name, page, etc.)', max_length=100)),
                ('entity_id', models.CharField(blank=True, help_text='ID of the entity (if applicable)', max_length=100)),
                ('entity_display', models.CharField(help_text='Display name/title of the entity', max_length=200)),
                ('url', models.CharField(blank=True, help_text='URL to access this entity', max_length=500)),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Additional metadata about the activity')),
                ('timestamp', models.DateTimeField(auto_now_add=True, help_text='When the activity occurred')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(help_text='User who performed the activity', on_delete=django.db.models.deletion.CASCADE, related_name='recent_activities', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Recent Activity',
                'verbose_name_plural': 'Recent Activities',
                'db_table': 'recent_activities',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='RetrievalMetric',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('period_type', models.CharField(choices=[('DAILY', 'Daily'), ('WEEKLY', 'Weekly'), ('MONTHLY', 'Monthly'), ('QUARTERLY', 'Quarterly'), ('YEARLY', 'Yearly')], help_text='Type of period', max_length=20)),
                ('period_start', models.DateField(help_text='Start of period')),
                ('period_end', models.DateField(help_text='End of period')),
                ('total_actions', models.PositiveIntegerField(default=0, help_text='Total actions performed by employee')),
                ('retrieval_requests', models.PositiveIntegerField(default=0, help_text='Number of retrieval requests')),
                ('auto_approved', models.PositiveIntegerField(default=0, help_text='Number of auto-approved retrievals')),
                ('manually_approved', models.PositiveIntegerField(default=0, help_text='Number of manually approved retrievals')),
                ('rejected', models.PositiveIntegerField(default=0, help_text='Number of rejected retrievals')),
                ('completed', models.PositiveIntegerField(default=0, help_text='Number of completed retrievals')),
                ('accuracy_rate', models.DecimalField(decimal_places=2, default=100.0, help_text='Accuracy rate (percentage)', max_digits=5)),
                ('average_time_to_request', models.DurationField(blank=True, help_text='Average time from action to retrieval request', null=True)),
                ('calculated_at', models.DateTimeField(auto_now_add=True, help_text='When metrics were calculated')),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('employee', models.ForeignKey(help_text='Employee being measured', on_delete=django.db.models.deletion.CASCADE, related_name='retrieval_metrics', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Retrieval Metric',
                'verbose_name_plural': 'Retrieval Metrics',
                'db_table': 'retrieval_metric',
                'ordering': ['-period_end', 'employee'],
            },
        ),
        migrations.CreateModel(
            name='RetrievalRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('object_id', models.PositiveIntegerField(help_text='ID of object to retrieve')),
                ('action_type', models.CharField(choices=[('DELETE', 'Delete Record'), ('EDIT', 'Edit/Revert Changes'), ('UNDO', 'Undo Action'), ('RESTORE', 'Restore Deleted Record')], default='UNDO', help_text='Type of retrieval action', max_length=20)),
                ('reason', models.TextField(help_text='Reason for retrieval request')),
                ('original_data', models.JSONField(blank=True, default=dict, help_text='Snapshot of original object data')),
                ('status', models.CharField(choices=[('PENDING', 'Pending Supervisor Approval'), ('AUTO_APPROVED', 'Auto-Approved (Within Time Window)'), ('APPROVED', 'Approved by Supervisor'), ('REJECTED', 'Rejected'), ('COMPLETED', 'Completed'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=20)),
                ('submitted_at', models.DateTimeField(auto_now_add=True, help_text='When the request was submitted')),
                ('approved_at', models.DateTimeField(blank=True, help_text='When the request was approved', null=True)),
                ('completed_at', models.DateTimeField(blank=True, help_text='When the retrieval was completed', null=True)),
                ('time_elapsed', models.DurationField(blank=True, help_text='Time elapsed from object creation to retrieval request', null=True)),
                ('has_dependent_processes', models.BooleanField(default=False, help_text='Whether dependent processes exist')),
                ('dependent_process_details', models.JSONField(blank=True, default=dict, help_text='Details of dependent processes')),
                ('supervisor_notified_at', models.DateTimeField(blank=True, help_text='When supervisor was notified', null=True)),
                ('notification_sent', models.BooleanField(default=False, help_text='Whether notification was sent to supervisor')),
                ('rejection_reason', models.TextField(blank=True, help_text='Reason for rejection if rejected')),
                ('rejected_at', models.DateTimeField(blank=True, help_text='When the request was rejected', null=True)),
                ('content_type', models.ForeignKey(help_text='Type of object to retrieve', on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(help_text='Employee requesting the retrieval', on_delete=django.db.models.deletion.CASCADE, related_name='retrieval_requests', to=settings.AUTH_USER_MODEL)),
                ('rejected_by', models.ForeignKey(blank=True, help_text='User who rejected the request', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='rejected_retrievals', to=settings.AUTH_USER_MODEL)),
                ('supervisor', models.ForeignKey(blank=True, help_text='Supervisor responsible for approval', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='retrieval_approvals', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Retrieval Request',
                'verbose_name_plural': 'Retrieval Requests',
                'db_table': 'retrieval_request',
                'ordering': ['-submitted_at'],
            },
        ),
        migrations.CreateModel(
            name='SavedConversion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('tool_type', models.CharField(choices=[('IMAGE_RESIZE', 'Image Resize'), ('IMAGE_COMPRESS', 'Image Compress'), ('IMAGE_FORMAT', 'Image Format Conversion'), ('IMAGE_CROP', 'Image Crop'), ('IMAGE_ROTATE', 'Image Rotate'), ('PDF_TO_WORD', 'PDF to Word'), ('WORD_TO_PDF', 'Word to PDF'), ('EXCEL_TO_CSV', 'Excel to CSV'), ('CSV_TO_EXCEL', 'CSV to Excel'), ('IMAGE_TO_PDF', 'Images to PDF'), ('PDF_MERGE', 'PDF Merge'), ('PDF_SPLIT', 'PDF Split'), ('PDF_COMPRESS', 'PDF Compress'), ('PDF_ROTATE', 'PDF Rotate'), ('PDF_EXTRACT', 'PDF Extract Pages'), ('TEXT_CASE', 'Text Case Conversion'), ('TEXT_FORMAT', 'Text Formatting'), ('TEXT_COUNT', 'Word/Character Count'), ('TEXT_DIFF', 'Text Difference'), ('TEXT_ENCODE', 'Text Encoding'), ('JSON_TO_XML', 'JSON to XML'), ('XML_TO_JSON', 'XML to JSON'), ('JSON_TO_CSV', 'JSON to CSV'), ('CSV_TO_JSON', 'CSV to JSON'), ('YAML_TO_JSON', 'YAML to JSON'), ('QR_CODE', 'QR Code Generator'), ('BARCODE', 'Barcode Generator'), ('UUID_GEN', 'UUID Generator'), ('PASSWORD_GEN', 'Password Generator'), ('HASH_GEN', 'Hash Generator'), ('DATE_CALC', 'Date Calculator'), ('TIME_CALC', 'Time Calculator'), ('BUSINESS_DAYS', 'Business Days Calculator'), ('AGE_CALC', 'Age Calculator'), ('UNIT_LENGTH', 'Length Converter'), ('UNIT_WEIGHT', 'Weight Converter'), ('UNIT_TEMP', 'Temperature Converter'), ('UNIT_CURRENCY', 'Currency Converter'), ('COLOR_CONV', 'Color Converter'), ('BASE_CONV', 'Number Base Converter')], max_length=30)),
                ('parameters', models.JSONField(default=dict, help_text='Saved conversion parameters')),
                ('use_count', models.PositiveIntegerField(default=0)),
                ('last_used_at', models.DateTimeField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='saved_conversions', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'utility_tools_saved_conversion',
                'ordering': ['-last_used_at', 'name'],
            },
        ),
        migrations.CreateModel(
            name='SavedView',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('name', models.CharField(help_text='Name of the saved view', max_length=100)),
                ('description', models.TextField(blank=True, help_text='Description of what this view shows')),
                ('scope', models.CharField(choices=[('PRIVATE', 'Private (Only Me)'), ('SHARED', 'Shared (Specific Users)'), ('TEAM', 'Team'), ('DEPARTMENT', 'Department'), ('PUBLIC', 'Public (All Users)')], default='PRIVATE', help_text='Sharing scope of this view', max_length=15)),
                ('table_identifier', models.CharField(blank=True, help_text='Table this view applies to (if applicable)', max_length=100)),
                ('page_identifier', models.CharField(blank=True, help_text='Page this view applies to (if applicable)', max_length=100)),
                ('view_config', models.JSONField(default=dict, help_text='Complete view configuration')),
                ('shared_with_teams', models.JSONField(blank=True, default=list, help_text='Team IDs this view is shared with')),
                ('shared_with_departments', models.JSONField(blank=True, default=list, help_text='Department IDs this view is shared with')),
                ('usage_count', models.IntegerField(default=0, help_text='Number of times this view has been used')),
                ('last_used', models.DateTimeField(blank=True, help_text='Last time this view was used', null=True)),
                ('is_system_view', models.BooleanField(default=False, help_text='System-provided view (cannot be deleted)')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('favorited_by', models.ManyToManyField(blank=True, help_text='Users who have favorited this view', related_name='favorite_views', to=settings.AUTH_USER_MODEL)),
                ('owner', models.ForeignKey(help_text='User who created this view', on_delete=django.db.models.deletion.CASCADE, related_name='owned_views', to=settings.AUTH_USER_MODEL)),
                ('shared_with_users', models.ManyToManyField(blank=True, help_text='Specific users this view is shared with', related_name='shared_views', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Saved View',
                'verbose_name_plural': 'Saved Views',
                'db_table': 'saved_views',
                'ordering': ['-usage_count', 'name'],
            },
        ),
        migrations.CreateModel(
            name='TableViewPreference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('table_identifier', models.CharField(help_text="Unique identifier for the table (e.g., 'employee_list', 'bom_grid')", max_length=100)),
                ('visible_columns', models.JSONField(default=list, help_text='List of visible column identifiers in order')),
                ('column_widths', models.JSONField(blank=True, default=dict, help_text='Custom column widths {column_id: width_px}')),
                ('frozen_columns', models.JSONField(blank=True, default=list, help_text='List of frozen/pinned column identifiers')),
                ('sort_by', models.JSONField(blank=True, default=list, help_text="Sorting configuration [{column: 'name', direction: 'asc'}]")),
                ('saved_filters', models.JSONField(blank=True, default=dict, help_text='Saved filter configurations')),
                ('active_filters', models.JSONField(blank=True, default=dict, help_text='Currently active filters')),
                ('page_size', models.IntegerField(blank=True, help_text='Custom page size for this table (overrides default)', null=True, validators=[django.core.validators.MinValueValidator(5), django.core.validators.MaxValueValidator(100)])),
                ('group_by', models.JSONField(blank=True, default=list, help_text='Grouping configuration [column_ids]')),
                ('show_totals', models.BooleanField(default=False, help_text='Show totals row')),
                ('show_filters_row', models.BooleanField(default=False, help_text='Show filters in header row')),
                ('enable_quick_filters', models.BooleanField(default=True, help_text='Enable quick filter chips')),
                ('view_name', models.CharField(blank=True, help_text='Custom name for this view configuration', max_length=100)),
                ('is_default', models.BooleanField(default=False, help_text='Use as default view for this table')),
                ('is_shared', models.BooleanField(default=False, help_text='Share this view with other users')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(help_text='User who owns these preferences', on_delete=django.db.models.deletion.CASCADE, related_name='table_preferences', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Table View Preference',
                'verbose_name_plural': 'Table View Preferences',
                'db_table': 'table_view_preferences',
                'ordering': ['user__username', 'table_identifier'],
            },
        ),
        migrations.CreateModel(
            name='ToolPreset',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('tool_type', models.CharField(choices=[('IMAGE_RESIZE', 'Image Resize'), ('IMAGE_COMPRESS', 'Image Compress'), ('IMAGE_FORMAT', 'Image Format Conversion'), ('IMAGE_CROP', 'Image Crop'), ('IMAGE_ROTATE', 'Image Rotate'), ('PDF_TO_WORD', 'PDF to Word'), ('WORD_TO_PDF', 'Word to PDF'), ('EXCEL_TO_CSV', 'Excel to CSV'), ('CSV_TO_EXCEL', 'CSV to Excel'), ('IMAGE_TO_PDF', 'Images to PDF'), ('PDF_MERGE', 'PDF Merge'), ('PDF_SPLIT', 'PDF Split'), ('PDF_COMPRESS', 'PDF Compress'), ('PDF_ROTATE', 'PDF Rotate'), ('PDF_EXTRACT', 'PDF Extract Pages'), ('TEXT_CASE', 'Text Case Conversion'), ('TEXT_FORMAT', 'Text Formatting'), ('TEXT_COUNT', 'Word/Character Count'), ('TEXT_DIFF', 'Text Difference'), ('TEXT_ENCODE', 'Text Encoding'), ('JSON_TO_XML', 'JSON to XML'), ('XML_TO_JSON', 'XML to JSON'), ('JSON_TO_CSV', 'JSON to CSV'), ('CSV_TO_JSON', 'CSV to JSON'), ('YAML_TO_JSON', 'YAML to JSON'), ('QR_CODE', 'QR Code Generator'), ('BARCODE', 'Barcode Generator'), ('UUID_GEN', 'UUID Generator'), ('PASSWORD_GEN', 'Password Generator'), ('HASH_GEN', 'Hash Generator'), ('DATE_CALC', 'Date Calculator'), ('TIME_CALC', 'Time Calculator'), ('BUSINESS_DAYS', 'Business Days Calculator'), ('AGE_CALC', 'Age Calculator'), ('UNIT_LENGTH', 'Length Converter'), ('UNIT_WEIGHT', 'Weight Converter'), ('UNIT_TEMP', 'Temperature Converter'), ('UNIT_CURRENCY', 'Currency Converter'), ('COLOR_CONV', 'Color Converter'), ('BASE_CONV', 'Number Base Converter')], max_length=30)),
                ('parameters', models.JSONField(default=dict, help_text='Preset parameters')),
                ('is_system_preset', models.BooleanField(default=False, help_text='System preset (available to all users)')),
                ('display_order', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='tool_presets', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'utility_tools_preset',
                'ordering': ['display_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='ToolUsageLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('tool_category', models.CharField(choices=[('IMAGE', 'Image Tools'), ('FILE', 'File Conversion'), ('PDF', 'PDF Tools'), ('TEXT', 'Text Tools'), ('DATA', 'Data Conversion'), ('CODE', 'Code Generation'), ('CALCULATOR', 'Calculators'), ('CONVERTER', 'Unit Converters')], max_length=20)),
                ('tool_type', models.CharField(choices=[('IMAGE_RESIZE', 'Image Resize'), ('IMAGE_COMPRESS', 'Image Compress'), ('IMAGE_FORMAT', 'Image Format Conversion'), ('IMAGE_CROP', 'Image Crop'), ('IMAGE_ROTATE', 'Image Rotate'), ('PDF_TO_WORD', 'PDF to Word'), ('WORD_TO_PDF', 'Word to PDF'), ('EXCEL_TO_CSV', 'Excel to CSV'), ('CSV_TO_EXCEL', 'CSV to Excel'), ('IMAGE_TO_PDF', 'Images to PDF'), ('PDF_MERGE', 'PDF Merge'), ('PDF_SPLIT', 'PDF Split'), ('PDF_COMPRESS', 'PDF Compress'), ('PDF_ROTATE', 'PDF Rotate'), ('PDF_EXTRACT', 'PDF Extract Pages'), ('TEXT_CASE', 'Text Case Conversion'), ('TEXT_FORMAT', 'Text Formatting'), ('TEXT_COUNT', 'Word/Character Count'), ('TEXT_DIFF', 'Text Difference'), ('TEXT_ENCODE', 'Text Encoding'), ('JSON_TO_XML', 'JSON to XML'), ('XML_TO_JSON', 'XML to JSON'), ('JSON_TO_CSV', 'JSON to CSV'), ('CSV_TO_JSON', 'CSV to JSON'), ('YAML_TO_JSON', 'YAML to JSON'), ('QR_CODE', 'QR Code Generator'), ('BARCODE', 'Barcode Generator'), ('UUID_GEN', 'UUID Generator'), ('PASSWORD_GEN', 'Password Generator'), ('HASH_GEN', 'Hash Generator'), ('DATE_CALC', 'Date Calculator'), ('TIME_CALC', 'Time Calculator'), ('BUSINESS_DAYS', 'Business Days Calculator'), ('AGE_CALC', 'Age Calculator'), ('UNIT_LENGTH', 'Length Converter'), ('UNIT_WEIGHT', 'Weight Converter'), ('UNIT_TEMP', 'Temperature Converter'), ('UNIT_CURRENCY', 'Currency Converter'), ('COLOR_CONV', 'Color Converter'), ('BASE_CONV', 'Number Base Converter')], db_index=True, max_length=30)),
                ('input_size_bytes', models.BigIntegerField(blank=True, null=True)),
                ('output_size_bytes', models.BigIntegerField(blank=True, null=True)),
                ('processing_time_ms', models.IntegerField(blank=True, null=True)),
                ('success', models.BooleanField(default=True)),
                ('error_message', models.TextField(blank=True)),
                ('parameters', models.JSONField(default=dict, help_text='Tool parameters used')),
                ('metadata', models.JSONField(default=dict, help_text='Additional metadata')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tool_usage_logs', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'utility_tools_usage_log',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='UserPreference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('theme', models.CharField(choices=[('LIGHT', 'Light Theme'), ('DARK', 'Dark Theme'), ('AUTO', 'Auto (System)')], default='LIGHT', help_text='UI theme preference', max_length=10)),
                ('language', models.CharField(choices=[('en', 'English'), ('ar', 'Arabic')], default='en', help_text='Preferred language', max_length=5)),
                ('density', models.CharField(choices=[('COMPACT', 'Compact'), ('COMFORTABLE', 'Comfortable'), ('SPACIOUS', 'Spacious')], default='COMFORTABLE', help_text='UI density/spacing', max_length=15)),
                ('dashboard_layout', models.JSONField(blank=True, default=dict, help_text='Custom dashboard widget layout configuration')),
                ('default_dashboard', models.CharField(blank=True, help_text='Default dashboard to show on login', max_length=100)),
                ('enable_email_notifications', models.BooleanField(default=True, help_text='Receive email notifications')),
                ('enable_push_notifications', models.BooleanField(default=True, help_text='Receive push notifications')),
                ('enable_sound', models.BooleanField(default=True, help_text='Play notification sounds')),
                ('notification_position', models.CharField(choices=[('TOP_RIGHT', 'Top Right'), ('TOP_LEFT', 'Top Left'), ('BOTTOM_RIGHT', 'Bottom Right'), ('BOTTOM_LEFT', 'Bottom Left')], default='TOP_RIGHT', help_text='Position of notification popups', max_length=20)),
                ('default_page_size', models.IntegerField(default=25, help_text='Default number of rows per page in tables', validators=[django.core.validators.MinValueValidator(5), django.core.validators.MaxValueValidator(100)])),
                ('enable_row_numbers', models.BooleanField(default=True, help_text='Show row numbers in tables')),
                ('enable_zebra_striping', models.BooleanField(default=True, help_text='Alternate row colors in tables')),
                ('enable_hover_highlight', models.BooleanField(default=True, help_text='Highlight rows on hover')),
                ('date_format', models.CharField(choices=[('YYYY-MM-DD', 'YYYY-MM-DD (2025-01-18)'), ('DD-MM-YYYY', 'DD-MM-YYYY (18-01-2025)'), ('MM-DD-YYYY', 'MM-DD-YYYY (01-18-2025)'), ('DD/MM/YYYY', 'DD/MM/YYYY (18/01/2025)'), ('MM/DD/YYYY', 'MM/DD/YYYY (01/18/2025)')], default='YYYY-MM-DD', help_text='Preferred date format', max_length=20)),
                ('time_format', models.CharField(choices=[('24H', '24 Hour (13:00)'), ('12H', '12 Hour (1:00 PM)')], default='24H', help_text='Preferred time format', max_length=10)),
                ('timezone', models.CharField(default='UTC', help_text="User's timezone", max_length=50)),
                ('auto_save_forms', models.BooleanField(default=True, help_text='Automatically save form drafts')),
                ('confirm_before_delete', models.BooleanField(default=True, help_text='Show confirmation dialog before deleting')),
                ('show_tooltips', models.BooleanField(default=True, help_text='Show helpful tooltips')),
                ('custom_settings', models.JSONField(blank=True, default=dict, help_text='Additional custom settings')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(help_text='User who owns these preferences', on_delete=django.db.models.deletion.CASCADE, related_name='floor_preferences', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User Preference',
                'verbose_name_plural': 'User Preferences',
                'db_table': 'user_preferences',
                'ordering': ['user__username'],
            },
        ),
        migrations.CreateModel(
            name='UserShortcut',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True)),
                ('remarks', models.CharField(blank=True, default='', max_length=255)),
                ('name', models.CharField(help_text='Name of the shortcut', max_length=100)),
                ('description', models.TextField(blank=True, help_text='Description of what this shortcut does')),
                ('key_combination', models.CharField(help_text="Keyboard shortcut (e.g., 'Ctrl+Shift+N')", max_length=50)),
                ('action_type', models.CharField(choices=[('NAVIGATE', 'Navigate to Page'), ('OPEN_MODAL', 'Open Modal/Dialog'), ('EXECUTE_FUNCTION', 'Execute Function'), ('FILTER', 'Apply Filter'), ('SEARCH', 'Quick Search'), ('CREATE', 'Create New Record')], help_text='Type of action to perform', max_length=50)),
                ('action_config', models.JSONField(default=dict, help_text='Configuration for the action')),
                ('is_active', models.BooleanField(default=True, help_text='Enable/disable this shortcut')),
                ('scope', models.CharField(default='GLOBAL', help_text='Where this shortcut is active (GLOBAL, page_identifier, etc.)', max_length=50)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(help_text='User who owns this shortcut', on_delete=django.db.models.deletion.CASCADE, related_name='shortcuts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User Shortcut',
                'verbose_name_plural': 'User Shortcuts',
                'db_table': 'user_shortcuts',
                'ordering': ['user__username', 'name'],
            },
        ),
        migrations.AddIndex(
            model_name='announcement',
            index=models.Index(fields=['-is_pinned', '-publish_at'], name='notificatio_is_pinn_be64f0_idx'),
        ),
        migrations.AddIndex(
            model_name='announcement',
            index=models.Index(fields=['status', '-publish_at'], name='notificatio_status_1a25bc_idx'),
        ),
        migrations.AddIndex(
            model_name='announcement',
            index=models.Index(fields=['target_type'], name='notificatio_target__a02755_idx'),
        ),
        migrations.AddIndex(
            model_name='announcementread',
            index=models.Index(fields=['announcement', 'read_at'], name='notificatio_announc_12f17c_idx'),
        ),
        migrations.AddIndex(
            model_name='announcementread',
            index=models.Index(fields=['user', 'read_at'], name='notificatio_user_id_60afce_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='announcementread',
            unique_together={('announcement', 'user')},
        ),
        migrations.AddIndex(
            model_name='approvaldelegation',
            index=models.Index(fields=['delegator', 'is_active'], name='approvals_d_delegat_49b787_idx'),
        ),
        migrations.AddIndex(
            model_name='approvaldelegation',
            index=models.Index(fields=['delegate', 'is_active'], name='approvals_d_delegat_ed8dfd_idx'),
        ),
        migrations.AddIndex(
            model_name='approvaldelegation',
            index=models.Index(fields=['start_date', 'end_date'], name='approvals_d_start_d_e1998d_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalstep',
            index=models.Index(fields=['request', 'status'], name='approvals_s_request_fbf117_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalstep',
            index=models.Index(fields=['approver', 'status', '-created_at'], name='approvals_s_approve_0e366b_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalstep',
            index=models.Index(fields=['level'], name='approvals_s_level_i_3b2f77_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalhistory',
            index=models.Index(fields=['request', '-action_at'], name='approvals_h_request_6a0e2a_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalhistory',
            index=models.Index(fields=['action_type', '-action_at'], name='approvals_h_action__8e7e8d_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalrequest',
            index=models.Index(fields=['status', '-created_at'], name='approvals_r_status_c89aaa_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalrequest',
            index=models.Index(fields=['workflow', 'status'], name='approvals_r_workflo_3ed302_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalrequest',
            index=models.Index(fields=['requester', '-created_at'], name='approvals_r_request_13f37b_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalrequest',
            index=models.Index(fields=['content_type', 'object_id'], name='approvals_r_content_0149e0_idx'),
        ),
        migrations.AddIndex(
            model_name='approvalrequest',
            index=models.Index(fields=['-submitted_at'], name='approvals_r_submitt_2e1778_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='approvallevel',
            unique_together={('workflow', 'level_number')},
        ),
        migrations.AddIndex(
            model_name='employeedevice',
            index=models.Index(fields=['employee', 'is_active'], name='device_trac_employe_d39b31_idx'),
        ),
        migrations.AddIndex(
            model_name='employeedevice',
            index=models.Index(fields=['user', 'is_active'], name='device_trac_user_id_436a70_idx'),
        ),
        migrations.AddIndex(
            model_name='employeedevice',
            index=models.Index(fields=['-last_seen_at'], name='device_trac_last_se_ab5dfa_idx'),
        ),
        migrations.AddIndex(
            model_name='employeedevice',
            index=models.Index(fields=['is_primary_device', 'is_active'], name='device_trac_is_prim_d02544_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeactivity',
            index=models.Index(fields=['employee', '-activity_at'], name='device_trac_employe_8e5716_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeactivity',
            index=models.Index(fields=['device', '-activity_at'], name='device_trac_device__ccdcd2_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeactivity',
            index=models.Index(fields=['activity_type', '-activity_at'], name='device_trac_activit_d40db6_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeactivity',
            index=models.Index(fields=['-activity_at'], name='device_trac_activit_6729c2_idx'),
        ),
        migrations.AddIndex(
            model_name='devicesession',
            index=models.Index(fields=['device', 'is_active'], name='device_trac_device__9f6349_idx'),
        ),
        migrations.AddIndex(
            model_name='devicesession',
            index=models.Index(fields=['employee', 'is_active'], name='device_trac_employe_4b7323_idx'),
        ),
        migrations.AddIndex(
            model_name='devicesession',
            index=models.Index(fields=['-started_at'], name='device_trac_started_50e3c0_idx'),
        ),
        migrations.AddIndex(
            model_name='employeepresence',
            index=models.Index(fields=['employee', '-date'], name='device_trac_employe_f6e737_idx'),
        ),
        migrations.AddIndex(
            model_name='employeepresence',
            index=models.Index(fields=['date', 'status'], name='device_trac_date_0d25a5_idx'),
        ),
        migrations.AddIndex(
            model_name='employeepresence',
            index=models.Index(fields=['is_verified'], name='device_trac_is_veri_47e541_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='employeepresence',
            unique_together={('employee', 'date')},
        ),
        migrations.AddIndex(
            model_name='gpstrackinglog',
            index=models.Index(fields=['tracked_user', '-recorded_at'], name='gps_trackin_tracked_7d5f9c_idx'),
        ),
        migrations.AddIndex(
            model_name='gpstrackinglog',
            index=models.Index(fields=['tracked_employee', '-recorded_at'], name='gps_trackin_tracked_e881c2_idx'),
        ),
        migrations.AddIndex(
            model_name='gpstrackinglog',
            index=models.Index(fields=['content_type', 'object_id', '-recorded_at'], name='gps_trackin_content_bd1853_idx'),
        ),
        migrations.AddIndex(
            model_name='gpstrackinglog',
            index=models.Index(fields=['-recorded_at'], name='gps_trackin_recorde_9cb1a1_idx'),
        ),
        migrations.AddIndex(
            model_name='locationverification',
            index=models.Index(fields=['verification_type', '-created_at'], name='gps_locatio_verific_5be0c3_idx'),
        ),
        migrations.AddIndex(
            model_name='locationverification',
            index=models.Index(fields=['status', '-created_at'], name='gps_locatio_status_998569_idx'),
        ),
        migrations.AddIndex(
            model_name='locationverification',
            index=models.Index(fields=['content_type', 'object_id'], name='gps_locatio_content_39db21_idx'),
        ),
        migrations.AddIndex(
            model_name='locationverification',
            index=models.Index(fields=['-verified_at'], name='gps_locatio_verifie_c8a524_idx'),
        ),
        migrations.AddIndex(
            model_name='notificationdelivery',
            index=models.Index(fields=['status', 'sent_at'], name='notificatio_status_8daba1_idx'),
        ),
        migrations.AddIndex(
            model_name='notificationdelivery',
            index=models.Index(fields=['channel', 'status'], name='notificatio_channel_c974b1_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='notificationdelivery',
            unique_together={('notification', 'channel')},
        ),
        migrations.AlterUniqueTogether(
            name='notificationpreference',
            unique_together={('user', 'employee')},
        ),
        migrations.AddIndex(
            model_name='notificationtemplate',
            index=models.Index(fields=['template_type', 'is_active'], name='notificatio_templat_8c1633_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='notificationtemplate',
            unique_together={('template_type', 'name')},
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['recipient_user', 'status', '-created_at'], name='notificatio_recipie_86d650_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['recipient_employee', 'status', '-created_at'], name='notificatio_recipie_f2292c_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['priority', 'status'], name='notificatio_priorit_27f109_idx'),
        ),
        migrations.AddIndex(
            model_name='notification',
            index=models.Index(fields=['content_type', 'object_id'], name='notificatio_content_702c56_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='pagefeaturepreference',
            unique_together={('user', 'page_identifier')},
        ),
        migrations.AddIndex(
            model_name='qrcode',
            index=models.Index(fields=['qr_type', 'is_active'], name='qr_codes_qr_qr_type_113baf_idx'),
        ),
        migrations.AddIndex(
            model_name='qrcode',
            index=models.Index(fields=['content_type', 'object_id'], name='qr_codes_qr_content_3eeb05_idx'),
        ),
        migrations.AddIndex(
            model_name='qrcode',
            index=models.Index(fields=['-last_scanned_at'], name='qr_codes_qr_last_sc_345f7b_idx'),
        ),
        migrations.AddIndex(
            model_name='qrscanlog',
            index=models.Index(fields=['qr_code', '-scanned_at'], name='qr_codes_sc_qr_code_c3f2c4_idx'),
        ),
        migrations.AddIndex(
            model_name='qrscanlog',
            index=models.Index(fields=['scanned_by_user', '-scanned_at'], name='qr_codes_sc_scanned_72b27d_idx'),
        ),
        migrations.AddIndex(
            model_name='qrscanlog',
            index=models.Index(fields=['scanned_by_employee', '-scanned_at'], name='qr_codes_sc_scanned_5c177c_idx'),
        ),
        migrations.AddIndex(
            model_name='qrscanlog',
            index=models.Index(fields=['scan_context', '-scanned_at'], name='qr_codes_sc_scan_co_de1d4b_idx'),
        ),
        migrations.AddIndex(
            model_name='qrscanlog',
            index=models.Index(fields=['-scanned_at'], name='qr_codes_sc_scanned_46095b_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='quickfilter',
            unique_together={('user', 'table_identifier', 'name')},
        ),
        migrations.AddIndex(
            model_name='recentactivity',
            index=models.Index(fields=['user', '-timestamp'], name='recent_acti_user_id_3e59a2_idx'),
        ),
        migrations.AddIndex(
            model_name='recentactivity',
            index=models.Index(fields=['user', 'entity_type', '-timestamp'], name='recent_acti_user_id_65ee4a_idx'),
        ),
        migrations.AddIndex(
            model_name='retrievalmetric',
            index=models.Index(fields=['employee', 'period_type', '-period_end'], name='retrieval_m_employe_16a4c4_idx'),
        ),
        migrations.AddIndex(
            model_name='retrievalmetric',
            index=models.Index(fields=['period_type', '-period_end'], name='retrieval_m_period__a5b730_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='retrievalmetric',
            unique_together={('employee', 'period_type', 'period_start', 'period_end')},
        ),
        migrations.AddIndex(
            model_name='retrievalrequest',
            index=models.Index(fields=['employee', 'status'], name='retrieval_r_employe_7b617b_idx'),
        ),
        migrations.AddIndex(
            model_name='retrievalrequest',
            index=models.Index(fields=['supervisor', 'status'], name='retrieval_r_supervi_05ace1_idx'),
        ),
        migrations.AddIndex(
            model_name='retrievalrequest',
            index=models.Index(fields=['content_type', 'object_id'], name='retrieval_r_content_f3b4ae_idx'),
        ),
        migrations.AddIndex(
            model_name='retrievalrequest',
            index=models.Index(fields=['status', '-submitted_at'], name='retrieval_r_status_b5f577_idx'),
        ),
        migrations.AddIndex(
            model_name='retrievalrequest',
            index=models.Index(fields=['-submitted_at'], name='retrieval_r_submitt_0ba38e_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='savedconversion',
            unique_together={('user', 'name')},
        ),
        migrations.AlterUniqueTogether(
            name='tableviewpreference',
            unique_together={('user', 'table_identifier', 'view_name')},
        ),
        migrations.AddIndex(
            model_name='toolusagelog',
            index=models.Index(fields=['user', '-created_at'], name='utility_too_user_id_f588b8_idx'),
        ),
        migrations.AddIndex(
            model_name='toolusagelog',
            index=models.Index(fields=['tool_type', '-created_at'], name='utility_too_tool_ty_069e58_idx'),
        ),
        migrations.AddIndex(
            model_name='toolusagelog',
            index=models.Index(fields=['-created_at'], name='utility_too_created_9db7a9_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='usershortcut',
            unique_together={('user', 'key_combination', 'scope')},
        ),
    ]
